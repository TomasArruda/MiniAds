  [1m[36m (44.0ms)[0m  [1mCREATE DATABASE `MiniAds_test` DEFAULT CHARACTER SET `utf8` COLLATE `utf8_unicode_ci`[0m
  [1m[36m (240.1ms)[0m  [1mCREATE TABLE `ads` (`id` int(11) auto_increment PRIMARY KEY, `budget` float(24), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (91.6ms)[0m  CREATE TABLE `creatives` (`id` int(11) auto_increment PRIMARY KEY, `bid` float(24), `adText` varchar(255), `ad_id` int(11), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB
  [1m[36m (84.8ms)[0m  [1mCREATE  INDEX `index_creatives_on_ad_id` USING btree ON `creatives` (`ad_id`) [0m
  [1m[35m (51.1ms)[0m  CREATE TABLE `places` (`id` int(11) auto_increment PRIMARY KEY, `place` varchar(255), `targeting_id` int(11), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB
  [1m[36m (50.4ms)[0m  [1mCREATE  INDEX `index_places_on_targeting_id` USING btree ON `places` (`targeting_id`) [0m
  [1m[35m (65.4ms)[0m  CREATE TABLE `targetings` (`id` int(11) auto_increment PRIMARY KEY, `gender` varchar(255), `ad_id` int(11), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB
  [1m[36m (59.4ms)[0m  [1mCREATE  INDEX `index_targetings_on_ad_id` USING btree ON `targetings` (`ad_id`) [0m
  [1m[35m (133.8ms)[0m  ALTER TABLE `creatives` ADD CONSTRAINT `fk_rails_082c865900`
FOREIGN KEY (`ad_id`)
  REFERENCES `ads` (`id`)

  [1m[36m (92.0ms)[0m  [1mALTER TABLE `places` ADD CONSTRAINT `fk_rails_c026ee372d`
FOREIGN KEY (`targeting_id`)
  REFERENCES `targetings` (`id`)
[0m
  [1m[35m (62.2ms)[0m  ALTER TABLE `targetings` ADD CONSTRAINT `fk_rails_dcece48daa`
FOREIGN KEY (`ad_id`)
  REFERENCES `ads` (`id`)

  [1m[36m (42.6ms)[0m  [1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (50.9ms)[0m  CREATE UNIQUE INDEX `unique_schema_migrations`  ON `schema_migrations` (`version`) 
  [1m[36m (0.5ms)[0m  [1mSELECT version FROM `schema_migrations`[0m
  [1m[35m (2.7ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20160619224332')
  [1m[36m (2.2ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20160619224055')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20160619224212')
  [1m[36m (0.6ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20160619224317')[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (2.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (1.6ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (2.4ms)[0m  BEGIN
  [1m[36mFixture Delete (3.2ms)[0m  [1mDELETE FROM `ads`[0m
  [1m[35mFixture Insert (21.4ms)[0m  INSERT INTO `ads` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:19:53', '2016-06-21 14:19:53', 980190962)
  [1m[36mFixture Insert (0.8ms)[0m  [1mINSERT INTO `ads` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:19:53', '2016-06-21 14:19:53', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `creatives`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `creatives` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:19:53', '2016-06-21 14:19:53', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `creatives` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:19:53', '2016-06-21 14:19:53', 298486374)
  [1m[36mFixture Delete (4.0ms)[0m  [1mDELETE FROM `ffsfsdfs`[0m
  [1m[35m (4.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36mActiveRecord::SchemaMigration Load (3.0ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `ads`[0m
  [1m[35mFixture Insert (1.1ms)[0m  INSERT INTO `ads` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:20:23', '2016-06-21 14:20:23', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `ads` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:20:23', '2016-06-21 14:20:23', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `creatives`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `creatives` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:20:23', '2016-06-21 14:20:23', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `creatives` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:20:23', '2016-06-21 14:20:23', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `places`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `places` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:20:23', '2016-06-21 14:20:23', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `places` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:20:23', '2016-06-21 14:20:23', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `targetings`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `targetings` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:20:23', '2016-06-21 14:20:23', 980190962)[0m
  [1m[35mFixture Insert (1.1ms)[0m  INSERT INTO `targetings` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:20:23', '2016-06-21 14:20:23', 298486374)
  [1m[36mFixture Delete (2.0ms)[0m  [1mDELETE FROM `testes`[0m
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `ads`[0m
  [1m[35mFixture Insert (2.6ms)[0m  INSERT INTO `ads` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:20:50', '2016-06-21 14:20:50', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `ads` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:20:50', '2016-06-21 14:20:50', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `creatives`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `creatives` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:20:50', '2016-06-21 14:20:50', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `creatives` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:20:50', '2016-06-21 14:20:50', 298486374)
  [1m[36mFixture Delete (1.1ms)[0m  [1mDELETE FROM `places`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `places` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:20:50', '2016-06-21 14:20:50', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `places` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:20:50', '2016-06-21 14:20:50', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `targetings`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `targetings` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:20:50', '2016-06-21 14:20:50', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `targetings` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:20:50', '2016-06-21 14:20:50', 298486374)
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------
AdTest: test_the_truth
----------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (17.4ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (1.6ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (1.0ms)[0m  BEGIN
  [1m[36mFixture Delete (10.1ms)[0m  [1mDELETE FROM `ads`[0m
  [1m[35mFixture Insert (6.1ms)[0m  INSERT INTO `ads` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:28:10', '2016-06-21 14:28:10', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `ads` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:28:10', '2016-06-21 14:28:10', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `creatives`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `creatives` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:28:10', '2016-06-21 14:28:10', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `creatives` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:28:10', '2016-06-21 14:28:10', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `places`[0m
  [1m[35mFixture Insert (7.3ms)[0m  INSERT INTO `places` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:28:11', '2016-06-21 14:28:11', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `places` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:28:11', '2016-06-21 14:28:11', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `targetings`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `targetings` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:28:11', '2016-06-21 14:28:11', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `targetings` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:28:11', '2016-06-21 14:28:11', 298486374)
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------
AdTest: test_save_id_without_budget
-----------------------------------
  [1m[35m (9.7ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (1.9ms)[0m  [1mDELETE FROM `ads`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `ads` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:28:24', '2016-06-21 14:28:24', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `ads` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:28:24', '2016-06-21 14:28:24', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `creatives`
  [1m[36mFixture Insert (6.1ms)[0m  [1mINSERT INTO `creatives` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:28:24', '2016-06-21 14:28:24', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `creatives` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:28:24', '2016-06-21 14:28:24', 298486374)
  [1m[36mFixture Delete (2.8ms)[0m  [1mDELETE FROM `places`[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO `places` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:28:24', '2016-06-21 14:28:24', 980190962)
  [1m[36mFixture Insert (0.9ms)[0m  [1mINSERT INTO `places` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:28:24', '2016-06-21 14:28:24', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `targetings`
  [1m[36mFixture Insert (2.7ms)[0m  [1mINSERT INTO `targetings` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:28:24', '2016-06-21 14:28:24', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `targetings` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:28:24', '2016-06-21 14:28:24', 298486374)
  [1m[36m (1.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------
AdTest: test_save_id_without_budget
-----------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `ads`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `ads` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:28:48', '2016-06-21 14:28:48', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `ads` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:28:48', '2016-06-21 14:28:48', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `creatives`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `creatives` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:28:48', '2016-06-21 14:28:48', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `creatives` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:28:48', '2016-06-21 14:28:48', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `places`[0m
  [1m[35mFixture Insert (2.6ms)[0m  INSERT INTO `places` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:28:48', '2016-06-21 14:28:48', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `places` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:28:48', '2016-06-21 14:28:48', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `targetings`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `targetings` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:28:48', '2016-06-21 14:28:48', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `targetings` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:28:48', '2016-06-21 14:28:48', 298486374)
  [1m[36m (0.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
AdTest: test_save_id_without_budget
-----------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (15.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (6.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.9ms)[0m  BEGIN
  [1m[36mFixture Delete (9.6ms)[0m  [1mDELETE FROM `ads`[0m
  [1m[35mFixture Insert (4.5ms)[0m  INSERT INTO `ads` (`budget`, `created_at`, `updated_at`, `id`) VALUES (1234.0, '2016-06-21 14:36:05', '2016-06-21 14:36:05', 980190962)
  [1m[36mFixture Insert (2.6ms)[0m  [1mINSERT INTO `ads` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:36:05', '2016-06-21 14:36:05', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `creatives`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `creatives` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:36:05', '2016-06-21 14:36:05', 980190962)[0m
  [1m[35mFixture Insert (1.7ms)[0m  INSERT INTO `creatives` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:36:05', '2016-06-21 14:36:05', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `places`[0m
  [1m[35mFixture Insert (3.6ms)[0m  INSERT INTO `places` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:36:05', '2016-06-21 14:36:05', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `places` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:36:05', '2016-06-21 14:36:05', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `targetings`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `targetings` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:36:05', '2016-06-21 14:36:05', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `targetings` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:36:05', '2016-06-21 14:36:05', 298486374)
  [1m[36m (0.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------
AdTest: test_save_id_without_budget
-----------------------------------
  [1m[35m (1.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (6.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (3.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mFixture Delete (3.7ms)[0m  [1mDELETE FROM `ads`[0m
  [1m[35mFixture Insert (4.8ms)[0m  INSERT INTO `ads` (`budget`, `created_at`, `updated_at`, `id`) VALUES (1234.0, '2016-06-21 14:41:10', '2016-06-21 14:41:10', 980190962)
  [1m[36mFixture Insert (2.3ms)[0m  [1mINSERT INTO `ads` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:41:10', '2016-06-21 14:41:10', 298486374)[0m
  [1m[35mFixture Delete (2.0ms)[0m  DELETE FROM `creatives`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `creatives` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:41:10', '2016-06-21 14:41:10', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `creatives` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:41:10', '2016-06-21 14:41:10', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `places`[0m
  [1m[35mFixture Insert (5.0ms)[0m  INSERT INTO `places` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:41:10', '2016-06-21 14:41:10', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `places` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:41:10', '2016-06-21 14:41:10', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `targetings`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `targetings` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:41:10', '2016-06-21 14:41:10', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `targetings` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:41:10', '2016-06-21 14:41:10', 298486374)
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
AdTest: test_save_id_without_budget
-----------------------------------
  [1m[35mAd Load (7.5ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36m (2.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (3.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `ads`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `ads` (`budget`, `created_at`, `updated_at`, `id`) VALUES (1234.0, '2016-06-21 14:41:33', '2016-06-21 14:41:33', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `ads` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:41:33', '2016-06-21 14:41:33', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `creatives`
  [1m[36mFixture Insert (15.0ms)[0m  [1mINSERT INTO `creatives` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:41:33', '2016-06-21 14:41:33', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `creatives` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:41:33', '2016-06-21 14:41:33', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `places`[0m
  [1m[35mFixture Insert (3.2ms)[0m  INSERT INTO `places` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:41:33', '2016-06-21 14:41:33', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `places` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:41:33', '2016-06-21 14:41:33', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `targetings`
  [1m[36mFixture Insert (5.9ms)[0m  [1mINSERT INTO `targetings` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:41:33', '2016-06-21 14:41:33', 980190962)[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO `targetings` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:41:33', '2016-06-21 14:41:33', 298486374)
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------
AdTest: test_save_id_without_budget
-----------------------------------
  [1m[35mAd Load (0.5ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCreative Load (4.3ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962
  [1m[36mTargeting Load (0.5ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `ads`[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO `ads` (`budget`, `created_at`, `updated_at`, `id`) VALUES (1234.0, '2016-06-21 14:45:18', '2016-06-21 14:45:18', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `ads` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:45:18', '2016-06-21 14:45:18', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `creatives`
  [1m[36mFixture Insert (2.9ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (42.0, 'teste', 1, '2016-06-21 14:45:18', '2016-06-21 14:45:18', 980190962)[0m
  [1m[35mFixture Insert (3.0ms)[0m  INSERT INTO `creatives` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:45:18', '2016-06-21 14:45:18', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `places`[0m
  [1m[35mFixture Insert (4.1ms)[0m  INSERT INTO `places` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:45:18', '2016-06-21 14:45:18', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `places` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:45:18', '2016-06-21 14:45:18', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `targetings`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `targetings` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:45:18', '2016-06-21 14:45:18', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `targetings` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:45:18', '2016-06-21 14:45:18', 298486374)
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
AdTest: test_save_id_without_budget
-----------------------------------
  [1m[35mAd Load (0.5ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCreative Load (1.8ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962
  [1m[36mTargeting Load (0.5ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `ads`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `ads` (`budget`, `created_at`, `updated_at`, `id`) VALUES (1234.0, '2016-06-21 14:45:24', '2016-06-21 14:45:24', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `ads` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:45:24', '2016-06-21 14:45:24', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `creatives`
  [1m[36mFixture Insert (2.8ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (42.0, 'teste', 1, '2016-06-21 14:45:24', '2016-06-21 14:45:24', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `creatives` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:45:24', '2016-06-21 14:45:24', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `places`[0m
  [1m[35mFixture Insert (4.5ms)[0m  INSERT INTO `places` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:45:24', '2016-06-21 14:45:24', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `places` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:45:24', '2016-06-21 14:45:24', 298486374)[0m
  [1m[35mFixture Delete (1.9ms)[0m  DELETE FROM `targetings`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `targetings` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:45:24', '2016-06-21 14:45:24', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `targetings` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:45:24', '2016-06-21 14:45:24', 298486374)
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------
AdTest: test_save_id_without_budget
-----------------------------------
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCreative Load (1.5ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962
  [1m[36mTargeting Load (0.4ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `ads`[0m
  [1m[35mFixture Insert (2.6ms)[0m  INSERT INTO `ads` (`budget`, `created_at`, `updated_at`, `id`) VALUES (1234.0, '2016-06-21 14:46:45', '2016-06-21 14:46:45', 980190962)
  [1m[36mFixture Insert (2.3ms)[0m  [1mINSERT INTO `ads` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:46:45', '2016-06-21 14:46:45', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `creatives`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (42.0, 'teste', 1, '2016-06-21 14:46:45', '2016-06-21 14:46:45', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `creatives` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:46:45', '2016-06-21 14:46:45', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `places`[0m
  [1m[35mFixture Insert (3.0ms)[0m  INSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`, `id`) VALUES ('bla', 1, '2016-06-21 14:46:45', '2016-06-21 14:46:45', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `places` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:46:45', '2016-06-21 14:46:45', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `targetings`
  [1m[36mFixture Insert (1.6ms)[0m  [1mINSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES ('Male', 1, '2016-06-21 14:46:45', '2016-06-21 14:46:45', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `targetings` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:46:45', '2016-06-21 14:46:45', 298486374)
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
AdTest: test_save_id_without_budget
-----------------------------------
  [1m[35mAd Load (0.5ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962
  [1m[36mTargeting Load (0.4ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `ads`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `ads` (`budget`, `created_at`, `updated_at`, `id`) VALUES (1234.0, '2016-06-21 14:47:04', '2016-06-21 14:47:04', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `ads` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:47:04', '2016-06-21 14:47:04', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `creatives`
  [1m[36mFixture Insert (11.5ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (42.0, 'teste', 1, '2016-06-21 14:47:04', '2016-06-21 14:47:04', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `creatives` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:47:04', '2016-06-21 14:47:04', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `places`[0m
  [1m[35mFixture Insert (6.8ms)[0m  INSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`, `id`) VALUES ('bla', 1, '2016-06-21 14:47:04', '2016-06-21 14:47:04', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `places` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:47:04', '2016-06-21 14:47:04', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `targetings`
  [1m[36mFixture Insert (4.7ms)[0m  [1mINSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES ('Male', 1, '2016-06-21 14:47:04', '2016-06-21 14:47:04', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `targetings` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 14:47:04', '2016-06-21 14:47:04', 298486374)
  [1m[36m (2.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
-----------------------------------
AdTest: test_save_id_without_budget
-----------------------------------
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962
  [1m[36mTargeting Load (0.5ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962[0m
  [1m[35m (0.4ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (12.4ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (1.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (9.4ms)[0m  [1mDELETE FROM `ads`[0m
  [1m[35mFixture Insert (1.5ms)[0m  INSERT INTO `ads` (`budget`, `created_at`, `updated_at`, `id`) VALUES (1234.0, '2016-06-21 15:09:20', '2016-06-21 15:09:20', 980190962)
  [1m[36mFixture Insert (3.3ms)[0m  [1mINSERT INTO `ads` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 15:09:20', '2016-06-21 15:09:20', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `creatives`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (42.0, 'teste', 1, '2016-06-21 15:09:20', '2016-06-21 15:09:20', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `creatives` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 15:09:20', '2016-06-21 15:09:20', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `places`[0m
  [1m[35mFixture Insert (4.2ms)[0m  INSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`, `id`) VALUES ('bla', 1, '2016-06-21 15:09:20', '2016-06-21 15:09:20', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `places` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 15:09:20', '2016-06-21 15:09:20', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `targetings`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES ('Male', 1, '2016-06-21 15:09:20', '2016-06-21 15:09:20', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `targetings` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 15:09:20', '2016-06-21 15:09:20', 298486374)
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------
AdTest: test_save_id_without_budget
-----------------------------------
  [1m[35mAd Load (1.9ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
AdsControllerTest: test_should_get_index
----------------------------------------
Processing by AdsController#index as HTML
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` LIMIT 10 OFFSET 0[0m
  [1m[35mCreative Load (0.5ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 298486374
  [1m[36mTargeting Load (0.4ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 298486374[0m
  [1m[35mCreative Load (0.7ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962
  [1m[36mTargeting Load (0.3ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962[0m
  Rendered ads/index.html.erb within layouts/application (53.6ms)
Completed 200 OK in 798ms (Views: 794.3ms | ActiveRecord: 2.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (5.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (1.8ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `ads`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `ads` (`budget`, `created_at`, `updated_at`, `id`) VALUES (1234.0, '2016-06-21 15:13:32', '2016-06-21 15:13:32', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `ads` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 15:13:32', '2016-06-21 15:13:32', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `creatives`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (42.0, 'teste', 1, '2016-06-21 15:13:32', '2016-06-21 15:13:32', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `creatives` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 15:13:32', '2016-06-21 15:13:32', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `places`[0m
  [1m[35mFixture Insert (1.3ms)[0m  INSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`, `id`) VALUES ('bla', 1, '2016-06-21 15:13:32', '2016-06-21 15:13:32', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `places` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 15:13:32', '2016-06-21 15:13:32', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `targetings`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES ('Male', 1, '2016-06-21 15:13:32', '2016-06-21 15:13:32', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `targetings` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 15:13:32', '2016-06-21 15:13:32', 298486374)
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------
AdsControllerTest: test_should_get_new
--------------------------------------
  [1m[35mAd Load (0.5ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
Processing by AdsController#new as HTML
  Rendered ads/_creative_fields.html.erb (7.3ms)
  Rendered ads/_creative_fields.html.erb (1.7ms)
  Rendered ads/_place_fields.html.erb (2.4ms)
  Rendered ads/_place_fields.html.erb (0.6ms)
  Rendered ads/_targeting_fields.html.erb (11.0ms)
  Rendered ads/_place_fields.html.erb (0.9ms)
  Rendered ads/_targeting_fields.html.erb (3.0ms)
  Rendered ads/_form.html.erb (65.0ms)
  Rendered ads/new.html.erb within layouts/application (73.9ms)
Completed 200 OK in 448ms (Views: 413.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
AdsControllerTest: test_should_show_post
----------------------------------------
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mAd Load (0.6ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM `creatives` WHERE `creatives`.`ad_id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Exists (0.4ms)[0m  SELECT  1 AS one FROM `targetings` WHERE `targetings`.`ad_id` = 980190962 LIMIT 1
  Rendered ads/show.html.erb within layouts/application (37.7ms)
Completed 200 OK in 50ms (Views: 42.7ms | ActiveRecord: 2.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------
AdsControllerTest: test_should_update_post
------------------------------------------
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#update as HTML
  Parameters: {"ad"=>{"body"=>"1234.0"}, "id"=>"980190962"}
  [1m[35mAd Load (0.7ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
Unpermitted parameter: body
Unpermitted parameter: body
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCreative Load (0.5ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962
  [1m[36mTargeting Load (0.3ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered ads/_creative_fields.html.erb (0.9ms)
  Rendered ads/_place_fields.html.erb (0.7ms)
  Rendered ads/_targeting_fields.html.erb (3.0ms)
  Rendered ads/_form.html.erb (8.0ms)
  Rendered ads/edit.html.erb within layouts/application (8.9ms)
Completed 200 OK in 21ms (Views: 11.8ms | ActiveRecord: 1.9ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
AdsControllerTest: test_should_destroy_post
-------------------------------------------
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------
AdsControllerTest: test_should_get_edit
---------------------------------------
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
Processing by AdsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.5ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962
  Rendered ads/_creative_fields.html.erb (1.7ms)
  Rendered ads/_creative_fields.html.erb (2.0ms)
  [1m[36mTargeting Load (0.4ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962[0m
  Rendered ads/_place_fields.html.erb (1.1ms)
  Rendered ads/_place_fields.html.erb (0.7ms)
  Rendered ads/_targeting_fields.html.erb (4.7ms)
  Rendered ads/_place_fields.html.erb (1.0ms)
  Rendered ads/_targeting_fields.html.erb (4.6ms)
  Rendered ads/_form.html.erb (19.6ms)
  Rendered ads/edit.html.erb within layouts/application (20.3ms)
Completed 200 OK in 30ms (Views: 23.0ms | ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_get_index
----------------------------------------
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
Processing by AdsController#index as HTML
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` LIMIT 10 OFFSET 0[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 298486374
  [1m[36mTargeting Load (0.3ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 298486374[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962
  [1m[36mTargeting Load (0.3ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962[0m
  Rendered ads/index.html.erb within layouts/application (9.0ms)
Completed 200 OK in 22ms (Views: 19.0ms | ActiveRecord: 1.7ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_create_ad
----------------------------------------
  [1m[35mAd Load (0.6ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-----------------------------------
AdTest: test_save_id_without_budget
-----------------------------------
  [1m[36mAd Load (0.6ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (20.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (3.8ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mFixture Delete (5.0ms)[0m  [1mDELETE FROM `ads`[0m
  [1m[35mFixture Insert (3.0ms)[0m  INSERT INTO `ads` (`budget`, `created_at`, `updated_at`, `id`) VALUES (1234.0, '2016-06-21 15:16:08', '2016-06-21 15:16:08', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `ads` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 15:16:08', '2016-06-21 15:16:08', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `creatives`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (42.0, 'teste', 1, '2016-06-21 15:16:08', '2016-06-21 15:16:08', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `creatives` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 15:16:08', '2016-06-21 15:16:08', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `places`[0m
  [1m[35mFixture Insert (2.8ms)[0m  INSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`, `id`) VALUES ('bla', 1, '2016-06-21 15:16:08', '2016-06-21 15:16:08', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `places` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 15:16:08', '2016-06-21 15:16:08', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `targetings`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES ('Male', 1, '2016-06-21 15:16:08', '2016-06-21 15:16:08', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `targetings` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 15:16:08', '2016-06-21 15:16:08', 298486374)
  [1m[36m (0.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------
AdsControllerTest: test_should_get_edit
---------------------------------------
  [1m[35mAd Load (4.1ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
Processing by AdsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (5.3ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962
  Rendered ads/_creative_fields.html.erb (6.0ms)
  Rendered ads/_creative_fields.html.erb (1.6ms)
  [1m[36mTargeting Load (0.4ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962[0m
  Rendered ads/_place_fields.html.erb (2.0ms)
  Rendered ads/_place_fields.html.erb (1.0ms)
  Rendered ads/_targeting_fields.html.erb (10.2ms)
  Rendered ads/_place_fields.html.erb (0.8ms)
  Rendered ads/_targeting_fields.html.erb (2.9ms)
  Rendered ads/_form.html.erb (71.7ms)
  Rendered ads/edit.html.erb within layouts/application (79.3ms)
Completed 200 OK in 519ms (Views: 480.8ms | ActiveRecord: 6.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
AdsControllerTest: test_should_get_new
--------------------------------------
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
Processing by AdsController#new as HTML
  Rendered ads/_creative_fields.html.erb (4.4ms)
  Rendered ads/_creative_fields.html.erb (1.6ms)
  Rendered ads/_place_fields.html.erb (1.3ms)
  Rendered ads/_place_fields.html.erb (1.3ms)
  Rendered ads/_targeting_fields.html.erb (6.3ms)
  Rendered ads/_place_fields.html.erb (1.6ms)
  Rendered ads/_targeting_fields.html.erb (5.3ms)
  Rendered ads/_form.html.erb (26.2ms)
  Rendered ads/new.html.erb within layouts/application (28.5ms)
Completed 200 OK in 41ms (Views: 35.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
AdsControllerTest: test_should_create_ad
----------------------------------------
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
AdsControllerTest: test_should_update_post
------------------------------------------
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
Processing by AdsController#update as HTML
  Parameters: {"ad"=>{"body"=>"1234.0"}, "id"=>"980190962"}
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
Unpermitted parameter: body
Unpermitted parameter: body
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mCreative Load (0.8ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962[0m
  [1m[35mTargeting Load (0.4ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered ads/_creative_fields.html.erb (2.1ms)
  Rendered ads/_place_fields.html.erb (0.8ms)
  Rendered ads/_targeting_fields.html.erb (3.3ms)
  Rendered ads/_form.html.erb (12.7ms)
  Rendered ads/edit.html.erb within layouts/application (13.3ms)
Completed 200 OK in 28ms (Views: 15.8ms | ActiveRecord: 1.9ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_show_post
----------------------------------------
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
Processing by AdsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Exists (0.6ms)[0m  SELECT  1 AS one FROM `creatives` WHERE `creatives`.`ad_id` = 980190962 LIMIT 1
  [1m[36mTargeting Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `targetings` WHERE `targetings`.`ad_id` = 980190962 LIMIT 1[0m
  Rendered ads/show.html.erb within layouts/application (31.0ms)
Completed 200 OK in 39ms (Views: 35.9ms | ActiveRecord: 1.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------
AdsControllerTest: test_should_destroy_post
-------------------------------------------
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
AdsControllerTest: test_should_get_index
----------------------------------------
  [1m[36mAd Load (0.5ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#index as HTML
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` LIMIT 10 OFFSET 0
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 298486374[0m
  [1m[35mTargeting Load (0.3ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 298486374
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962[0m
  [1m[35mTargeting Load (0.3ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962
  Rendered ads/index.html.erb within layouts/application (12.4ms)
Completed 200 OK in 23ms (Views: 18.3ms | ActiveRecord: 1.6ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (6.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (6.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (2.2ms)[0m  BEGIN
  [1m[36mFixture Delete (8.3ms)[0m  [1mDELETE FROM `ads`[0m
  [1m[35mFixture Insert (5.4ms)[0m  INSERT INTO `ads` (`budget`, `created_at`, `updated_at`, `id`) VALUES (1234.0, '2016-06-21 15:21:29', '2016-06-21 15:21:29', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `ads` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 15:21:29', '2016-06-21 15:21:29', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `creatives`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (42.0, 'teste', 1, '2016-06-21 15:21:29', '2016-06-21 15:21:29', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `creatives` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 15:21:29', '2016-06-21 15:21:29', 298486374)
  [1m[36mFixture Delete (0.9ms)[0m  [1mDELETE FROM `places`[0m
  [1m[35mFixture Insert (7.6ms)[0m  INSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`, `id`) VALUES ('bla', 1, '2016-06-21 15:21:29', '2016-06-21 15:21:29', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `places` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 15:21:29', '2016-06-21 15:21:29', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `targetings`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES ('Male', 1, '2016-06-21 15:21:29', '2016-06-21 15:21:29', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `targetings` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 15:21:29', '2016-06-21 15:21:29', 298486374)
  [1m[36m (0.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_get_index
----------------------------------------
  [1m[35mAd Load (5.8ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
Processing by AdsController#index as HTML
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` LIMIT 10 OFFSET 0[0m
  [1m[35mCreative Load (4.4ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 298486374
  [1m[36mTargeting Load (0.3ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 298486374[0m
  [1m[35mCreative Load (0.5ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962
  [1m[36mTargeting Load (0.3ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962[0m
  Rendered ads/index.html.erb within layouts/application (86.7ms)
Completed 200 OK in 562ms (Views: 555.4ms | ActiveRecord: 5.9ms)
  [1m[35m (0.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------
AdsControllerTest: test_should_destroy_post
-------------------------------------------
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------
AdsControllerTest: test_should_update_post
------------------------------------------
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#update as HTML
  Parameters: {"ad"=>{"body"=>"1234.0"}, "id"=>"980190962"}
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
Unpermitted parameter: body
Unpermitted parameter: body
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962
  [1m[36mTargeting Load (0.4ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered ads/_creative_fields.html.erb (7.4ms)
  Rendered ads/_place_fields.html.erb (2.3ms)
  Rendered ads/_targeting_fields.html.erb (16.9ms)
  Rendered ads/_form.html.erb (65.7ms)
  Rendered ads/edit.html.erb within layouts/application (72.1ms)
Completed 200 OK in 95ms (Views: 76.9ms | ActiveRecord: 1.5ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------
AdsControllerTest: test_should_get_new
--------------------------------------
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#new as HTML
  Rendered ads/_creative_fields.html.erb (1.8ms)
  Rendered ads/_creative_fields.html.erb (1.3ms)
  Rendered ads/_place_fields.html.erb (3.2ms)
  Rendered ads/_place_fields.html.erb (2.0ms)
  Rendered ads/_targeting_fields.html.erb (10.5ms)
  Rendered ads/_place_fields.html.erb (1.7ms)
  Rendered ads/_targeting_fields.html.erb (7.5ms)
  Rendered ads/_form.html.erb (26.9ms)
  Rendered ads/new.html.erb within layouts/application (27.7ms)
Completed 200 OK in 42ms (Views: 33.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------
AdsControllerTest: test_should_get_edit
---------------------------------------
  [1m[35mAd Load (0.5ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
Processing by AdsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mAd Load (0.5ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.5ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962
  Rendered ads/_creative_fields.html.erb (3.0ms)
  Rendered ads/_creative_fields.html.erb (2.2ms)
  [1m[36mTargeting Load (0.4ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962[0m
  Rendered ads/_place_fields.html.erb (1.1ms)
  Rendered ads/_place_fields.html.erb (1.0ms)
  Rendered ads/_targeting_fields.html.erb (6.3ms)
  Rendered ads/_place_fields.html.erb (2.1ms)
  Rendered ads/_targeting_fields.html.erb (5.3ms)
  Rendered ads/_form.html.erb (34.1ms)
  Rendered ads/edit.html.erb within layouts/application (36.4ms)
Completed 200 OK in 47ms (Views: 39.0ms | ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_show_post
----------------------------------------
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
Processing by AdsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Exists (0.4ms)[0m  SELECT  1 AS one FROM `creatives` WHERE `creatives`.`ad_id` = 980190962 LIMIT 1
  [1m[36mTargeting Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `targetings` WHERE `targetings`.`ad_id` = 980190962 LIMIT 1[0m
  Rendered ads/show.html.erb within layouts/application (34.7ms)
Completed 200 OK in 49ms (Views: 44.4ms | ActiveRecord: 1.2ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_create_ad
----------------------------------------
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.6ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (4.0ms)[0m  [1mDELETE FROM `ads`[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `ads` (`budget`, `created_at`, `updated_at`, `id`) VALUES (1234.0, '2016-06-21 15:22:29', '2016-06-21 15:22:29', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `ads` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 15:22:29', '2016-06-21 15:22:29', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `creatives`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (42.0, 'teste', 1, '2016-06-21 15:22:29', '2016-06-21 15:22:29', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `creatives` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 15:22:29', '2016-06-21 15:22:29', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `places`[0m
  [1m[35mFixture Insert (3.2ms)[0m  INSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`, `id`) VALUES ('bla', 1, '2016-06-21 15:22:29', '2016-06-21 15:22:29', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `places` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 15:22:29', '2016-06-21 15:22:29', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `targetings`
  [1m[36mFixture Insert (3.4ms)[0m  [1mINSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES ('Male', 1, '2016-06-21 15:22:29', '2016-06-21 15:22:29', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `targetings` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 15:22:29', '2016-06-21 15:22:29', 298486374)
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
AdsControllerTest: test_should_get_new
--------------------------------------
  [1m[35mAd Load (0.5ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
Processing by AdsController#new as HTML
  Rendered ads/_creative_fields.html.erb (6.7ms)
  Rendered ads/_creative_fields.html.erb (3.1ms)
  Rendered ads/_place_fields.html.erb (2.4ms)
  Rendered ads/_place_fields.html.erb (1.1ms)
  Rendered ads/_targeting_fields.html.erb (11.4ms)
  Rendered ads/_place_fields.html.erb (0.9ms)
  Rendered ads/_targeting_fields.html.erb (3.6ms)
  Rendered ads/_form.html.erb (88.6ms)
  Rendered ads/new.html.erb within layouts/application (98.3ms)
Completed 200 OK in 547ms (Views: 495.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------
AdsControllerTest: test_should_update_post
------------------------------------------
  [1m[36mAd Load (0.5ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#update as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0"}, "id"=>"980190962"}
  [1m[35mAd Load (0.9ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCreative Load (0.5ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962
  [1m[36mTargeting Load (0.3ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered ads/_creative_fields.html.erb (1.6ms)
  Rendered ads/_place_fields.html.erb (1.2ms)
  Rendered ads/_targeting_fields.html.erb (4.4ms)
  Rendered ads/_form.html.erb (11.5ms)
  Rendered ads/edit.html.erb within layouts/application (12.6ms)
Completed 200 OK in 31ms (Views: 16.3ms | ActiveRecord: 2.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
AdsControllerTest: test_should_create_ad
----------------------------------------
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_get_index
----------------------------------------
  [1m[35mAd Load (0.8ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
Processing by AdsController#index as HTML
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` LIMIT 10 OFFSET 0[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 298486374
  [1m[36mTargeting Load (0.3ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 298486374[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962
  [1m[36mTargeting Load (0.3ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962[0m
  Rendered ads/index.html.erb within layouts/application (18.1ms)
Completed 200 OK in 24ms (Views: 20.9ms | ActiveRecord: 1.6ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
AdsControllerTest: test_should_get_edit
---------------------------------------
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
Processing by AdsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mAd Load (0.7ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962
  Rendered ads/_creative_fields.html.erb (1.4ms)
  Rendered ads/_creative_fields.html.erb (1.0ms)
  [1m[36mTargeting Load (0.4ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962[0m
  Rendered ads/_place_fields.html.erb (1.3ms)
  Rendered ads/_place_fields.html.erb (0.7ms)
  Rendered ads/_targeting_fields.html.erb (4.8ms)
  Rendered ads/_place_fields.html.erb (0.7ms)
  Rendered ads/_targeting_fields.html.erb (3.1ms)
  Rendered ads/_form.html.erb (15.5ms)
  Rendered ads/edit.html.erb within layouts/application (16.0ms)
Completed 200 OK in 27ms (Views: 20.1ms | ActiveRecord: 1.5ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_show_post
----------------------------------------
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
Processing by AdsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Exists (0.6ms)[0m  SELECT  1 AS one FROM `creatives` WHERE `creatives`.`ad_id` = 980190962 LIMIT 1
  [1m[36mTargeting Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `targetings` WHERE `targetings`.`ad_id` = 980190962 LIMIT 1[0m
  Rendered ads/show.html.erb within layouts/application (28.9ms)
Completed 200 OK in 38ms (Views: 35.5ms | ActiveRecord: 1.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
AdsControllerTest: test_should_destroy_post
-------------------------------------------
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (3.6ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `ads`[0m
  [1m[35mFixture Insert (1.3ms)[0m  INSERT INTO `ads` (`budget`, `created_at`, `updated_at`, `id`) VALUES (1234.0, '2016-06-21 15:28:38', '2016-06-21 15:28:38', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `ads` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 15:28:38', '2016-06-21 15:28:38', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `creatives`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (42.0, 'teste', 1, '2016-06-21 15:28:38', '2016-06-21 15:28:38', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `creatives` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 15:28:38', '2016-06-21 15:28:38', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `places`[0m
  [1m[35mFixture Insert (2.6ms)[0m  INSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`, `id`) VALUES ('bla', 1, '2016-06-21 15:28:38', '2016-06-21 15:28:38', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `places` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 15:28:38', '2016-06-21 15:28:38', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `targetings`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES ('Male', 1, '2016-06-21 15:28:38', '2016-06-21 15:28:38', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `targetings` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 15:28:38', '2016-06-21 15:28:38', 298486374)
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_get_index
----------------------------------------
  [1m[35mAd Load (0.5ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
Processing by AdsController#index as HTML
  [1m[36mAd Load (2.6ms)[0m  [1mSELECT  `ads`.* FROM `ads` LIMIT 10 OFFSET 0[0m
  [1m[35mCreative Load (1.7ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 298486374
  [1m[36mTargeting Load (0.4ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 298486374[0m
  [1m[35mCreative Load (0.6ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962
  [1m[36mTargeting Load (0.4ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962[0m
  Rendered ads/index.html.erb within layouts/application (75.5ms)
Completed 200 OK in 477ms (Views: 469.9ms | ActiveRecord: 5.6ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_show_post
----------------------------------------
  [1m[35mAd Load (0.5ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
Processing by AdsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mAd Load (0.5ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Exists (0.4ms)[0m  SELECT  1 AS one FROM `creatives` WHERE `creatives`.`ad_id` = 980190962 LIMIT 1
  [1m[36mTargeting Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `targetings` WHERE `targetings`.`ad_id` = 980190962 LIMIT 1[0m
  Rendered ads/show.html.erb within layouts/application (24.4ms)
Completed 200 OK in 33ms (Views: 29.5ms | ActiveRecord: 1.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------
AdsControllerTest: test_should_get_new
--------------------------------------
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
Processing by AdsController#new as HTML
  Rendered ads/_creative_fields.html.erb (5.2ms)
  Rendered ads/_creative_fields.html.erb (1.2ms)
  Rendered ads/_place_fields.html.erb (2.3ms)
  Rendered ads/_place_fields.html.erb (1.1ms)
  Rendered ads/_targeting_fields.html.erb (43.8ms)
  Rendered ads/_place_fields.html.erb (3.0ms)
  Rendered ads/_targeting_fields.html.erb (6.9ms)
  Rendered ads/_form.html.erb (86.7ms)
  Rendered ads/new.html.erb within layouts/application (105.5ms)
Completed 200 OK in 151ms (Views: 118.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `ads`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `ads` (`budget`, `created_at`, `updated_at`, `id`) VALUES (1234.0, '2016-06-21 15:29:08', '2016-06-21 15:29:08', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `ads` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 15:29:08', '2016-06-21 15:29:08', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `creatives`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (42.0, 'teste', 1, '2016-06-21 15:29:08', '2016-06-21 15:29:08', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `creatives` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 15:29:08', '2016-06-21 15:29:08', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `places`[0m
  [1m[35mFixture Insert (2.4ms)[0m  INSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`, `id`) VALUES ('bla', 1, '2016-06-21 15:29:08', '2016-06-21 15:29:08', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `places` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 15:29:08', '2016-06-21 15:29:08', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `targetings`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES ('Male', 1, '2016-06-21 15:29:08', '2016-06-21 15:29:08', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `targetings` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 15:29:08', '2016-06-21 15:29:08', 298486374)
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_get_index
----------------------------------------
  [1m[35mAd Load (0.5ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
Processing by AdsController#index as HTML
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` LIMIT 10 OFFSET 0[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 298486374
  [1m[36mTargeting Load (0.4ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 298486374[0m
  [1m[35mCreative Load (0.5ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962
  [1m[36mTargeting Load (0.6ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962[0m
  Rendered ads/index.html.erb within layouts/application (67.8ms)
Completed 200 OK in 432ms (Views: 429.0ms | ActiveRecord: 2.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_create_ad
----------------------------------------
  [1m[35mAd Load (0.5ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------
AdsControllerTest: test_should_update_post
------------------------------------------
  [1m[36mAd Load (0.5ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#update as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0"}, "id"=>"980190962"}
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36m (2.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962
  [1m[36mTargeting Load (0.4ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered ads/_creative_fields.html.erb (9.1ms)
  Rendered ads/_place_fields.html.erb (2.5ms)
  Rendered ads/_targeting_fields.html.erb (18.5ms)
  Rendered ads/_form.html.erb (68.3ms)
  Rendered ads/edit.html.erb within layouts/application (75.3ms)
Completed 200 OK in 101ms (Views: 80.1ms | ActiveRecord: 3.8ms)
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
AdsControllerTest: test_should_destroy_post
-------------------------------------------
  [1m[36mAd Load (0.8ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------
AdsControllerTest: test_should_get_new
--------------------------------------
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
Processing by AdsController#new as HTML
  Rendered ads/_creative_fields.html.erb (4.2ms)
  Rendered ads/_creative_fields.html.erb (10.1ms)
  Rendered ads/_place_fields.html.erb (2.0ms)
  Rendered ads/_place_fields.html.erb (1.4ms)
  Rendered ads/_targeting_fields.html.erb (6.6ms)
  Rendered ads/_place_fields.html.erb (1.0ms)
  Rendered ads/_targeting_fields.html.erb (4.8ms)
  Rendered ads/_form.html.erb (32.7ms)
  Rendered ads/new.html.erb within layouts/application (33.7ms)
Completed 200 OK in 55ms (Views: 40.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
---------------------------------------
AdsControllerTest: test_should_get_edit
---------------------------------------
  [1m[36mAd Load (0.7ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (1.3ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962[0m
  Rendered ads/_creative_fields.html.erb (7.5ms)
  Rendered ads/_creative_fields.html.erb (4.3ms)
  [1m[35mTargeting Load (0.4ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962
  Rendered ads/_place_fields.html.erb (1.6ms)
  Rendered ads/_place_fields.html.erb (1.2ms)
  Rendered ads/_targeting_fields.html.erb (11.0ms)
  Rendered ads/_place_fields.html.erb (1.7ms)
  Rendered ads/_targeting_fields.html.erb (6.2ms)
  Rendered ads/_form.html.erb (44.0ms)
  Rendered ads/edit.html.erb within layouts/application (44.8ms)
Completed 200 OK in 59ms (Views: 48.3ms | ActiveRecord: 2.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
AdsControllerTest: test_should_show_post
----------------------------------------
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mAd Load (0.5ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `creatives` WHERE `creatives`.`ad_id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Exists (0.4ms)[0m  SELECT  1 AS one FROM `targetings` WHERE `targetings`.`ad_id` = 980190962 LIMIT 1
  Rendered ads/show.html.erb within layouts/application (27.9ms)
Completed 200 OK in 37ms (Views: 33.9ms | ActiveRecord: 1.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (1.9ms)[0m  [1mDELETE FROM `ads`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `ads` (`budget`, `created_at`, `updated_at`, `id`) VALUES (1234.0, '2016-06-21 15:29:46', '2016-06-21 15:29:46', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `ads` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 15:29:46', '2016-06-21 15:29:46', 298486374)[0m
  [1m[35mFixture Delete (1.7ms)[0m  DELETE FROM `creatives`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (42.0, 'teste', 1, '2016-06-21 15:29:46', '2016-06-21 15:29:46', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `creatives` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 15:29:46', '2016-06-21 15:29:46', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `places`[0m
  [1m[35mFixture Insert (7.4ms)[0m  INSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`, `id`) VALUES ('bla', 1, '2016-06-21 15:29:46', '2016-06-21 15:29:46', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `places` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 15:29:46', '2016-06-21 15:29:46', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `targetings`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES ('Male', 1, '2016-06-21 15:29:46', '2016-06-21 15:29:46', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `targetings` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 15:29:46', '2016-06-21 15:29:46', 298486374)
  [1m[36m (3.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
--------------------------------------
AdsControllerTest: test_should_get_new
--------------------------------------
  [1m[35mAd Load (0.6ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
Processing by AdsController#new as HTML
  Rendered ads/_creative_fields.html.erb (7.2ms)
  Rendered ads/_creative_fields.html.erb (1.6ms)
  Rendered ads/_place_fields.html.erb (2.4ms)
  Rendered ads/_place_fields.html.erb (0.9ms)
  Rendered ads/_targeting_fields.html.erb (14.7ms)
  Rendered ads/_place_fields.html.erb (1.1ms)
  Rendered ads/_targeting_fields.html.erb (4.6ms)
  Rendered ads/_form.html.erb (71.4ms)
  Rendered ads/new.html.erb within layouts/application (81.3ms)
Completed 200 OK in 534ms (Views: 483.5ms | ActiveRecord: 0.0ms)
  [1m[36m (1.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.2ms)[0m  BEGIN
---------------------------------------
AdsControllerTest: test_should_get_edit
---------------------------------------
  [1m[36mAd Load (1.2ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mAd Load (3.6ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (1.5ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962[0m
  Rendered ads/_creative_fields.html.erb (2.4ms)
  Rendered ads/_creative_fields.html.erb (6.1ms)
  [1m[35mTargeting Load (0.4ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962
  Rendered ads/_place_fields.html.erb (2.5ms)
  Rendered ads/_place_fields.html.erb (1.7ms)
  Rendered ads/_targeting_fields.html.erb (8.9ms)
  Rendered ads/_place_fields.html.erb (1.9ms)
  Rendered ads/_targeting_fields.html.erb (6.7ms)
  Rendered ads/_form.html.erb (41.4ms)
  Rendered ads/edit.html.erb within layouts/application (44.8ms)
Completed 200 OK in 67ms (Views: 50.3ms | ActiveRecord: 5.5ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
AdsControllerTest: test_should_get_index
----------------------------------------
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#index as HTML
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` LIMIT 10 OFFSET 0
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 298486374[0m
  [1m[35mTargeting Load (0.7ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 298486374
  [1m[36mCreative Load (0.5ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962[0m
  [1m[35mTargeting Load (0.2ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962
  Rendered ads/index.html.erb within layouts/application (23.8ms)
Completed 200 OK in 31ms (Views: 27.7ms | ActiveRecord: 2.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
AdsControllerTest: test_should_show_post
----------------------------------------
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mAd Load (1.1ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `creatives` WHERE `creatives`.`ad_id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Exists (0.4ms)[0m  SELECT  1 AS one FROM `targetings` WHERE `targetings`.`ad_id` = 980190962 LIMIT 1
  Rendered ads/show.html.erb within layouts/application (18.3ms)
Completed 200 OK in 26ms (Views: 21.9ms | ActiveRecord: 2.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (14.4ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (2.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (4.2ms)[0m  [1mDELETE FROM `ads`[0m
  [1m[35mFixture Insert (2.8ms)[0m  INSERT INTO `ads` (`budget`, `created_at`, `updated_at`, `id`) VALUES (1234.0, '2016-06-21 16:00:12', '2016-06-21 16:00:12', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `ads` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:00:12', '2016-06-21 16:00:12', 298486374)[0m
  [1m[35mFixture Delete (3.2ms)[0m  DELETE FROM `creatives`
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (42.0, 'teste', 1, '2016-06-21 16:00:12', '2016-06-21 16:00:12', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `creatives` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:00:12', '2016-06-21 16:00:12', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `places`[0m
  [1m[35mFixture Insert (3.3ms)[0m  INSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`, `id`) VALUES ('bla', 1, '2016-06-21 16:00:12', '2016-06-21 16:00:12', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `places` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:00:12', '2016-06-21 16:00:12', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `targetings`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES ('Male', 1, '2016-06-21 16:00:12', '2016-06-21 16:00:12', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `targetings` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:00:12', '2016-06-21 16:00:12', 298486374)
  [1m[36m (0.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_create_ad
----------------------------------------
  [1m[35mAd Load (1.9ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------
AdsControllerTest: test_should_get_edit
---------------------------------------
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.5ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962[0m
  Rendered ads/_creative_fields.html.erb (5.4ms)
  Rendered ads/_creative_fields.html.erb (2.1ms)
  [1m[35mTargeting Load (0.4ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962
  Rendered ads/_place_fields.html.erb (2.5ms)
  Rendered ads/_place_fields.html.erb (0.8ms)
  Rendered ads/_targeting_fields.html.erb (14.1ms)
  Rendered ads/_place_fields.html.erb (1.3ms)
  Rendered ads/_targeting_fields.html.erb (4.4ms)
  Rendered ads/_form.html.erb (78.5ms)
  Rendered ads/edit.html.erb within layouts/application (88.9ms)
Completed 200 OK in 522ms (Views: 470.8ms | ActiveRecord: 1.3ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
AdsControllerTest: test_should_update_post
------------------------------------------
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#update as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0"}, "id"=>"980190962"}
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962
  [1m[36mTargeting Load (1.5ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered ads/_creative_fields.html.erb (2.8ms)
  Rendered ads/_place_fields.html.erb (1.6ms)
  Rendered ads/_targeting_fields.html.erb (5.5ms)
  Rendered ads/_form.html.erb (17.2ms)
  Rendered ads/edit.html.erb within layouts/application (18.0ms)
Completed 200 OK in 35ms (Views: 20.7ms | ActiveRecord: 2.7ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
AdsControllerTest: test_should_destroy_post
-------------------------------------------
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_show_post
----------------------------------------
  [1m[35mAd Load (0.7ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
Processing by AdsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mAd Load (0.8ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Exists (0.5ms)[0m  SELECT  1 AS one FROM `creatives` WHERE `creatives`.`ad_id` = 980190962 LIMIT 1
  [1m[36mTargeting Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `targetings` WHERE `targetings`.`ad_id` = 980190962 LIMIT 1[0m
  Rendered ads/show.html.erb within layouts/application (33.1ms)
Completed 200 OK in 41ms (Views: 37.6ms | ActiveRecord: 1.8ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_get_index
----------------------------------------
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
Processing by AdsController#index as HTML
  [1m[36mAd Load (0.5ms)[0m  [1mSELECT  `ads`.* FROM `ads` LIMIT 10 OFFSET 0[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 298486374
  [1m[36mTargeting Load (0.3ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 298486374[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962
  [1m[36mTargeting Load (0.3ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962[0m
  Rendered ads/index.html.erb within layouts/application (11.7ms)
Completed 200 OK in 17ms (Views: 15.2ms | ActiveRecord: 1.7ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
AdsControllerTest: test_should_get_new
--------------------------------------
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
Processing by AdsController#new as HTML
  Rendered ads/_creative_fields.html.erb (1.1ms)
  Rendered ads/_creative_fields.html.erb (1.0ms)
  Rendered ads/_place_fields.html.erb (0.7ms)
  Rendered ads/_place_fields.html.erb (0.7ms)
  Rendered ads/_targeting_fields.html.erb (3.4ms)
  Rendered ads/_place_fields.html.erb (3.2ms)
  Rendered ads/_targeting_fields.html.erb (6.8ms)
  Rendered ads/_form.html.erb (17.9ms)
  Rendered ads/new.html.erb within layouts/application (19.1ms)
Completed 200 OK in 31ms (Views: 26.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (11.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (1.5ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (4.7ms)[0m  [1mDELETE FROM `ads`[0m
  [1m[35mFixture Insert (2.9ms)[0m  INSERT INTO `ads` (`budget`, `created_at`, `updated_at`, `id`) VALUES (1234.0, '2016-06-21 16:03:51', '2016-06-21 16:03:51', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `ads` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:03:51', '2016-06-21 16:03:51', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `creatives`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (42.0, 'teste', 1, '2016-06-21 16:03:51', '2016-06-21 16:03:51', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `creatives` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:03:51', '2016-06-21 16:03:51', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `places`[0m
  [1m[35mFixture Insert (1.2ms)[0m  INSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`, `id`) VALUES ('bla', 1, '2016-06-21 16:03:51', '2016-06-21 16:03:51', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `places` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:03:51', '2016-06-21 16:03:51', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `targetings`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES ('Male', 1, '2016-06-21 16:03:51', '2016-06-21 16:03:51', 980190962)[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO `targetings` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:03:51', '2016-06-21 16:03:51', 298486374)
  [1m[36m (1.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------
AdsControllerTest: test_should_get_new
--------------------------------------
  [1m[35mAd Load (3.2ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
Processing by AdsController#new as HTML
  Rendered ads/_creative_fields.html.erb (7.4ms)
  Rendered ads/_creative_fields.html.erb (1.3ms)
  Rendered ads/_place_fields.html.erb (3.8ms)
  Rendered ads/_place_fields.html.erb (1.0ms)
  Rendered ads/_targeting_fields.html.erb (16.8ms)
  Rendered ads/_place_fields.html.erb (0.8ms)
  Rendered ads/_targeting_fields.html.erb (2.5ms)
  Rendered ads/_form.html.erb (68.7ms)
  Rendered ads/new.html.erb within layouts/application (80.2ms)
Completed 200 OK in 524ms (Views: 478.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
AdsControllerTest: test_should_destroy_post
-------------------------------------------
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (3.0ms)[0m  SELECT COUNT(*) FROM `ads`
Processing by AdsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mCreative Load (0.6ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962[0m
  [1m[35mTargeting Load (0.3ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962
  [1m[36mSQL (2.5ms)[0m  [1mDELETE FROM `ads` WHERE `ads`.`id` = 980190962[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/
Completed 302 Found in 14ms (ActiveRecord: 4.2ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
  [1m[35m (1.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_show_post
----------------------------------------
  [1m[35mAd Load (0.5ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
Processing by AdsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mAd Load (0.5ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Exists (0.6ms)[0m  SELECT  1 AS one FROM `creatives` WHERE `creatives`.`ad_id` = 980190962 LIMIT 1
  [1m[36mTargeting Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `targetings` WHERE `targetings`.`ad_id` = 980190962 LIMIT 1[0m
  Rendered ads/show.html.erb within layouts/application (27.7ms)
Completed 200 OK in 37ms (Views: 34.2ms | ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------
AdsControllerTest: test_should_get_edit
---------------------------------------
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
Processing by AdsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mAd Load (0.9ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962
  Rendered ads/_creative_fields.html.erb (1.5ms)
  Rendered ads/_creative_fields.html.erb (1.6ms)
  [1m[36mTargeting Load (0.3ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962[0m
  Rendered ads/_place_fields.html.erb (0.8ms)
  Rendered ads/_place_fields.html.erb (1.4ms)
  Rendered ads/_targeting_fields.html.erb (5.2ms)
  Rendered ads/_place_fields.html.erb (0.7ms)
  Rendered ads/_targeting_fields.html.erb (2.8ms)
  Rendered ads/_form.html.erb (17.0ms)
  Rendered ads/edit.html.erb within layouts/application (18.1ms)
Completed 200 OK in 34ms (Views: 22.3ms | ActiveRecord: 1.7ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_get_index
----------------------------------------
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
Processing by AdsController#index as HTML
  [1m[36mAd Load (0.5ms)[0m  [1mSELECT  `ads`.* FROM `ads` LIMIT 10 OFFSET 0[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 298486374
  [1m[36mTargeting Load (0.3ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 298486374[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962
  [1m[36mTargeting Load (0.3ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962[0m
  Rendered ads/index.html.erb within layouts/application (17.2ms)
Completed 200 OK in 23ms (Views: 20.4ms | ActiveRecord: 1.9ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_create_ad
----------------------------------------
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
AdsControllerTest: test_should_update_post
------------------------------------------
  [1m[35mAd Load (0.8ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
Processing by AdsController#update as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0"}, "id"=>"980190962"}
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mCreative Load (3.3ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962[0m
  [1m[35mTargeting Load (0.4ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962
  [1m[36m (0.4ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered ads/_creative_fields.html.erb (1.6ms)
  Rendered ads/_place_fields.html.erb (0.9ms)
  Rendered ads/_targeting_fields.html.erb (3.1ms)
  Rendered ads/_form.html.erb (10.1ms)
  Rendered ads/edit.html.erb within layouts/application (10.5ms)
Completed 200 OK in 45ms (Views: 12.9ms | ActiveRecord: 4.9ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `ads`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `ads` (`budget`, `created_at`, `updated_at`, `id`) VALUES (1234.0, '2016-06-21 16:04:21', '2016-06-21 16:04:21', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `ads` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:04:21', '2016-06-21 16:04:21', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `creatives`
  [1m[36mFixture Insert (3.7ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (42.0, 'teste', 1, '2016-06-21 16:04:21', '2016-06-21 16:04:21', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `creatives` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:04:21', '2016-06-21 16:04:21', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `places`[0m
  [1m[35mFixture Insert (2.7ms)[0m  INSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`, `id`) VALUES ('bla', 1, '2016-06-21 16:04:21', '2016-06-21 16:04:21', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `places` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:04:21', '2016-06-21 16:04:21', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `targetings`
  [1m[36mFixture Insert (2.6ms)[0m  [1mINSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES ('Male', 1, '2016-06-21 16:04:21', '2016-06-21 16:04:21', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `targetings` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:04:21', '2016-06-21 16:04:21', 298486374)
  [1m[36m (0.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
AdsControllerTest: test_should_update_post
------------------------------------------
  [1m[35mAd Load (1.1ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
Processing by AdsController#update as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0"}, "id"=>"980190962"}
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mCreative Load (1.1ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962[0m
  [1m[35mTargeting Load (0.4ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered ads/_creative_fields.html.erb (6.9ms)
  Rendered ads/_place_fields.html.erb (2.7ms)
  Rendered ads/_targeting_fields.html.erb (15.0ms)
  Rendered ads/_form.html.erb (63.7ms)
  Rendered ads/edit.html.erb within layouts/application (74.8ms)
Completed 200 OK in 521ms (Views: 467.7ms | ActiveRecord: 2.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------
AdsControllerTest: test_should_get_new
--------------------------------------
  [1m[35mAd Load (0.5ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
Processing by AdsController#new as HTML
  Rendered ads/_creative_fields.html.erb (1.3ms)
  Rendered ads/_creative_fields.html.erb (0.9ms)
  Rendered ads/_place_fields.html.erb (0.6ms)
  Rendered ads/_place_fields.html.erb (0.7ms)
  Rendered ads/_targeting_fields.html.erb (3.0ms)
  Rendered ads/_place_fields.html.erb (0.8ms)
  Rendered ads/_targeting_fields.html.erb (3.3ms)
  Rendered ads/_form.html.erb (11.6ms)
  Rendered ads/new.html.erb within layouts/application (12.6ms)
Completed 200 OK in 26ms (Views: 16.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------
AdsControllerTest: test_should_get_edit
---------------------------------------
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mAd Load (1.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962[0m
  Rendered ads/_creative_fields.html.erb (1.1ms)
  Rendered ads/_creative_fields.html.erb (0.9ms)
  [1m[35mTargeting Load (0.3ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962
  Rendered ads/_place_fields.html.erb (0.6ms)
  Rendered ads/_place_fields.html.erb (31.3ms)
  Rendered ads/_targeting_fields.html.erb (33.8ms)
  Rendered ads/_place_fields.html.erb (0.7ms)
  Rendered ads/_targeting_fields.html.erb (3.4ms)
  Rendered ads/_form.html.erb (43.8ms)
  Rendered ads/edit.html.erb within layouts/application (44.2ms)
Completed 200 OK in 52ms (Views: 45.2ms | ActiveRecord: 2.1ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
AdsControllerTest: test_should_destroy_post
-------------------------------------------
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `ads`
Processing by AdsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.7ms)[0m  SAVEPOINT active_record_1
  [1m[36mCreative Load (0.6ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962[0m
  [1m[35mTargeting Load (0.3ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `ads` WHERE `ads`.`id` = 980190962[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/
Completed 302 Found in 9ms (ActiveRecord: 2.3ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
  [1m[35m (0.6ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_create_ad
----------------------------------------
  [1m[35mAd Load (0.7ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_get_index
----------------------------------------
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
Processing by AdsController#index as HTML
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` LIMIT 10 OFFSET 0[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 298486374
  [1m[36mTargeting Load (0.3ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 298486374[0m
  [1m[35mCreative Load (0.5ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962
  [1m[36mTargeting Load (0.4ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962[0m
  Rendered ads/index.html.erb within layouts/application (20.6ms)
Completed 200 OK in 27ms (Views: 24.8ms | ActiveRecord: 1.7ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_show_post
----------------------------------------
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
Processing by AdsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Exists (0.3ms)[0m  SELECT  1 AS one FROM `creatives` WHERE `creatives`.`ad_id` = 980190962 LIMIT 1
  [1m[36mTargeting Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `targetings` WHERE `targetings`.`ad_id` = 980190962 LIMIT 1[0m
  Rendered ads/show.html.erb within layouts/application (18.6ms)
Completed 200 OK in 26ms (Views: 23.5ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.4ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.6ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (3.3ms)[0m  [1mDELETE FROM `ads`[0m
  [1m[35mFixture Insert (2.9ms)[0m  INSERT INTO `ads` (`budget`, `created_at`, `updated_at`, `id`) VALUES (1234.0, '2016-06-21 16:04:45', '2016-06-21 16:04:45', 980190962)
  [1m[36mFixture Insert (1.6ms)[0m  [1mINSERT INTO `ads` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:04:45', '2016-06-21 16:04:45', 298486374)[0m
  [1m[35mFixture Delete (1.1ms)[0m  DELETE FROM `creatives`
  [1m[36mFixture Insert (11.0ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (42.0, 'teste', 1, '2016-06-21 16:04:45', '2016-06-21 16:04:45', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `creatives` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:04:45', '2016-06-21 16:04:45', 298486374)
  [1m[36mFixture Delete (1.3ms)[0m  [1mDELETE FROM `places`[0m
  [1m[35mFixture Insert (7.0ms)[0m  INSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`, `id`) VALUES ('bla', 1, '2016-06-21 16:04:46', '2016-06-21 16:04:46', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `places` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:04:46', '2016-06-21 16:04:46', 298486374)[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM `targetings`
  [1m[36mFixture Insert (0.8ms)[0m  [1mINSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES ('Male', 1, '2016-06-21 16:04:46', '2016-06-21 16:04:46', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `targetings` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:04:46', '2016-06-21 16:04:46', 298486374)
  [1m[36m (0.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_create_ad
----------------------------------------
  [1m[35mAd Load (1.6ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36m (5.9ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered ads/_creative_fields.html.erb (66.7ms)
  Rendered ads/_place_fields.html.erb (2.9ms)
  Rendered ads/_targeting_fields.html.erb (16.3ms)
  Rendered ads/_form.html.erb (155.1ms)
  Rendered ads/new.html.erb within layouts/application (170.0ms)
Completed 200 OK in 910ms (Views: 842.9ms | ActiveRecord: 0.6ms)
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `ads`
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------
AdsControllerTest: test_should_get_new
--------------------------------------
  [1m[36mAd Load (0.6ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#new as HTML
  Rendered ads/_creative_fields.html.erb (1.5ms)
  Rendered ads/_creative_fields.html.erb (1.5ms)
  Rendered ads/_place_fields.html.erb (0.8ms)
  Rendered ads/_place_fields.html.erb (0.7ms)
  Rendered ads/_targeting_fields.html.erb (3.9ms)
  Rendered ads/_place_fields.html.erb (0.8ms)
  Rendered ads/_targeting_fields.html.erb (3.2ms)
  Rendered ads/_form.html.erb (13.9ms)
  Rendered ads/new.html.erb within layouts/application (14.3ms)
Completed 200 OK in 25ms (Views: 17.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------
AdsControllerTest: test_should_get_edit
---------------------------------------
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
Processing by AdsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mAd Load (0.9ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (6.4ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962
  Rendered ads/_creative_fields.html.erb (6.3ms)
  Rendered ads/_creative_fields.html.erb (6.5ms)
  [1m[36mTargeting Load (0.6ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962[0m
  Rendered ads/_place_fields.html.erb (1.5ms)
  Rendered ads/_place_fields.html.erb (1.4ms)
  Rendered ads/_targeting_fields.html.erb (6.9ms)
  Rendered ads/_place_fields.html.erb (1.5ms)
  Rendered ads/_targeting_fields.html.erb (6.4ms)
  Rendered ads/_form.html.erb (48.8ms)
  Rendered ads/edit.html.erb within layouts/application (50.6ms)
Completed 200 OK in 66ms (Views: 50.9ms | ActiveRecord: 7.8ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
AdsControllerTest: test_should_update_post
------------------------------------------
  [1m[35mAd Load (0.9ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
Processing by AdsController#update as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0"}, "id"=>"980190962"}
  [1m[36mAd Load (0.5ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962[0m
  [1m[35mTargeting Load (0.4ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962
  [1m[36m (1.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered ads/_creative_fields.html.erb (3.3ms)
  Rendered ads/_place_fields.html.erb (5.0ms)
  Rendered ads/_targeting_fields.html.erb (9.9ms)
  Rendered ads/_form.html.erb (27.2ms)
  Rendered ads/edit.html.erb within layouts/application (27.9ms)
Completed 200 OK in 48ms (Views: 31.5ms | ActiveRecord: 2.7ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------
AdsControllerTest: test_should_destroy_post
-------------------------------------------
  [1m[35mAd Load (0.5ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
Processing by AdsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mAd Load (4.8ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCreative Load (0.6ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962
  [1m[36mTargeting Load (0.7ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962[0m
  [1m[35mSQL (1.8ms)[0m  DELETE FROM `ads` WHERE `ads`.`id` = 980190962
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/
Completed 302 Found in 22ms (ActiveRecord: 8.3ms)
  [1m[35m (7.0ms)[0m  SELECT COUNT(*) FROM `ads`
  [1m[36m (2.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
AdsControllerTest: test_should_show_post
----------------------------------------
  [1m[36mAd Load (0.5ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `creatives` WHERE `creatives`.`ad_id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Exists (0.7ms)[0m  SELECT  1 AS one FROM `targetings` WHERE `targetings`.`ad_id` = 980190962 LIMIT 1
  Rendered ads/show.html.erb within layouts/application (82.4ms)
Completed 200 OK in 97ms (Views: 93.8ms | ActiveRecord: 1.9ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
AdsControllerTest: test_should_get_index
----------------------------------------
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#index as HTML
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` LIMIT 10 OFFSET 0
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 298486374[0m
  [1m[35mTargeting Load (0.3ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 298486374
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962[0m
  [1m[35mTargeting Load (0.3ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962
  Rendered ads/index.html.erb within layouts/application (26.0ms)
Completed 200 OK in 66ms (Views: 62.2ms | ActiveRecord: 1.9ms)
  [1m[36m (0.9ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `ads`[0m
  [1m[35mFixture Insert (1.4ms)[0m  INSERT INTO `ads` (`budget`, `created_at`, `updated_at`, `id`) VALUES (1234.0, '2016-06-21 16:07:03', '2016-06-21 16:07:03', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `ads` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:07:03', '2016-06-21 16:07:03', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `creatives`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (42.0, 'teste', 1, '2016-06-21 16:07:03', '2016-06-21 16:07:03', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `creatives` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:07:03', '2016-06-21 16:07:03', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `places`[0m
  [1m[35mFixture Insert (4.2ms)[0m  INSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`, `id`) VALUES ('bla', 1, '2016-06-21 16:07:03', '2016-06-21 16:07:03', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `places` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:07:03', '2016-06-21 16:07:03', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `targetings`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES ('Male', 1, '2016-06-21 16:07:03', '2016-06-21 16:07:03', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `targetings` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:07:03', '2016-06-21 16:07:03', 298486374)
  [1m[36m (3.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_create_ad
----------------------------------------
  [1m[35mAd Load (0.6ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36m (1.3ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0"}}
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered ads/_creative_fields.html.erb (5.8ms)
  Rendered ads/_place_fields.html.erb (1.8ms)
  Rendered ads/_targeting_fields.html.erb (13.5ms)
  Rendered ads/_form.html.erb (57.3ms)
  Rendered ads/new.html.erb within layouts/application (65.9ms)
Completed 200 OK in 496ms (Views: 456.1ms | ActiveRecord: 1.0ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `ads`
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------
AdsControllerTest: test_should_get_new
--------------------------------------
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#new as HTML
  Rendered ads/_creative_fields.html.erb (2.0ms)
  Rendered ads/_creative_fields.html.erb (1.8ms)
  Rendered ads/_place_fields.html.erb (0.7ms)
  Rendered ads/_place_fields.html.erb (0.7ms)
  Rendered ads/_targeting_fields.html.erb (3.7ms)
  Rendered ads/_place_fields.html.erb (0.7ms)
  Rendered ads/_targeting_fields.html.erb (2.8ms)
  Rendered ads/_form.html.erb (16.2ms)
  Rendered ads/new.html.erb within layouts/application (17.0ms)
Completed 200 OK in 24ms (Views: 19.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
AdsControllerTest: test_should_get_edit
---------------------------------------
  [1m[35mAd Load (0.5ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
Processing by AdsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962
  Rendered ads/_creative_fields.html.erb (2.1ms)
  Rendered ads/_creative_fields.html.erb (1.2ms)
  [1m[36mTargeting Load (0.4ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962[0m
  Rendered ads/_place_fields.html.erb (0.8ms)
  Rendered ads/_place_fields.html.erb (0.8ms)
  Rendered ads/_targeting_fields.html.erb (4.1ms)
  Rendered ads/_place_fields.html.erb (0.8ms)
  Rendered ads/_targeting_fields.html.erb (3.1ms)
  Rendered ads/_form.html.erb (17.6ms)
  Rendered ads/edit.html.erb within layouts/application (18.7ms)
Completed 200 OK in 30ms (Views: 22.1ms | ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
AdsControllerTest: test_should_update_post
------------------------------------------
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
Processing by AdsController#update as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0"}, "id"=>"980190962"}
  [1m[36mAd Load (1.2ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962[0m
  [1m[35mTargeting Load (0.3ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered ads/_creative_fields.html.erb (1.6ms)
  Rendered ads/_place_fields.html.erb (0.9ms)
  Rendered ads/_targeting_fields.html.erb (4.0ms)
  Rendered ads/_form.html.erb (11.4ms)
  Rendered ads/edit.html.erb within layouts/application (11.8ms)
Completed 200 OK in 23ms (Views: 13.8ms | ActiveRecord: 2.5ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_get_index
----------------------------------------
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
Processing by AdsController#index as HTML
  [1m[36mAd Load (0.5ms)[0m  [1mSELECT  `ads`.* FROM `ads` LIMIT 10 OFFSET 0[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 298486374
  [1m[36mTargeting Load (0.3ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 298486374[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962
  [1m[36mTargeting Load (0.3ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962[0m
  Rendered ads/index.html.erb within layouts/application (19.6ms)
Completed 200 OK in 25ms (Views: 22.8ms | ActiveRecord: 1.9ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_show_post
----------------------------------------
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
Processing by AdsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Exists (1.0ms)[0m  SELECT  1 AS one FROM `creatives` WHERE `creatives`.`ad_id` = 980190962 LIMIT 1
  [1m[36mTargeting Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `targetings` WHERE `targetings`.`ad_id` = 980190962 LIMIT 1[0m
  Rendered ads/show.html.erb within layouts/application (19.8ms)
Completed 200 OK in 28ms (Views: 25.1ms | ActiveRecord: 1.8ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------
AdsControllerTest: test_should_destroy_post
-------------------------------------------
  [1m[35mAd Load (0.5ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
Processing by AdsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCreative Load (1.0ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962
  [1m[36mTargeting Load (0.5ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM `ads` WHERE `ads`.`id` = 980190962
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/ads
Completed 302 Found in 9ms (ActiveRecord: 2.8ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `ads`
  [1m[36m (0.6ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (65.4ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (2.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (8.2ms)[0m  [1mDELETE FROM `ads`[0m
  [1m[35mFixture Insert (9.9ms)[0m  INSERT INTO `ads` (`budget`, `created_at`, `updated_at`, `id`) VALUES (1234.0, '2016-06-21 16:15:39', '2016-06-21 16:15:39', 980190962)
  [1m[36mFixture Insert (5.1ms)[0m  [1mINSERT INTO `ads` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:15:39', '2016-06-21 16:15:39', 298486374)[0m
  [1m[35mFixture Delete (0.9ms)[0m  DELETE FROM `creatives`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (42.0, 'teste', 1, '2016-06-21 16:15:39', '2016-06-21 16:15:39', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `creatives` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:15:39', '2016-06-21 16:15:39', 298486374)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `places`[0m
  [1m[35mFixture Insert (8.2ms)[0m  INSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`, `id`) VALUES ('bla', 1, '2016-06-21 16:15:39', '2016-06-21 16:15:39', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `places` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:15:39', '2016-06-21 16:15:39', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `targetings`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES ('Male', 1, '2016-06-21 16:15:40', '2016-06-21 16:15:40', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `targetings` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:15:40', '2016-06-21 16:15:40', 298486374)
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
AdsControllerTest: test_should_update_post
------------------------------------------
  [1m[35mAd Load (2.5ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
Processing by AdsController#update as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0"}, "id"=>"980190962"}
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.8ms)[0m  SAVEPOINT active_record_1
  [1m[36mCreative Load (1.5ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962[0m
  [1m[35mTargeting Load (0.5ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered ads/_creative_fields.html.erb (6.7ms)
  Rendered ads/_place_fields.html.erb (3.5ms)
  Rendered ads/_targeting_fields.html.erb (26.7ms)
  Rendered ads/_form.html.erb (71.0ms)
  Rendered ads/edit.html.erb within layouts/application (83.5ms)
Completed 200 OK in 552ms (Views: 501.7ms | ActiveRecord: 3.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_get_index
----------------------------------------
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
Processing by AdsController#index as HTML
  [1m[36mAd Load (0.9ms)[0m  [1mSELECT  `ads`.* FROM `ads` LIMIT 10 OFFSET 0[0m
  [1m[35mCreative Load (0.5ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 298486374
  [1m[36mTargeting Load (0.4ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 298486374[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962
  [1m[36mTargeting Load (0.3ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962[0m
  Rendered ads/index.html.erb within layouts/application (25.2ms)
Completed 200 OK in 30ms (Views: 27.1ms | ActiveRecord: 2.5ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_show_post
----------------------------------------
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
Processing by AdsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Exists (0.5ms)[0m  SELECT  1 AS one FROM `creatives` WHERE `creatives`.`ad_id` = 980190962 LIMIT 1
  [1m[36mTargeting Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `targetings` WHERE `targetings`.`ad_id` = 980190962 LIMIT 1[0m
  Rendered ads/show.html.erb within layouts/application (22.3ms)
Completed 200 OK in 28ms (Views: 25.3ms | ActiveRecord: 1.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
AdsControllerTest: test_should_get_edit
---------------------------------------
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
Processing by AdsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mAd Load (0.5ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.5ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962
  Rendered ads/_creative_fields.html.erb (3.1ms)
  Rendered ads/_creative_fields.html.erb (4.1ms)
  [1m[36mTargeting Load (3.1ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962[0m
  Rendered ads/_place_fields.html.erb (2.2ms)
  Rendered ads/_place_fields.html.erb (1.3ms)
  Rendered ads/_targeting_fields.html.erb (9.2ms)
  Rendered ads/_place_fields.html.erb (1.5ms)
  Rendered ads/_targeting_fields.html.erb (5.1ms)
  Rendered ads/_form.html.erb (32.3ms)
  Rendered ads/edit.html.erb within layouts/application (32.8ms)
Completed 200 OK in 44ms (Views: 32.0ms | ActiveRecord: 4.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_create_ad
----------------------------------------
  [1m[35mAd Load (0.6ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36m (2.0ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0"}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered ads/_creative_fields.html.erb (2.5ms)
  Rendered ads/_place_fields.html.erb (1.7ms)
  Rendered ads/_targeting_fields.html.erb (5.5ms)
  Rendered ads/_form.html.erb (19.1ms)
  Rendered ads/new.html.erb within layouts/application (20.6ms)
Completed 200 OK in 32ms (Views: 26.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `ads`
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------
AdsControllerTest: test_destroy
-------------------------------
  [1m[36mAd Load (1.1ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mAd Load (2.1ms)[0m  SELECT  `ads`.* FROM `ads`  ORDER BY `ads`.`id` ASC LIMIT 1
Processing by AdsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 298486374 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mCreative Load (0.5ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 298486374[0m
  [1m[35mTargeting Load (0.5ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 298486374
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM `ads` WHERE `ads`.`id` = 298486374[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/ads
Completed 302 Found in 7ms (ActiveRecord: 2.2ms)
  [1m[36mAd Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `ads` WHERE `ads`.`id` = 298486374 LIMIT 1[0m
  [1m[35m (4.9ms)[0m  ROLLBACK
  [1m[36m (0.7ms)[0m  [1mBEGIN[0m
--------------------------------------
AdsControllerTest: test_should_get_new
--------------------------------------
  [1m[35mAd Load (0.7ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
Processing by AdsController#new as HTML
  Rendered ads/_creative_fields.html.erb (3.5ms)
  Rendered ads/_creative_fields.html.erb (2.3ms)
  Rendered ads/_place_fields.html.erb (1.4ms)
  Rendered ads/_place_fields.html.erb (1.2ms)
  Rendered ads/_targeting_fields.html.erb (6.6ms)
  Rendered ads/_place_fields.html.erb (1.0ms)
  Rendered ads/_targeting_fields.html.erb (3.7ms)
  Rendered ads/_form.html.erb (65.9ms)
  Rendered ads/new.html.erb within layouts/application (66.7ms)
Completed 200 OK in 96ms (Views: 71.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
-------------------------------------------
AdsControllerTest: test_should_destroy_post
-------------------------------------------
  [1m[36mAd Load (3.9ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `ads`
Processing by AdsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mCreative Load (1.4ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962[0m
  [1m[35mTargeting Load (0.5ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM `ads` WHERE `ads`.`id` = 980190962[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/ads
Completed 302 Found in 11ms (ActiveRecord: 3.1ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
  [1m[35m (1.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.5ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (1.8ms)[0m  [1mDELETE FROM `ads`[0m
  [1m[35mFixture Insert (2.3ms)[0m  INSERT INTO `ads` (`budget`, `created_at`, `updated_at`, `id`) VALUES (1234.0, '2016-06-21 16:17:06', '2016-06-21 16:17:06', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `ads` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:17:06', '2016-06-21 16:17:06', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `creatives`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (42.0, 'teste', 1, '2016-06-21 16:17:06', '2016-06-21 16:17:06', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `creatives` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:17:06', '2016-06-21 16:17:06', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `places`[0m
  [1m[35mFixture Insert (2.9ms)[0m  INSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`, `id`) VALUES ('bla', 1, '2016-06-21 16:17:06', '2016-06-21 16:17:06', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `places` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:17:06', '2016-06-21 16:17:06', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `targetings`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES ('Male', 1, '2016-06-21 16:17:06', '2016-06-21 16:17:06', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `targetings` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:17:06', '2016-06-21 16:17:06', 298486374)
  [1m[36m (2.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------
AdsControllerTest: test_should_destroy_post
-------------------------------------------
  [1m[35mAd Load (1.1ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mAd Load (0.6ms)[0m  [1mSELECT  `ads`.* FROM `ads`  ORDER BY `ads`.`id` ASC LIMIT 1[0m
Processing by AdsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[35mAd Load (0.5ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 298486374 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 298486374
  [1m[36mTargeting Load (0.4ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 298486374[0m
  [1m[35mSQL (3.5ms)[0m  DELETE FROM `ads` WHERE `ads`.`id` = 298486374
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/ads
Completed 302 Found in 49ms (ActiveRecord: 5.3ms)
  [1m[35mAd Exists (0.4ms)[0m  SELECT  1 AS one FROM `ads` WHERE `ads`.`id` = 298486374 LIMIT 1
  [1m[36m (0.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
AdsControllerTest: test_should_show_post
----------------------------------------
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mAd Load (0.7ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `creatives` WHERE `creatives`.`ad_id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Exists (0.5ms)[0m  SELECT  1 AS one FROM `targetings` WHERE `targetings`.`ad_id` = 980190962 LIMIT 1
  Rendered ads/show.html.erb within layouts/application (41.2ms)
Completed 200 OK in 483ms (Views: 479.6ms | ActiveRecord: 1.7ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------
AdsControllerTest: test_create_valid
------------------------------------
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.6ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
AdsControllerTest: test_should_get_new
--------------------------------------
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
Processing by AdsController#new as HTML
  Rendered ads/_creative_fields.html.erb (9.3ms)
  Rendered ads/_creative_fields.html.erb (1.6ms)
  Rendered ads/_place_fields.html.erb (2.9ms)
  Rendered ads/_place_fields.html.erb (0.9ms)
  Rendered ads/_targeting_fields.html.erb (13.1ms)
  Rendered ads/_place_fields.html.erb (1.5ms)
  Rendered ads/_targeting_fields.html.erb (5.0ms)
  Rendered ads/_form.html.erb (92.7ms)
  Rendered ads/new.html.erb within layouts/application (99.8ms)
Completed 200 OK in 127ms (Views: 104.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
AdsControllerTest: test_should_update_post
------------------------------------------
  [1m[36mAd Load (0.5ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#update as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0"}, "id"=>"980190962"}
  [1m[35mAd Load (0.9ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962
  [1m[36mTargeting Load (0.3ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered ads/_creative_fields.html.erb (1.8ms)
  Rendered ads/_place_fields.html.erb (1.1ms)
  Rendered ads/_targeting_fields.html.erb (4.0ms)
  Rendered ads/_form.html.erb (12.0ms)
  Rendered ads/edit.html.erb within layouts/application (13.0ms)
Completed 200 OK in 28ms (Views: 17.4ms | ActiveRecord: 1.9ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
AdsControllerTest: test_should_get_index
----------------------------------------
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#index as HTML
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` LIMIT 10 OFFSET 0
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 298486374[0m
  [1m[35mTargeting Load (0.3ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 298486374
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962[0m
  [1m[35mTargeting Load (0.4ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962
  Rendered ads/index.html.erb within layouts/application (12.8ms)
Completed 200 OK in 18ms (Views: 15.4ms | ActiveRecord: 1.7ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------
AdsControllerTest: test_should_get_edit
---------------------------------------
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mAd Load (1.1ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.5ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962[0m
  Rendered ads/_creative_fields.html.erb (2.6ms)
  Rendered ads/_creative_fields.html.erb (1.8ms)
  [1m[35mTargeting Load (0.4ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962
  Rendered ads/_place_fields.html.erb (1.5ms)
  Rendered ads/_place_fields.html.erb (1.3ms)
  Rendered ads/_targeting_fields.html.erb (9.2ms)
  Rendered ads/_place_fields.html.erb (1.2ms)
  Rendered ads/_targeting_fields.html.erb (4.3ms)
  Rendered ads/_form.html.erb (26.9ms)
  Rendered ads/edit.html.erb within layouts/application (27.9ms)
Completed 200 OK in 40ms (Views: 30.1ms | ActiveRecord: 2.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
AdsControllerTest: test_should_create_ad
----------------------------------------
  [1m[36mAd Load (1.0ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `ads`
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0"}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered ads/_creative_fields.html.erb (5.3ms)
  Rendered ads/_place_fields.html.erb (1.6ms)
  Rendered ads/_targeting_fields.html.erb (9.7ms)
  Rendered ads/_form.html.erb (25.7ms)
  Rendered ads/new.html.erb within layouts/application (26.2ms)
Completed 200 OK in 41ms (Views: 33.1ms | ActiveRecord: 0.4ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------
AdsControllerTest: test_create_invalid
--------------------------------------
  [1m[35mAd Load (0.8ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (12.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (1.0ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (2.0ms)[0m  BEGIN
  [1m[36mFixture Delete (5.9ms)[0m  [1mDELETE FROM `ads`[0m
  [1m[35mFixture Insert (1.4ms)[0m  INSERT INTO `ads` (`budget`, `created_at`, `updated_at`, `id`) VALUES (1234.0, '2016-06-21 16:26:19', '2016-06-21 16:26:19', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `ads` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:26:19', '2016-06-21 16:26:19', 298486374)[0m
  [1m[35mFixture Delete (1.4ms)[0m  DELETE FROM `creatives`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (42.0, 'teste', 1, '2016-06-21 16:26:19', '2016-06-21 16:26:19', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `creatives` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:26:19', '2016-06-21 16:26:19', 298486374)
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM `places`[0m
  [1m[35mFixture Insert (4.1ms)[0m  INSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`, `id`) VALUES ('bla', 1, '2016-06-21 16:26:20', '2016-06-21 16:26:20', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `places` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:26:20', '2016-06-21 16:26:20', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `targetings`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES ('Male', 1, '2016-06-21 16:26:20', '2016-06-21 16:26:20', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `targetings` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:26:20', '2016-06-21 16:26:20', 298486374)
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_create_ad
----------------------------------------
  [1m[35mAd Load (1.9ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.5ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Load (0.4ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.4ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `ads`
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"42.0", "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
Completed 500 Internal Server Error in 34ms (ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
AdsControllerTest: test_should_get_edit
---------------------------------------
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.5ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1
  [1m[36mTargeting Load (0.4ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.3ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
Processing by AdsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.5ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962
  Rendered ads/_creative_fields.html.erb (6.1ms)
  Rendered ads/_creative_fields.html.erb (2.5ms)
  [1m[36mTargeting Load (0.3ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962[0m
  Rendered ads/_place_fields.html.erb (2.7ms)
  Rendered ads/_place_fields.html.erb (1.5ms)
  Rendered ads/_targeting_fields.html.erb (13.1ms)
  Rendered ads/_place_fields.html.erb (1.3ms)
  Rendered ads/_targeting_fields.html.erb (4.7ms)
  Rendered ads/_form.html.erb (90.0ms)
  Rendered ads/edit.html.erb within layouts/application (99.9ms)
Completed 200 OK in 641ms (Views: 633.4ms | ActiveRecord: 1.1ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_show_post
----------------------------------------
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.5ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Load (0.4ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.4ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM `creatives` WHERE `creatives`.`ad_id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Exists (0.4ms)[0m  SELECT  1 AS one FROM `targetings` WHERE `targetings`.`ad_id` = 980190962 LIMIT 1
  Rendered ads/show.html.erb within layouts/application (48.1ms)
Completed 200 OK in 60ms (Views: 55.9ms | ActiveRecord: 1.8ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------
AdsControllerTest: test_should_get_new
--------------------------------------
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.2ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1
  [1m[36mTargeting Load (0.3ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.4ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
Processing by AdsController#new as HTML
  Rendered ads/_creative_fields.html.erb (1.8ms)
  Rendered ads/_creative_fields.html.erb (1.9ms)
  Rendered ads/_place_fields.html.erb (1.4ms)
  Rendered ads/_place_fields.html.erb (0.9ms)
  Rendered ads/_targeting_fields.html.erb (5.4ms)
  Rendered ads/_place_fields.html.erb (1.0ms)
  Rendered ads/_targeting_fields.html.erb (4.1ms)
  Rendered ads/_form.html.erb (17.9ms)
  Rendered ads/new.html.erb within layouts/application (19.4ms)
Completed 200 OK in 34ms (Views: 27.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
AdsControllerTest: test_should_get_index
----------------------------------------
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1
  [1m[36mTargeting Load (0.3ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.5ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
Processing by AdsController#index as HTML
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` LIMIT 10 OFFSET 0[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 298486374
  [1m[36mTargeting Load (0.3ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 298486374[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962
  [1m[36mTargeting Load (0.3ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962[0m
  Rendered ads/index.html.erb within layouts/application (11.9ms)
Completed 200 OK in 19ms (Views: 16.2ms | ActiveRecord: 1.6ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------------
AdsControllerTest: test_should_destroy_post
-------------------------------------------
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Load (0.4ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.3ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads`  ORDER BY `ads`.`id` ASC LIMIT 1
Processing by AdsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 298486374 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 298486374[0m
  [1m[35mTargeting Load (0.3ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 298486374
  [1m[36mSQL (13.5ms)[0m  [1mDELETE FROM `ads` WHERE `ads`.`id` = 298486374[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/ads
Completed 302 Found in 19ms (ActiveRecord: 14.7ms)
  [1m[36mAd Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `ads` WHERE `ads`.`id` = 298486374 LIMIT 1[0m
  [1m[35m (0.6ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
AdsControllerTest: test_should_update_post
------------------------------------------
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Load (0.3ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.7ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#update as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0"}, "id"=>"980190962"}
  [1m[35mAd Load (0.5ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962
  [1m[36mTargeting Load (0.3ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered ads/_creative_fields.html.erb (5.2ms)
  Rendered ads/_place_fields.html.erb (2.7ms)
  Rendered ads/_targeting_fields.html.erb (10.1ms)
  Rendered ads/_form.html.erb (21.7ms)
  Rendered ads/edit.html.erb within layouts/application (22.4ms)
Completed 200 OK in 36ms (Views: 27.2ms | ActiveRecord: 1.5ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (4.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (3.7ms)[0m  [1mDELETE FROM `ads`[0m
  [1m[35mFixture Insert (0.9ms)[0m  INSERT INTO `ads` (`budget`, `created_at`, `updated_at`, `id`) VALUES (1234.0, '2016-06-21 16:28:33', '2016-06-21 16:28:33', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `ads` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:28:33', '2016-06-21 16:28:33', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `creatives`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (42.0, 'teste', 1, '2016-06-21 16:28:33', '2016-06-21 16:28:33', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `creatives` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:28:33', '2016-06-21 16:28:33', 298486374)
  [1m[36mFixture Delete (2.0ms)[0m  [1mDELETE FROM `places`[0m
  [1m[35mFixture Insert (3.2ms)[0m  INSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`, `id`) VALUES ('bla', 1, '2016-06-21 16:28:33', '2016-06-21 16:28:33', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `places` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:28:33', '2016-06-21 16:28:33', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `targetings`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES ('Male', 1, '2016-06-21 16:28:33', '2016-06-21 16:28:33', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `targetings` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:28:33', '2016-06-21 16:28:33', 298486374)
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
AdsControllerTest: test_should_update_post
------------------------------------------
  [1m[35mAd Load (0.6ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Load (0.6ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.4ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#update as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0"}, "id"=>"980190962"}
  [1m[35mAd Load (0.7ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCreative Load (2.0ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962
  [1m[36mTargeting Load (0.4ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered ads/_creative_fields.html.erb (6.5ms)
  Rendered ads/_place_fields.html.erb (2.2ms)
  Rendered ads/_targeting_fields.html.erb (12.1ms)
  Rendered ads/_form.html.erb (51.6ms)
  Rendered ads/edit.html.erb within layouts/application (68.8ms)
Completed 200 OK in 593ms (Views: 535.4ms | ActiveRecord: 3.5ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
AdsControllerTest: test_should_destroy_post
-------------------------------------------
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.9ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1
  [1m[36mTargeting Load (1.1ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.3ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads`  ORDER BY `ads`.`id` ASC LIMIT 1[0m
Processing by AdsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[35mAd Load (0.8ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 298486374 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 298486374
  [1m[36mTargeting Load (1.0ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 298486374[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM `ads` WHERE `ads`.`id` = 298486374
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/ads
Completed 302 Found in 9ms (ActiveRecord: 3.1ms)
  [1m[35mAd Exists (0.3ms)[0m  SELECT  1 AS one FROM `ads` WHERE `ads`.`id` = 298486374 LIMIT 1
  [1m[36m (4.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
----------------------------------------
AdsControllerTest: test_should_get_index
----------------------------------------
  [1m[36mAd Load (0.5ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.8ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1
  [1m[36mTargeting Load (0.6ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.5ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
Processing by AdsController#index as HTML
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` LIMIT 10 OFFSET 0[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 298486374
  [1m[36mTargeting Load (0.3ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 298486374[0m
  [1m[35mCreative Load (0.5ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962
  [1m[36mTargeting Load (0.4ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962[0m
  Rendered ads/index.html.erb within layouts/application (20.5ms)
Completed 200 OK in 25ms (Views: 22.7ms | ActiveRecord: 2.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
AdsControllerTest: test_should_get_edit
---------------------------------------
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Load (0.4ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.4ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962[0m
  Rendered ads/_creative_fields.html.erb (1.6ms)
  Rendered ads/_creative_fields.html.erb (1.3ms)
  [1m[35mTargeting Load (0.4ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962
  Rendered ads/_place_fields.html.erb (1.1ms)
  Rendered ads/_place_fields.html.erb (1.1ms)
  Rendered ads/_targeting_fields.html.erb (5.1ms)
  Rendered ads/_place_fields.html.erb (1.0ms)
  Rendered ads/_targeting_fields.html.erb (3.7ms)
  Rendered ads/_form.html.erb (18.2ms)
  Rendered ads/edit.html.erb within layouts/application (19.0ms)
Completed 200 OK in 27ms (Views: 20.7ms | ActiveRecord: 1.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------
AdsControllerTest: test_should_get_new
--------------------------------------
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (1.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1
  [1m[36mTargeting Load (1.2ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.4ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
Processing by AdsController#new as HTML
  Rendered ads/_creative_fields.html.erb (1.5ms)
  Rendered ads/_creative_fields.html.erb (1.1ms)
  Rendered ads/_place_fields.html.erb (1.2ms)
  Rendered ads/_place_fields.html.erb (1.0ms)
  Rendered ads/_targeting_fields.html.erb (4.9ms)
  Rendered ads/_place_fields.html.erb (1.0ms)
  Rendered ads/_targeting_fields.html.erb (3.6ms)
  Rendered ads/_form.html.erb (15.0ms)
  Rendered ads/new.html.erb within layouts/application (16.3ms)
Completed 200 OK in 30ms (Views: 23.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
AdsControllerTest: test_should_create_ad
----------------------------------------
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (4.0ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1
  [1m[36mTargeting Load (0.4ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.3ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
  [1m[36m (9.3ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"42.0", "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.3ms)[0m  [1mINSERT INTO `ads` (`budget`, `created_at`, `updated_at`) VALUES (1234.0, '2016-06-21 16:28:34', '2016-06-21 16:28:34')[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`) VALUES (42.0, 'teste', 980190963, '2016-06-21 16:28:34', '2016-06-21 16:28:34')
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`) VALUES ('Male', 980190963, '2016-06-21 16:28:34', '2016-06-21 16:28:34')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`) VALUES ('bla', 980190963, '2016-06-21 16:28:34', '2016-06-21 16:28:34')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/ads
Completed 302 Found in 26ms (ActiveRecord: 6.4ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `ads`
  [1m[36m (2.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
AdsControllerTest: test_should_show_post
----------------------------------------
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1
  [1m[36mTargeting Load (0.5ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.4ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
Processing by AdsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Exists (0.5ms)[0m  SELECT  1 AS one FROM `creatives` WHERE `creatives`.`ad_id` = 980190962 LIMIT 1
  [1m[36mTargeting Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `targetings` WHERE `targetings`.`ad_id` = 980190962 LIMIT 1[0m
  Rendered ads/show.html.erb within layouts/application (10.9ms)
Completed 200 OK in 17ms (Views: 14.3ms | ActiveRecord: 1.6ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `ads`[0m
  [1m[35mFixture Insert (4.3ms)[0m  INSERT INTO `ads` (`budget`, `created_at`, `updated_at`, `id`) VALUES (1234.0, '2016-06-21 16:29:51', '2016-06-21 16:29:51', 980190962)
  [1m[36mFixture Insert (1.9ms)[0m  [1mINSERT INTO `ads` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:29:51', '2016-06-21 16:29:51', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `creatives`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (42.0, 'teste', 1, '2016-06-21 16:29:51', '2016-06-21 16:29:51', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `creatives` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:29:51', '2016-06-21 16:29:51', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `places`[0m
  [1m[35mFixture Insert (4.1ms)[0m  INSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`, `id`) VALUES ('bla', 1, '2016-06-21 16:29:51', '2016-06-21 16:29:51', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `places` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:29:51', '2016-06-21 16:29:51', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `targetings`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES ('Male', 1, '2016-06-21 16:29:51', '2016-06-21 16:29:51', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `targetings` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:29:51', '2016-06-21 16:29:51', 298486374)
  [1m[36m (2.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_get_index
----------------------------------------
  [1m[35mAd Load (0.7ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.8ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Load (0.3ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.3ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#index as HTML
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` LIMIT 10 OFFSET 0
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 298486374[0m
  [1m[35mTargeting Load (0.4ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 298486374
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962[0m
  [1m[35mTargeting Load (0.3ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962
  Rendered ads/index.html.erb within layouts/application (79.7ms)
Completed 200 OK in 491ms (Views: 488.6ms | ActiveRecord: 1.8ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------
AdsControllerTest: test_should_get_new
--------------------------------------
  [1m[36mAd Load (1.1ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1
  [1m[36mTargeting Load (0.9ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.4ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
Processing by AdsController#new as HTML
  Rendered ads/_creative_fields.html.erb (6.9ms)
  Rendered ads/_creative_fields.html.erb (1.7ms)
  Rendered ads/_place_fields.html.erb (2.9ms)
  Rendered ads/_place_fields.html.erb (1.1ms)
  Rendered ads/_targeting_fields.html.erb (13.6ms)
  Rendered ads/_place_fields.html.erb (1.1ms)
  Rendered ads/_targeting_fields.html.erb (4.5ms)
  Rendered ads/_form.html.erb (91.8ms)
  Rendered ads/new.html.erb within layouts/application (99.6ms)
Completed 200 OK in 113ms (Views: 104.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
AdsControllerTest: test_should_show_post
----------------------------------------
  [1m[36mAd Load (0.6ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (1.1ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1
  [1m[36mTargeting Load (0.4ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.3ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
Processing by AdsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Exists (0.5ms)[0m  SELECT  1 AS one FROM `creatives` WHERE `creatives`.`ad_id` = 980190962 LIMIT 1
  [1m[36mTargeting Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `targetings` WHERE `targetings`.`ad_id` = 980190962 LIMIT 1[0m
  Rendered ads/show.html.erb within layouts/application (18.5ms)
Completed 200 OK in 25ms (Views: 22.1ms | ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
AdsControllerTest: test_should_update_post
------------------------------------------
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Load (0.4ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.8ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#update as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0"}, "id"=>"980190962"}
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962
  [1m[36mTargeting Load (0.4ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered ads/_creative_fields.html.erb (0.9ms)
  Rendered ads/_place_fields.html.erb (1.3ms)
  Rendered ads/_targeting_fields.html.erb (3.4ms)
  Rendered ads/_form.html.erb (8.9ms)
  Rendered ads/edit.html.erb within layouts/application (10.2ms)
Completed 200 OK in 23ms (Views: 15.5ms | ActiveRecord: 1.5ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
AdsControllerTest: test_should_get_edit
---------------------------------------
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.7ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1
  [1m[36mTargeting Load (1.1ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.5ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
Processing by AdsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mAd Load (0.6ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962
  Rendered ads/_creative_fields.html.erb (8.5ms)
  Rendered ads/_creative_fields.html.erb (6.8ms)
  [1m[36mTargeting Load (0.6ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962[0m
  Rendered ads/_place_fields.html.erb (2.1ms)
  Rendered ads/_place_fields.html.erb (1.9ms)
  Rendered ads/_targeting_fields.html.erb (9.8ms)
  Rendered ads/_place_fields.html.erb (2.8ms)
  Rendered ads/_targeting_fields.html.erb (14.4ms)
  Rendered ads/_form.html.erb (52.5ms)
  Rendered ads/edit.html.erb within layouts/application (54.4ms)
Completed 200 OK in 66ms (Views: 58.8ms | ActiveRecord: 1.5ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------------
AdsControllerTest: test_should_destroy_post
-------------------------------------------
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.5ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Load (1.4ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.5ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
  [1m[35mAd Load (0.5ms)[0m  SELECT  `ads`.* FROM `ads`  ORDER BY `ads`.`id` ASC LIMIT 1
Processing by AdsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mAd Load (0.5ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 298486374 LIMIT 1[0m
  [1m[35m (0.6ms)[0m  SAVEPOINT active_record_1
  [1m[36mCreative Load (0.5ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 298486374[0m
  [1m[35mTargeting Load (0.4ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 298486374
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM `ads` WHERE `ads`.`id` = 298486374[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/ads
Completed 302 Found in 13ms (ActiveRecord: 2.5ms)
  [1m[36mAd Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `ads` WHERE `ads`.`id` = 298486374 LIMIT 1[0m
  [1m[35m (2.0ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_create_ad
----------------------------------------
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (1.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Load (0.8ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.4ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `ads`
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"42.0", "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.7ms)[0m  INSERT INTO `ads` (`budget`, `created_at`, `updated_at`) VALUES (1234.0, '2016-06-21 16:29:52', '2016-06-21 16:29:52')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`) VALUES (42.0, 'teste', 980190964, '2016-06-21 16:29:52', '2016-06-21 16:29:52')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`) VALUES ('Male', 980190964, '2016-06-21 16:29:52', '2016-06-21 16:29:52')
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`) VALUES ('bla', 980190964, '2016-06-21 16:29:52', '2016-06-21 16:29:52')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/ads
Completed 302 Found in 23ms (ActiveRecord: 4.0ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `ads`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `ads` (`budget`, `created_at`, `updated_at`, `id`) VALUES (1234.0, '2016-06-21 16:31:04', '2016-06-21 16:31:04', 980190962)
  [1m[36mFixture Insert (2.3ms)[0m  [1mINSERT INTO `ads` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:31:04', '2016-06-21 16:31:04', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `creatives`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (42.0, 'teste', 1, '2016-06-21 16:31:04', '2016-06-21 16:31:04', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `creatives` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:31:04', '2016-06-21 16:31:04', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `places`[0m
  [1m[35mFixture Insert (3.7ms)[0m  INSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`, `id`) VALUES ('bla', 1, '2016-06-21 16:31:04', '2016-06-21 16:31:04', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `places` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:31:04', '2016-06-21 16:31:04', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `targetings`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES ('Male', 1, '2016-06-21 16:31:04', '2016-06-21 16:31:04', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `targetings` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:31:04', '2016-06-21 16:31:04', 298486374)
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
AdsControllerTest: test_should_get_new
--------------------------------------
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Load (0.3ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.3ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#new as HTML
  Rendered ads/_creative_fields.html.erb (17.0ms)
  Rendered ads/_creative_fields.html.erb (2.3ms)
  Rendered ads/_place_fields.html.erb (2.8ms)
  Rendered ads/_place_fields.html.erb (1.1ms)
  Rendered ads/_targeting_fields.html.erb (15.8ms)
  Rendered ads/_place_fields.html.erb (1.0ms)
  Rendered ads/_targeting_fields.html.erb (3.8ms)
  Rendered ads/_form.html.erb (99.8ms)
  Rendered ads/new.html.erb within layouts/application (109.1ms)
Completed 200 OK in 541ms (Views: 512.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_show_post
----------------------------------------
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.5ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Load (0.5ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.8ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mAd Load (4.6ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `creatives` WHERE `creatives`.`ad_id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Exists (0.3ms)[0m  SELECT  1 AS one FROM `targetings` WHERE `targetings`.`ad_id` = 980190962 LIMIT 1
  Rendered ads/show.html.erb within layouts/application (31.7ms)
Completed 200 OK in 48ms (Views: 35.6ms | ActiveRecord: 5.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------
AdsControllerTest: test_should_update_post
------------------------------------------
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.5ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1
  [1m[36mTargeting Load (1.0ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.8ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
Processing by AdsController#update as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0"}, "id"=>"980190962"}
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mCreative Load (10.8ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962[0m
  [1m[35mTargeting Load (0.5ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered ads/_creative_fields.html.erb (1.6ms)
  Rendered ads/_place_fields.html.erb (1.1ms)
  Rendered ads/_targeting_fields.html.erb (5.3ms)
  Rendered ads/_form.html.erb (13.2ms)
  Rendered ads/edit.html.erb within layouts/application (14.3ms)
Completed 200 OK in 42ms (Views: 18.3ms | ActiveRecord: 12.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
AdsControllerTest: test_should_destroy_post
-------------------------------------------
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Load (0.5ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (1.4ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads`  ORDER BY `ads`.`id` ASC LIMIT 1
Processing by AdsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 298486374 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCreative Load (0.5ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 298486374[0m
  [1m[35mTargeting Load (0.4ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 298486374
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM `ads` WHERE `ads`.`id` = 298486374[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/ads
Completed 302 Found in 8ms (ActiveRecord: 2.0ms)
  [1m[36mAd Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `ads` WHERE `ads`.`id` = 298486374 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_get_index
----------------------------------------
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.6ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Load (0.4ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.3ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#index as HTML
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` LIMIT 10 OFFSET 0
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 298486374[0m
  [1m[35mTargeting Load (0.3ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 298486374
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962[0m
  [1m[35mTargeting Load (0.3ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962
  Rendered ads/index.html.erb within layouts/application (10.6ms)
Completed 200 OK in 16ms (Views: 13.0ms | ActiveRecord: 1.8ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
AdsControllerTest: test_should_create_ad
----------------------------------------
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.5ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1
  [1m[36mTargeting Load (0.3ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.4ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"42.0", "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
AdsControllerTest: test_should_get_edit
---------------------------------------
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Load (0.9ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.8ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.5ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962[0m
  Rendered ads/_creative_fields.html.erb (1.5ms)
  Rendered ads/_creative_fields.html.erb (1.5ms)
  [1m[35mTargeting Load (0.4ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962
  Rendered ads/_place_fields.html.erb (1.4ms)
  Rendered ads/_place_fields.html.erb (1.1ms)
  Rendered ads/_targeting_fields.html.erb (5.4ms)
  Rendered ads/_place_fields.html.erb (0.9ms)
  Rendered ads/_targeting_fields.html.erb (3.6ms)
  Rendered ads/_form.html.erb (20.1ms)
  Rendered ads/edit.html.erb within layouts/application (20.7ms)
Completed 200 OK in 26ms (Views: 21.9ms | ActiveRecord: 1.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.5ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `ads`[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO `ads` (`budget`, `created_at`, `updated_at`, `id`) VALUES (1234.0, '2016-06-21 16:31:58', '2016-06-21 16:31:58', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `ads` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:31:58', '2016-06-21 16:31:58', 298486374)[0m
  [1m[35mFixture Delete (1.7ms)[0m  DELETE FROM `creatives`
  [1m[36mFixture Insert (0.9ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (42.0, 'teste', 1, '2016-06-21 16:31:58', '2016-06-21 16:31:58', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `creatives` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:31:58', '2016-06-21 16:31:58', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `places`[0m
  [1m[35mFixture Insert (2.6ms)[0m  INSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`, `id`) VALUES ('bla', 1, '2016-06-21 16:31:58', '2016-06-21 16:31:58', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `places` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:31:58', '2016-06-21 16:31:58', 298486374)[0m
  [1m[35mFixture Delete (1.7ms)[0m  DELETE FROM `targetings`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES ('Male', 1, '2016-06-21 16:31:58', '2016-06-21 16:31:58', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `targetings` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:31:58', '2016-06-21 16:31:58', 298486374)
  [1m[36m (0.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
AdsControllerTest: test_should_update_post
------------------------------------------
  [1m[35mAd Load (0.6ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (1.5ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Load (0.5ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.5ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#update as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0"}, "id"=>"980190962"}
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962
  [1m[36mTargeting Load (0.4ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered ads/_creative_fields.html.erb (7.2ms)
  Rendered ads/_place_fields.html.erb (2.1ms)
  Rendered ads/_targeting_fields.html.erb (12.8ms)
  Rendered ads/_form.html.erb (51.1ms)
  Rendered ads/edit.html.erb within layouts/application (60.4ms)
Completed 200 OK in 585ms (Views: 519.9ms | ActiveRecord: 1.7ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
AdsControllerTest: test_should_destroy_post
-------------------------------------------
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1
  [1m[36mTargeting Load (0.4ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (1.1ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
  [1m[36mAd Load (0.5ms)[0m  [1mSELECT  `ads`.* FROM `ads`  ORDER BY `ads`.`id` ASC LIMIT 1[0m
Processing by AdsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 298486374 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 298486374
  [1m[36mTargeting Load (0.2ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 298486374[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `ads` WHERE `ads`.`id` = 298486374
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/ads
Completed 302 Found in 6ms (ActiveRecord: 1.5ms)
  [1m[35mAd Exists (0.4ms)[0m  SELECT  1 AS one FROM `ads` WHERE `ads`.`id` = 298486374 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
AdsControllerTest: test_should_show_post
----------------------------------------
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1
  [1m[36mTargeting Load (0.4ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.4ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
Processing by AdsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mAd Load (1.1ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Exists (0.5ms)[0m  SELECT  1 AS one FROM `creatives` WHERE `creatives`.`ad_id` = 980190962 LIMIT 1
  [1m[36mTargeting Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `targetings` WHERE `targetings`.`ad_id` = 980190962 LIMIT 1[0m
  Rendered ads/show.html.erb within layouts/application (19.6ms)
Completed 200 OK in 28ms (Views: 23.5ms | ActiveRecord: 2.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
AdsControllerTest: test_should_get_new
--------------------------------------
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.5ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Load (0.5ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.4ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#new as HTML
  Rendered ads/_creative_fields.html.erb (2.6ms)
  Rendered ads/_creative_fields.html.erb (1.2ms)
  Rendered ads/_place_fields.html.erb (0.9ms)
  Rendered ads/_place_fields.html.erb (1.2ms)
  Rendered ads/_targeting_fields.html.erb (4.7ms)
  Rendered ads/_place_fields.html.erb (1.3ms)
  Rendered ads/_targeting_fields.html.erb (4.1ms)
  Rendered ads/_form.html.erb (17.5ms)
  Rendered ads/new.html.erb within layouts/application (18.7ms)
Completed 200 OK in 30ms (Views: 25.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_get_index
----------------------------------------
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.5ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Load (1.3ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.3ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#index as HTML
  [1m[35mAd Load (0.5ms)[0m  SELECT  `ads`.* FROM `ads` LIMIT 10 OFFSET 0
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 298486374[0m
  [1m[35mTargeting Load (0.3ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 298486374
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962[0m
  [1m[35mTargeting Load (0.3ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962
  Rendered ads/index.html.erb within layouts/application (12.2ms)
Completed 200 OK in 17ms (Views: 14.6ms | ActiveRecord: 1.7ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
---------------------------------------
AdsControllerTest: test_should_get_edit
---------------------------------------
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.9ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1
  [1m[36mTargeting Load (0.4ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.3ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
Processing by AdsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mAd Load (0.5ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.6ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962
  Rendered ads/_creative_fields.html.erb (2.2ms)
  Rendered ads/_creative_fields.html.erb (2.3ms)
  [1m[36mTargeting Load (0.5ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962[0m
  Rendered ads/_place_fields.html.erb (1.1ms)
  Rendered ads/_place_fields.html.erb (1.2ms)
  Rendered ads/_targeting_fields.html.erb (6.5ms)
  Rendered ads/_place_fields.html.erb (1.2ms)
  Rendered ads/_targeting_fields.html.erb (4.9ms)
  Rendered ads/_form.html.erb (24.1ms)
  Rendered ads/edit.html.erb within layouts/application (24.6ms)
Completed 200 OK in 32ms (Views: 26.9ms | ActiveRecord: 1.6ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_create_ad
----------------------------------------
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Load (0.5ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.7ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `ads`
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"42.0", "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.9ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `ads`[0m
  [1m[35mFixture Insert (5.0ms)[0m  INSERT INTO `ads` (`budget`, `created_at`, `updated_at`, `id`) VALUES (1234.0, '2016-06-21 16:33:31', '2016-06-21 16:33:31', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `ads` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:33:31', '2016-06-21 16:33:31', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `creatives`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (42.0, 'teste', 1, '2016-06-21 16:33:31', '2016-06-21 16:33:31', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `creatives` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:33:31', '2016-06-21 16:33:31', 298486374)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `places`[0m
  [1m[35mFixture Insert (5.4ms)[0m  INSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`, `id`) VALUES ('bla', 1, '2016-06-21 16:33:31', '2016-06-21 16:33:31', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `places` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:33:31', '2016-06-21 16:33:31', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `targetings`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES ('Male', 1, '2016-06-21 16:33:31', '2016-06-21 16:33:31', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `targetings` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:33:31', '2016-06-21 16:33:31', 298486374)
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------
AdsControllerTest: test_should_destroy_post
-------------------------------------------
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Load (0.3ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.3ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads`  ORDER BY `ads`.`id` ASC LIMIT 1
Processing by AdsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 298486374 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 298486374[0m
  [1m[35mTargeting Load (0.3ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 298486374
  [1m[36mSQL (1.7ms)[0m  [1mDELETE FROM `ads` WHERE `ads`.`id` = 298486374[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/ads
Completed 302 Found in 29ms (ActiveRecord: 3.1ms)
  [1m[36mAd Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM `ads` WHERE `ads`.`id` = 298486374 LIMIT 1[0m
  [1m[35m (4.0ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_create_ad
----------------------------------------
  [1m[35mAd Load (0.7ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.5ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Load (0.9ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (1.1ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `ads`
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"42.0", "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------
AdsControllerTest: test_should_get_edit
---------------------------------------
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.6ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1
  [1m[36mTargeting Load (1.2ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.6ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
Processing by AdsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mAd Load (0.7ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962
  Rendered ads/_creative_fields.html.erb (8.0ms)
  Rendered ads/_creative_fields.html.erb (1.9ms)
  [1m[36mTargeting Load (0.5ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962[0m
  Rendered ads/_place_fields.html.erb (3.1ms)
  Rendered ads/_place_fields.html.erb (2.2ms)
  Rendered ads/_targeting_fields.html.erb (25.8ms)
  Rendered ads/_place_fields.html.erb (1.0ms)
  Rendered ads/_targeting_fields.html.erb (4.8ms)
  Rendered ads/_form.html.erb (98.0ms)
  Rendered ads/edit.html.erb within layouts/application (109.5ms)
Completed 200 OK in 985ms (Views: 973.8ms | ActiveRecord: 1.5ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
AdsControllerTest: test_should_update_post
------------------------------------------
  [1m[35mAd Load (0.5ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (1.7ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Load (1.8ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (2.0ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#update as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0"}, "id"=>"980190962"}
  [1m[35mAd Load (0.7ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCreative Load (0.6ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962
  [1m[36mTargeting Load (0.5ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962[0m
  [1m[35m (0.6ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered ads/_creative_fields.html.erb (3.4ms)
  Rendered ads/_place_fields.html.erb (1.6ms)
  Rendered ads/_targeting_fields.html.erb (6.8ms)
  Rendered ads/_form.html.erb (23.0ms)
  Rendered ads/edit.html.erb within layouts/application (23.8ms)
Completed 200 OK in 46ms (Views: 32.1ms | ActiveRecord: 2.9ms)
  [1m[36m (0.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (7.6ms)[0m  BEGIN
----------------------------------------
AdsControllerTest: test_should_get_index
----------------------------------------
  [1m[36mAd Load (0.5ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.5ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1
  [1m[36mTargeting Load (0.4ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.6ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
Processing by AdsController#index as HTML
  [1m[36mAd Load (0.9ms)[0m  [1mSELECT  `ads`.* FROM `ads` LIMIT 10 OFFSET 0[0m
  [1m[35mCreative Load (0.5ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 298486374
  [1m[36mTargeting Load (0.4ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 298486374[0m
  [1m[35mCreative Load (0.7ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962
  [1m[36mTargeting Load (0.4ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962[0m
  Rendered ads/index.html.erb within layouts/application (50.1ms)
Completed 200 OK in 57ms (Views: 53.2ms | ActiveRecord: 2.9ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_show_post
----------------------------------------
  [1m[35mAd Load (1.8ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Load (0.5ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.5ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mAd Load (0.5ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `creatives` WHERE `creatives`.`ad_id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Exists (0.4ms)[0m  SELECT  1 AS one FROM `targetings` WHERE `targetings`.`ad_id` = 980190962 LIMIT 1
  Rendered ads/show.html.erb within layouts/application (14.6ms)
Completed 200 OK in 22ms (Views: 19.1ms | ActiveRecord: 1.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------
AdsControllerTest: test_should_get_new
--------------------------------------
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.5ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1
  [1m[36mTargeting Load (0.4ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.8ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
Processing by AdsController#new as HTML
  Rendered ads/_creative_fields.html.erb (2.8ms)
  Rendered ads/_creative_fields.html.erb (6.3ms)
  Rendered ads/_place_fields.html.erb (3.3ms)
  Rendered ads/_place_fields.html.erb (3.0ms)
  Rendered ads/_targeting_fields.html.erb (12.0ms)
  Rendered ads/_place_fields.html.erb (1.3ms)
  Rendered ads/_targeting_fields.html.erb (5.6ms)
  Rendered ads/_form.html.erb (37.8ms)
  Rendered ads/new.html.erb within layouts/application (39.4ms)
Completed 200 OK in 55ms (Views: 47.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (2.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.5ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.5ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (3.5ms)[0m  BEGIN
  [1m[36mFixture Delete (0.8ms)[0m  [1mDELETE FROM `ads`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `ads` (`budget`, `created_at`, `updated_at`, `id`) VALUES (1234.0, '2016-06-21 16:35:39', '2016-06-21 16:35:39', 980190962)
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO `ads` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:35:39', '2016-06-21 16:35:39', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `creatives`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (42.0, 'teste', 1, '2016-06-21 16:35:39', '2016-06-21 16:35:39', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `creatives` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:35:39', '2016-06-21 16:35:39', 298486374)
  [1m[36mFixture Delete (0.9ms)[0m  [1mDELETE FROM `places`[0m
  [1m[35mFixture Insert (10.9ms)[0m  INSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`, `id`) VALUES ('bla', 1, '2016-06-21 16:35:39', '2016-06-21 16:35:39', 980190962)
  [1m[36mFixture Insert (0.8ms)[0m  [1mINSERT INTO `places` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:35:39', '2016-06-21 16:35:39', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `targetings`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES ('Male', 1, '2016-06-21 16:35:39', '2016-06-21 16:35:39', 980190962)[0m
  [1m[35mFixture Insert (1.1ms)[0m  INSERT INTO `targetings` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:35:39', '2016-06-21 16:35:39', 298486374)
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_create_ad
----------------------------------------
  [1m[35mAd Load (0.8ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.6ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Load (0.6ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.6ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (1.8ms)[0m  SELECT COUNT(*) FROM `ads`
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"42.0", "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
Completed 500 Internal Server Error in 75963ms (ActiveRecord: 0.0ms)
  [1m[36m (4.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (2.5ms)[0m  BEGIN
--------------------------------------
AdsControllerTest: test_should_get_new
--------------------------------------
  [1m[36mAd Load (54.0ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (4.9ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1
  [1m[36mTargeting Load (2.0ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (4.0ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
Processing by AdsController#new as HTML
  Rendered ads/_creative_fields.html.erb (15.8ms)
  Rendered ads/_creative_fields.html.erb (6.3ms)
  Rendered ads/_place_fields.html.erb (7.2ms)
  Rendered ads/_place_fields.html.erb (6.9ms)
  Rendered ads/_targeting_fields.html.erb (33.6ms)
  Rendered ads/_place_fields.html.erb (5.0ms)
  Rendered ads/_targeting_fields.html.erb (16.3ms)
  Rendered ads/_form.html.erb (202.6ms)
  Rendered ads/new.html.erb within layouts/application (217.4ms)
Completed 200 OK in 1040ms (Views: 1013.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.5ms)[0m  BEGIN
---------------------------------------
AdsControllerTest: test_should_get_edit
---------------------------------------
  [1m[36mAd Load (0.6ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (2.2ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1
  [1m[36mTargeting Load (0.6ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.4ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
Processing by AdsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (8.5ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962
  Rendered ads/_creative_fields.html.erb (6.8ms)
  Rendered ads/_creative_fields.html.erb (9.3ms)
  [1m[36mTargeting Load (0.5ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962[0m
  Rendered ads/_place_fields.html.erb (9.1ms)
  Rendered ads/_place_fields.html.erb (3.8ms)
  Rendered ads/_targeting_fields.html.erb (33.4ms)
  Rendered ads/_place_fields.html.erb (3.6ms)
  Rendered ads/_targeting_fields.html.erb (14.7ms)
  Rendered ads/_form.html.erb (94.8ms)
  Rendered ads/edit.html.erb within layouts/application (97.6ms)
Completed 200 OK in 127ms (Views: 98.5ms | ActiveRecord: 9.4ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
AdsControllerTest: test_should_update_post
------------------------------------------
  [1m[35mAd Load (0.6ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.5ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Load (0.4ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.5ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#update as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0"}, "id"=>"980190962"}
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36m (8.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCreative Load (1.6ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962
  [1m[36mTargeting Load (0.6ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered ads/_creative_fields.html.erb (6.5ms)
  Rendered ads/_place_fields.html.erb (8.7ms)
  Rendered ads/_targeting_fields.html.erb (19.2ms)
  Rendered ads/_form.html.erb (83.8ms)
  Rendered ads/edit.html.erb within layouts/application (88.3ms)
Completed 200 OK in 21301ms (Views: 121.3ms | ActiveRecord: 11.0ms)
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.7ms)[0m  BEGIN
-------------------------------------------
AdsControllerTest: test_should_destroy_post
-------------------------------------------
  [1m[36mAd Load (1.0ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.7ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1
  [1m[36mTargeting Load (0.5ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.6ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
  [1m[36mAd Load (1.6ms)[0m  [1mSELECT  `ads`.* FROM `ads`  ORDER BY `ads`.`id` ASC LIMIT 1[0m
Processing by AdsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 298486374 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 298486374
  [1m[36mTargeting Load (0.5ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 298486374[0m
  [1m[35mSQL (7.6ms)[0m  DELETE FROM `ads` WHERE `ads`.`id` = 298486374
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/ads
Completed 302 Found in 18ms (ActiveRecord: 9.7ms)
  [1m[36mActiveRecord::SchemaMigration Load (1.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (4.6ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `ads`[0m
  [1m[35mFixture Insert (3.7ms)[0m  INSERT INTO `ads` (`budget`, `created_at`, `updated_at`, `id`) VALUES (1234.0, '2016-06-21 16:37:44', '2016-06-21 16:37:44', 980190962)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `ads` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:37:44', '2016-06-21 16:37:44', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `creatives`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (42.0, 'teste', 1, '2016-06-21 16:37:44', '2016-06-21 16:37:44', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `creatives` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:37:44', '2016-06-21 16:37:44', 298486374)
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM `places`[0m
  [1m[35mFixture Insert (10.5ms)[0m  INSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`, `id`) VALUES ('bla', 1, '2016-06-21 16:37:44', '2016-06-21 16:37:44', 980190962)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `places` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:37:44', '2016-06-21 16:37:44', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `targetings`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES ('Male', 1, '2016-06-21 16:37:44', '2016-06-21 16:37:44', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `targetings` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:37:44', '2016-06-21 16:37:44', 298486374)
  [1m[36m (1.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_get_index
----------------------------------------
  [1m[35mAd Load (0.5ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Load (0.5ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.4ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#index as HTML
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` LIMIT 10 OFFSET 0
  [1m[36mCreative Load (0.7ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 298486374[0m
  [1m[35mTargeting Load (0.5ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 298486374
  [1m[36mCreative Load (0.6ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962[0m
  [1m[35mTargeting Load (0.4ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962
  Rendered ads/index.html.erb within layouts/application (108.8ms)
Completed 200 OK in 823ms (Views: 817.9ms | ActiveRecord: 2.6ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
----------------------------------------
AdsControllerTest: test_should_create_ad
----------------------------------------
  [1m[36mAd Load (1.7ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (1.8ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1
  [1m[36mTargeting Load (0.6ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.4ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
  [1m[36m (3.2ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"42.0", "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
Completed 500 Internal Server Error in 213028ms (ActiveRecord: 0.0ms)
  [1m[35m (2.4ms)[0m  ROLLBACK
  [1m[36m (0.7ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_show_post
----------------------------------------
  [1m[35mAd Load (3.6ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.8ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Load (0.8ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.6ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mAd Load (0.6ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Exists (1.4ms)[0m  [1mSELECT  1 AS one FROM `creatives` WHERE `creatives`.`ad_id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Exists (0.6ms)[0m  SELECT  1 AS one FROM `targetings` WHERE `targetings`.`ad_id` = 980190962 LIMIT 1
  Rendered ads/show.html.erb within layouts/application (267.4ms)
Completed 200 OK in 296ms (Views: 286.6ms | ActiveRecord: 2.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------
AdsControllerTest: test_should_get_edit
---------------------------------------
  [1m[36mAd Load (1.5ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.5ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1
  [1m[36mTargeting Load (0.4ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.5ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
Processing by AdsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.6ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962
  Rendered ads/_creative_fields.html.erb (16.6ms)
  Rendered ads/_creative_fields.html.erb (6.8ms)
  [1m[36mTargeting Load (0.5ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962[0m
  Rendered ads/_place_fields.html.erb (7.5ms)
  Rendered ads/_place_fields.html.erb (5.2ms)
  Rendered ads/_targeting_fields.html.erb (35.7ms)
  Rendered ads/_place_fields.html.erb (3.5ms)
  Rendered ads/_targeting_fields.html.erb (14.9ms)
  Rendered ads/_form.html.erb (134.2ms)
  Rendered ads/edit.html.erb within layouts/application (147.1ms)
Completed 200 OK in 172ms (Views: 157.4ms | ActiveRecord: 1.4ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
--------------------------------------
AdsControllerTest: test_should_get_new
--------------------------------------
  [1m[35mAd Load (0.5ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Load (0.4ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.5ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#new as HTML
  Rendered ads/_creative_fields.html.erb (8.2ms)
  Rendered ads/_creative_fields.html.erb (7.1ms)
  Rendered ads/_place_fields.html.erb (4.0ms)
  Rendered ads/_place_fields.html.erb (5.0ms)
  Rendered ads/_targeting_fields.html.erb (20.4ms)
  Rendered ads/_place_fields.html.erb (4.1ms)
  Rendered ads/_targeting_fields.html.erb (15.1ms)
  Rendered ads/_form.html.erb (66.1ms)
  Rendered ads/new.html.erb within layouts/application (69.2ms)
Completed 200 OK in 94ms (Views: 82.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
-------------------------------------------
AdsControllerTest: test_should_destroy_post
-------------------------------------------
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.8ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Load (0.6ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.4ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads`  ORDER BY `ads`.`id` ASC LIMIT 1
Processing by AdsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mAd Load (0.5ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 298486374 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mCreative Load (0.5ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 298486374[0m
  [1m[35mTargeting Load (0.5ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 298486374
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM `ads` WHERE `ads`.`id` = 298486374[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/ads
Completed 302 Found in 19ms (ActiveRecord: 2.5ms)
  [1m[36mAd Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `ads` WHERE `ads`.`id` = 298486374 LIMIT 1[0m
  [1m[35m (1.8ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------------------
AdsControllerTest: test_should_update_post
------------------------------------------
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Load (0.4ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.4ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#update as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0"}, "id"=>"980190962"}
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36m (2.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCreative Load (2.1ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962
  [1m[36mTargeting Load (1.0ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962[0m
  [1m[35m (0.8ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered ads/_creative_fields.html.erb (21.9ms)
  Rendered ads/_place_fields.html.erb (17.0ms)
  Rendered ads/_targeting_fields.html.erb (42.0ms)
  Rendered ads/_form.html.erb (114.6ms)
  Rendered ads/edit.html.erb within layouts/application (135.6ms)
Completed 200 OK in 22881ms (Views: 162.1ms | ActiveRecord: 6.6ms)
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (1.6ms)[0m  [1mDELETE FROM `ads`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `ads` (`budget`, `created_at`, `updated_at`, `id`) VALUES (1234.0, '2016-06-21 16:42:53', '2016-06-21 16:42:53', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `ads` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:42:53', '2016-06-21 16:42:53', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `creatives`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (42.0, 'teste', 1, '2016-06-21 16:42:53', '2016-06-21 16:42:53', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `creatives` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:42:53', '2016-06-21 16:42:53', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `places`[0m
  [1m[35mFixture Insert (4.2ms)[0m  INSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`, `id`) VALUES ('bla', 1, '2016-06-21 16:42:53', '2016-06-21 16:42:53', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `places` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:42:53', '2016-06-21 16:42:53', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `targetings`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES ('Male', 1, '2016-06-21 16:42:53', '2016-06-21 16:42:53', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `targetings` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:42:53', '2016-06-21 16:42:53', 298486374)
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_create_ad
----------------------------------------
  [1m[35mAd Load (0.5ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Load (0.5ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.8ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `ads`
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"42.0", "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
Completed 500 Internal Server Error in 39ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------
AdsControllerTest: test_should_get_edit
---------------------------------------
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1
  [1m[36mTargeting Load (0.4ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.3ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
Processing by AdsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962
  Rendered ads/_creative_fields.html.erb (6.7ms)
  Rendered ads/_creative_fields.html.erb (1.6ms)
  [1m[36mTargeting Load (0.4ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962[0m
  Rendered ads/_place_fields.html.erb (3.3ms)
  Rendered ads/_place_fields.html.erb (1.3ms)
  Rendered ads/_targeting_fields.html.erb (15.0ms)
  Rendered ads/_place_fields.html.erb (1.1ms)
  Rendered ads/_targeting_fields.html.erb (4.0ms)
  Rendered ads/_form.html.erb (68.8ms)
  Rendered ads/edit.html.erb within layouts/application (78.3ms)
Completed 200 OK in 574ms (Views: 558.2ms | ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_get_index
----------------------------------------
  [1m[35mAd Load (0.5ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (1.1ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Load (0.5ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.7ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#index as HTML
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` LIMIT 10 OFFSET 0
  [1m[36mCreative Load (0.7ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 298486374[0m
  [1m[35mTargeting Load (0.4ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 298486374
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962[0m
  [1m[35mTargeting Load (0.3ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962
  Rendered ads/index.html.erb within layouts/application (21.9ms)
Completed 200 OK in 32ms (Views: 28.9ms | ActiveRecord: 2.2ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
AdsControllerTest: test_should_show_post
----------------------------------------
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1
  [1m[36mTargeting Load (1.2ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.4ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
Processing by AdsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mAd Load (1.0ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Exists (0.5ms)[0m  SELECT  1 AS one FROM `creatives` WHERE `creatives`.`ad_id` = 980190962 LIMIT 1
  [1m[36mTargeting Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `targetings` WHERE `targetings`.`ad_id` = 980190962 LIMIT 1[0m
  Rendered ads/show.html.erb within layouts/application (18.9ms)
Completed 200 OK in 27ms (Views: 23.5ms | ActiveRecord: 2.1ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
AdsControllerTest: test_should_get_new
--------------------------------------
  [1m[35mAd Load (0.7ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Load (1.5ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.6ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#new as HTML
  Rendered ads/_creative_fields.html.erb (1.5ms)
  Rendered ads/_creative_fields.html.erb (1.9ms)
  Rendered ads/_place_fields.html.erb (1.1ms)
  Rendered ads/_place_fields.html.erb (0.9ms)
  Rendered ads/_targeting_fields.html.erb (5.2ms)
  Rendered ads/_place_fields.html.erb (0.9ms)
  Rendered ads/_targeting_fields.html.erb (3.6ms)
  Rendered ads/_form.html.erb (16.9ms)
  Rendered ads/new.html.erb within layouts/application (18.0ms)
Completed 200 OK in 27ms (Views: 22.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
AdsControllerTest: test_should_update_post
------------------------------------------
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (1.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Load (0.7ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.5ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#update as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0"}, "id"=>"980190962"}
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962
  [1m[36mTargeting Load (0.3ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered ads/_creative_fields.html.erb (1.5ms)
  Rendered ads/_place_fields.html.erb (1.0ms)
  Rendered ads/_targeting_fields.html.erb (4.1ms)
  Rendered ads/_form.html.erb (11.9ms)
  Rendered ads/edit.html.erb within layouts/application (12.3ms)
Completed 200 OK in 22ms (Views: 14.8ms | ActiveRecord: 1.4ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------
AdsControllerTest: test_should_destroy_post
-------------------------------------------
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.5ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1
  [1m[36mTargeting Load (1.1ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.4ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
  [1m[36mAd Load (1.6ms)[0m  [1mSELECT  `ads`.* FROM `ads`  ORDER BY `ads`.`id` ASC LIMIT 1[0m
Processing by AdsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[35mAd Load (0.6ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 298486374 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCreative Load (0.5ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 298486374
  [1m[36mTargeting Load (0.4ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 298486374[0m
  [1m[35mSQL (2.5ms)[0m  DELETE FROM `ads` WHERE `ads`.`id` = 298486374
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/ads
Completed 302 Found in 10ms (ActiveRecord: 4.9ms)
  [1m[35mAd Exists (0.5ms)[0m  SELECT  1 AS one FROM `ads` WHERE `ads`.`id` = 298486374 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (12.3ms)[0m  [1mDELETE FROM `ads`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `ads` (`budget`, `created_at`, `updated_at`, `id`) VALUES (1234.0, '2016-06-21 16:43:34', '2016-06-21 16:43:34', 980190962)
  [1m[36mFixture Insert (2.4ms)[0m  [1mINSERT INTO `ads` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:43:34', '2016-06-21 16:43:34', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `creatives`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (42.0, 'teste', 1, '2016-06-21 16:43:34', '2016-06-21 16:43:34', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `creatives` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:43:34', '2016-06-21 16:43:34', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `places`[0m
  [1m[35mFixture Insert (4.2ms)[0m  INSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`, `id`) VALUES ('bla', 1, '2016-06-21 16:43:34', '2016-06-21 16:43:34', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `places` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:43:34', '2016-06-21 16:43:34', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `targetings`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES ('Male', 1, '2016-06-21 16:43:34', '2016-06-21 16:43:34', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `targetings` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:43:34', '2016-06-21 16:43:34', 298486374)
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_create_ad
----------------------------------------
  [1m[35mAd Load (0.5ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.5ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Load (0.4ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (1.1ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `ads`
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"42.0", "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (4.9ms)[0m  INSERT INTO `ads` (`budget`, `created_at`, `updated_at`) VALUES (1234.0, '2016-06-21 16:43:35', '2016-06-21 16:43:35')
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`) VALUES (42.0, 'teste', 980190965, '2016-06-21 16:43:35', '2016-06-21 16:43:35')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`) VALUES ('Male', 980190965, '2016-06-21 16:43:35', '2016-06-21 16:43:35')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`) VALUES ('bla', 980190965, '2016-06-21 16:43:35', '2016-06-21 16:43:35')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/ads
Completed 302 Found in 68ms (ActiveRecord: 6.6ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
  [1m[35m (1.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
AdsControllerTest: test_should_get_new
--------------------------------------
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.9ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Load (10.3ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (1.2ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#new as HTML
  Rendered ads/_creative_fields.html.erb (6.9ms)
  Rendered ads/_creative_fields.html.erb (1.6ms)
  Rendered ads/_place_fields.html.erb (2.7ms)
  Rendered ads/_place_fields.html.erb (1.2ms)
  Rendered ads/_targeting_fields.html.erb (11.6ms)
  Rendered ads/_place_fields.html.erb (0.8ms)
  Rendered ads/_targeting_fields.html.erb (3.2ms)
  Rendered ads/_form.html.erb (54.4ms)
  Rendered ads/new.html.erb within layouts/application (62.3ms)
Completed 200 OK in 445ms (Views: 441.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
AdsControllerTest: test_should_update_post
------------------------------------------
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Load (0.6ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.6ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#update as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0"}, "id"=>"980190962"}
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962
  [1m[36mTargeting Load (0.3ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered ads/_creative_fields.html.erb (2.4ms)
  Rendered ads/_place_fields.html.erb (0.7ms)
  Rendered ads/_targeting_fields.html.erb (2.8ms)
  Rendered ads/_form.html.erb (13.4ms)
  Rendered ads/edit.html.erb within layouts/application (15.1ms)
Completed 200 OK in 63ms (Views: 41.9ms | ActiveRecord: 1.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
AdsControllerTest: test_should_get_edit
---------------------------------------
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1
  [1m[36mTargeting Load (0.3ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.3ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
Processing by AdsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mAd Load (1.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962
  Rendered ads/_creative_fields.html.erb (1.6ms)
  Rendered ads/_creative_fields.html.erb (1.6ms)
  [1m[36mTargeting Load (0.5ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962[0m
  Rendered ads/_place_fields.html.erb (1.3ms)
  Rendered ads/_place_fields.html.erb (1.5ms)
  Rendered ads/_targeting_fields.html.erb (5.9ms)
  Rendered ads/_place_fields.html.erb (0.8ms)
  Rendered ads/_targeting_fields.html.erb (3.5ms)
  Rendered ads/_form.html.erb (21.2ms)
  Rendered ads/edit.html.erb within layouts/application (22.2ms)
Completed 200 OK in 39ms (Views: 25.7ms | ActiveRecord: 2.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_show_post
----------------------------------------
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Load (0.7ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.5ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mAd Load (0.7ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `creatives` WHERE `creatives`.`ad_id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Exists (0.5ms)[0m  SELECT  1 AS one FROM `targetings` WHERE `targetings`.`ad_id` = 980190962 LIMIT 1
  Rendered ads/show.html.erb within layouts/application (28.7ms)
Completed 200 OK in 35ms (Views: 32.0ms | ActiveRecord: 1.8ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
AdsControllerTest: test_should_get_index
----------------------------------------
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1
  [1m[36mTargeting Load (0.4ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (1.1ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
Processing by AdsController#index as HTML
  [1m[36mAd Load (1.0ms)[0m  [1mSELECT  `ads`.* FROM `ads` LIMIT 10 OFFSET 0[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 298486374
  [1m[36mTargeting Load (0.3ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 298486374[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962
  [1m[36mTargeting Load (0.3ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962[0m
  Rendered ads/index.html.erb within layouts/application (11.5ms)
Completed 200 OK in 18ms (Views: 14.1ms | ActiveRecord: 2.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
AdsControllerTest: test_should_destroy_post
-------------------------------------------
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Load (1.0ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.5ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
  [1m[35mAd Load (0.7ms)[0m  SELECT  `ads`.* FROM `ads`  ORDER BY `ads`.`id` ASC LIMIT 1
Processing by AdsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 298486374 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 298486374[0m
  [1m[35mTargeting Load (0.4ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 298486374
  [1m[36mSQL (6.3ms)[0m  [1mDELETE FROM `ads` WHERE `ads`.`id` = 298486374[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/ads
Completed 302 Found in 12ms (ActiveRecord: 8.0ms)
  [1m[36mAd Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `ads` WHERE `ads`.`id` = 298486374 LIMIT 1[0m
  [1m[35m (0.6ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.6ms)[0m  BEGIN
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `ads`[0m
  [1m[35mFixture Insert (1.9ms)[0m  INSERT INTO `ads` (`budget`, `created_at`, `updated_at`, `id`) VALUES (1234.0, '2016-06-21 16:44:51', '2016-06-21 16:44:51', 980190962)
  [1m[36mFixture Insert (1.4ms)[0m  [1mINSERT INTO `ads` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:44:51', '2016-06-21 16:44:51', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `creatives`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (42.0, 'teste', 1, '2016-06-21 16:44:51', '2016-06-21 16:44:51', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `creatives` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:44:51', '2016-06-21 16:44:51', 298486374)
  [1m[36mFixture Delete (0.9ms)[0m  [1mDELETE FROM `places`[0m
  [1m[35mFixture Insert (2.4ms)[0m  INSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`, `id`) VALUES ('bla', 1, '2016-06-21 16:44:51', '2016-06-21 16:44:51', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `places` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:44:51', '2016-06-21 16:44:51', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `targetings`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES ('Male', 1, '2016-06-21 16:44:51', '2016-06-21 16:44:51', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `targetings` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:44:51', '2016-06-21 16:44:51', 298486374)
  [1m[36m (0.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
AdsControllerTest: test_should_get_edit
---------------------------------------
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Load (0.3ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.9ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.7ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962[0m
  Rendered ads/_creative_fields.html.erb (8.1ms)
  Rendered ads/_creative_fields.html.erb (1.4ms)
  [1m[35mTargeting Load (0.3ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962
  Rendered ads/_place_fields.html.erb (2.1ms)
  Rendered ads/_place_fields.html.erb (1.2ms)
  Rendered ads/_targeting_fields.html.erb (11.0ms)
  Rendered ads/_place_fields.html.erb (0.8ms)
  Rendered ads/_targeting_fields.html.erb (3.6ms)
  Rendered ads/_form.html.erb (69.3ms)
  Rendered ads/edit.html.erb within layouts/application (76.9ms)
Completed 200 OK in 531ms (Views: 499.1ms | ActiveRecord: 1.4ms)
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
AdsControllerTest: test_should_create_ad
----------------------------------------
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1
  [1m[36mTargeting Load (0.6ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.5ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"42.0", "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
Completed 500 Internal Server Error in 15ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------
AdsControllerTest: test_should_destroy_post
-------------------------------------------
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Load (0.3ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.4ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads`  ORDER BY `ads`.`id` ASC LIMIT 1
Processing by AdsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 298486374 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mCreative Load (0.5ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 298486374[0m
  [1m[35mTargeting Load (1.2ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 298486374
  [1m[36mSQL (1.1ms)[0m  [1mDELETE FROM `ads` WHERE `ads`.`id` = 298486374[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/ads
Completed 302 Found in 13ms (ActiveRecord: 4.1ms)
  [1m[36mAd Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `ads` WHERE `ads`.`id` = 298486374 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
AdsControllerTest: test_should_get_new
--------------------------------------
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (1.0ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Load (2.6ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.8ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#new as HTML
  Rendered ads/_creative_fields.html.erb (1.3ms)
  Rendered ads/_creative_fields.html.erb (1.9ms)
  Rendered ads/_place_fields.html.erb (2.5ms)
  Rendered ads/_place_fields.html.erb (3.0ms)
  Rendered ads/_targeting_fields.html.erb (9.5ms)
  Rendered ads/_place_fields.html.erb (1.3ms)
  Rendered ads/_targeting_fields.html.erb (6.8ms)
  Rendered ads/_form.html.erb (23.9ms)
  Rendered ads/new.html.erb within layouts/application (25.0ms)
Completed 200 OK in 33ms (Views: 29.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_get_index
----------------------------------------
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Load (0.9ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.5ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#index as HTML
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` LIMIT 10 OFFSET 0
  [1m[36mCreative Load (3.0ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 298486374[0m
  [1m[35mTargeting Load (0.5ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 298486374
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962[0m
  [1m[35mTargeting Load (0.4ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962
  Rendered ads/index.html.erb within layouts/application (26.9ms)
Completed 200 OK in 32ms (Views: 27.0ms | ActiveRecord: 4.7ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
AdsControllerTest: test_should_show_post
----------------------------------------
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (1.6ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1
  [1m[36mTargeting Load (0.5ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.4ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
Processing by AdsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Exists (0.7ms)[0m  SELECT  1 AS one FROM `creatives` WHERE `creatives`.`ad_id` = 980190962 LIMIT 1
  [1m[36mTargeting Exists (1.5ms)[0m  [1mSELECT  1 AS one FROM `targetings` WHERE `targetings`.`ad_id` = 980190962 LIMIT 1[0m
  Rendered ads/show.html.erb within layouts/application (40.6ms)
Completed 200 OK in 78ms (Views: 74.5ms | ActiveRecord: 2.6ms)
  [1m[35m (1.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
AdsControllerTest: test_should_update_post
------------------------------------------
  [1m[35mAd Load (3.2ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.5ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Load (0.4ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (1.0ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#update as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0"}, "id"=>"980190962"}
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCreative Load (0.5ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962
  [1m[36mTargeting Load (0.5ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered ads/_creative_fields.html.erb (1.6ms)
  Rendered ads/_place_fields.html.erb (1.2ms)
  Rendered ads/_targeting_fields.html.erb (3.6ms)
  Rendered ads/_form.html.erb (12.8ms)
  Rendered ads/edit.html.erb within layouts/application (13.6ms)
Completed 200 OK in 31ms (Views: 16.5ms | ActiveRecord: 1.9ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (19.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (2.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (2.0ms)[0m  BEGIN
  [1m[36mFixture Delete (3.7ms)[0m  [1mDELETE FROM `ads`[0m
  [1m[35mFixture Insert (2.2ms)[0m  INSERT INTO `ads` (`budget`, `created_at`, `updated_at`, `id`) VALUES (1234.0, '2016-06-21 16:47:50', '2016-06-21 16:47:50', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `ads` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:47:50', '2016-06-21 16:47:50', 298486374)[0m
  [1m[35mFixture Delete (0.9ms)[0m  DELETE FROM `creatives`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (42.0, 'teste', 1, '2016-06-21 16:47:50', '2016-06-21 16:47:50', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `creatives` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:47:50', '2016-06-21 16:47:50', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `places`[0m
  [1m[35mFixture Insert (5.8ms)[0m  INSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`, `id`) VALUES ('bla', 1, '2016-06-21 16:47:50', '2016-06-21 16:47:50', 980190962)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `places` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:47:50', '2016-06-21 16:47:50', 298486374)[0m
  [1m[35mFixture Delete (0.8ms)[0m  DELETE FROM `targetings`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES ('Male', 1, '2016-06-21 16:47:50', '2016-06-21 16:47:50', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `targetings` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:47:50', '2016-06-21 16:47:50', 298486374)
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_create_ad
----------------------------------------
  [1m[35mAd Load (3.0ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.8ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Load (0.8ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.5ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `ads`
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"42.0", "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
  [1m[36m (3.9ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (7.4ms)[0m  INSERT INTO `ads` (`budget`, `created_at`, `updated_at`) VALUES (1234.0, '2016-06-21 16:48:22', '2016-06-21 16:48:22')
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`) VALUES (42.0, 'teste', 980190966, '2016-06-21 16:48:22', '2016-06-21 16:48:22')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`) VALUES ('Male', 980190966, '2016-06-21 16:48:22', '2016-06-21 16:48:22')
  [1m[36mSQL (1.9ms)[0m  [1mINSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`) VALUES ('bla', 980190966, '2016-06-21 16:48:22', '2016-06-21 16:48:22')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 500 Internal Server Error in 31487ms (ActiveRecord: 14.9ms)
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.5ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `ads`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `ads` (`budget`, `created_at`, `updated_at`, `id`) VALUES (1234.0, '2016-06-21 16:48:30', '2016-06-21 16:48:30', 980190962)
  [1m[36mFixture Insert (5.7ms)[0m  [1mINSERT INTO `ads` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:48:30', '2016-06-21 16:48:30', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `creatives`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (42.0, 'teste', 1, '2016-06-21 16:48:30', '2016-06-21 16:48:30', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `creatives` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:48:30', '2016-06-21 16:48:30', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `places`[0m
  [1m[35mFixture Insert (3.9ms)[0m  INSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`, `id`) VALUES ('bla', 1, '2016-06-21 16:48:30', '2016-06-21 16:48:30', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `places` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:48:30', '2016-06-21 16:48:30', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `targetings`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES ('Male', 1, '2016-06-21 16:48:30', '2016-06-21 16:48:30', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `targetings` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:48:30', '2016-06-21 16:48:30', 298486374)
  [1m[36m (0.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_create_ad
----------------------------------------
  [1m[35mAd Load (0.6ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.5ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Load (0.4ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.4ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `ads`
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"42.0", "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
  [1m[36m (2.9ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.6ms)[0m  INSERT INTO `ads` (`budget`, `created_at`, `updated_at`) VALUES (1234.0, '2016-06-21 16:48:58', '2016-06-21 16:48:58')
  [1m[36mSQL (2.8ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`) VALUES (42.0, 'teste', 980190967, '2016-06-21 16:48:58', '2016-06-21 16:48:58')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`) VALUES ('Male', 980190967, '2016-06-21 16:48:58', '2016-06-21 16:48:58')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`) VALUES ('bla', 980190967, '2016-06-21 16:48:58', '2016-06-21 16:48:58')[0m
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/ads
Completed 302 Found in 37418ms (ActiveRecord: 10.0ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
  [1m[35m (1.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------
AdsControllerTest: test_should_destroy_post
-------------------------------------------
  [1m[35mAd Load (0.6ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.5ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Load (0.3ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.3ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
  [1m[35mAd Load (0.7ms)[0m  SELECT  `ads`.* FROM `ads`  ORDER BY `ads`.`id` ASC LIMIT 1
Processing by AdsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
Completed 500 Internal Server Error in 33ms (ActiveRecord: 0.0ms)
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `ads`[0m
  [1m[35mFixture Insert (0.9ms)[0m  INSERT INTO `ads` (`budget`, `created_at`, `updated_at`, `id`) VALUES (1234.0, '2016-06-21 16:49:15', '2016-06-21 16:49:15', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `ads` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:49:15', '2016-06-21 16:49:15', 298486374)[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM `creatives`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (42.0, 'teste', 1, '2016-06-21 16:49:15', '2016-06-21 16:49:15', 980190962)[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `creatives` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:49:15', '2016-06-21 16:49:15', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `places`[0m
  [1m[35mFixture Insert (6.9ms)[0m  INSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`, `id`) VALUES ('bla', 1, '2016-06-21 16:49:15', '2016-06-21 16:49:15', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `places` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:49:15', '2016-06-21 16:49:15', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `targetings`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES ('Male', 1, '2016-06-21 16:49:15', '2016-06-21 16:49:15', 980190962)[0m
  [1m[35mFixture Insert (1.8ms)[0m  INSERT INTO `targetings` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:49:15', '2016-06-21 16:49:15', 298486374)
  [1m[36m (0.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------
AdsControllerTest: test_should_get_new
--------------------------------------
  [1m[35mAd Load (0.6ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.5ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Load (0.4ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.6ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#new as HTML
  Rendered ads/_creative_fields.html.erb (13.8ms)
  Rendered ads/_creative_fields.html.erb (5.7ms)
  Rendered ads/_place_fields.html.erb (7.2ms)
  Rendered ads/_place_fields.html.erb (3.4ms)
  Rendered ads/_targeting_fields.html.erb (28.0ms)
  Rendered ads/_place_fields.html.erb (4.0ms)
  Rendered ads/_targeting_fields.html.erb (14.1ms)
  Rendered ads/_form.html.erb (151.9ms)
  Rendered ads/new.html.erb within layouts/application (162.8ms)
Completed 200 OK in 884ms (Views: 828.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_create_ad
----------------------------------------
  [1m[35mAd Load (1.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.5ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Load (0.7ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.5ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `ads`
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"42.0", "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
Completed 500 Internal Server Error in 294237ms (ActiveRecord: 0.0ms)
  [1m[36mActiveRecord::SchemaMigration Load (15.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (3.9ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.9ms)[0m  BEGIN
  [1m[36mFixture Delete (5.7ms)[0m  [1mDELETE FROM `ads`[0m
  [1m[35mFixture Insert (1.5ms)[0m  INSERT INTO `ads` (`budget`, `created_at`, `updated_at`, `id`) VALUES (1234.0, '2016-06-21 16:54:21', '2016-06-21 16:54:21', 980190962)
  [1m[36mFixture Insert (2.5ms)[0m  [1mINSERT INTO `ads` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:54:21', '2016-06-21 16:54:21', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `creatives`
  [1m[36mFixture Insert (1.6ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (42.0, 'teste', 1, '2016-06-21 16:54:21', '2016-06-21 16:54:21', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `creatives` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:54:21', '2016-06-21 16:54:21', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `places`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`, `id`) VALUES ('bla', 1, '2016-06-21 16:54:21', '2016-06-21 16:54:21', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `places` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:54:21', '2016-06-21 16:54:21', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `targetings`
  [1m[36mFixture Insert (4.0ms)[0m  [1mINSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES ('Male', 1, '2016-06-21 16:54:21', '2016-06-21 16:54:21', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `targetings` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:54:21', '2016-06-21 16:54:21', 298486374)
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_show_post
----------------------------------------
  [1m[35mAd Load (3.7ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Load (0.5ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.6ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mAd Load (0.5ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Exists (2.4ms)[0m  [1mSELECT  1 AS one FROM `creatives` WHERE `creatives`.`ad_id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Exists (0.5ms)[0m  SELECT  1 AS one FROM `targetings` WHERE `targetings`.`ad_id` = 980190962 LIMIT 1
  Rendered ads/show.html.erb within layouts/application (139.4ms)
Completed 200 OK in 841ms (Views: 829.7ms | ActiveRecord: 3.3ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------
AdsControllerTest: test_should_get_edit
---------------------------------------
  [1m[36mAd Load (1.2ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (1.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1
  [1m[36mTargeting Load (1.8ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (1.3ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
Processing by AdsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mAd Load (0.8ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.5ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962
  Rendered ads/_creative_fields.html.erb (15.6ms)
  Rendered ads/_creative_fields.html.erb (5.7ms)
  [1m[36mTargeting Load (0.5ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962[0m
  Rendered ads/_place_fields.html.erb (4.2ms)
  Rendered ads/_place_fields.html.erb (3.1ms)
  Rendered ads/_targeting_fields.html.erb (21.0ms)
  Rendered ads/_place_fields.html.erb (3.2ms)
  Rendered ads/_targeting_fields.html.erb (10.5ms)
  Rendered ads/_form.html.erb (109.5ms)
  Rendered ads/edit.html.erb within layouts/application (119.8ms)
Completed 200 OK in 151ms (Views: 128.5ms | ActiveRecord: 1.8ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------
AdsControllerTest: test_should_destroy_post
-------------------------------------------
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.9ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Load (0.7ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.4ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads`  ORDER BY `ads`.`id` ASC LIMIT 1
Processing by AdsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 298486374 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 298486374[0m
  [1m[35mTargeting Load (0.6ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 298486374
  [1m[36mSQL (1.9ms)[0m  [1mDELETE FROM `ads` WHERE `ads`.`id` = 298486374[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/ads
Completed 302 Found in 18ms (ActiveRecord: 3.8ms)
  [1m[36mAd Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `ads` WHERE `ads`.`id` = 298486374 LIMIT 1[0m
  [1m[35m (0.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
AdsControllerTest: test_should_update_post
------------------------------------------
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (1.7ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Load (0.8ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.4ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#update as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0"}, "id"=>"980190962"}
  [1m[35mAd Load (0.5ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCreative Load (0.6ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962
  [1m[36mTargeting Load (0.4ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962[0m
  [1m[35m (0.4ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered ads/_creative_fields.html.erb (7.0ms)
  Rendered ads/_place_fields.html.erb (4.6ms)
  Rendered ads/_targeting_fields.html.erb (26.6ms)
  Rendered ads/_form.html.erb (54.5ms)
  Rendered ads/edit.html.erb within layouts/application (56.7ms)
Completed 200 OK in 131ms (Views: 64.5ms | ActiveRecord: 2.1ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
AdsControllerTest: test_should_get_index
----------------------------------------
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1
  [1m[36mTargeting Load (1.9ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.7ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
Processing by AdsController#index as HTML
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` LIMIT 10 OFFSET 0[0m
  [1m[35mCreative Load (0.5ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 298486374
  [1m[36mTargeting Load (0.4ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 298486374[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962
  [1m[36mTargeting Load (0.5ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962[0m
  Rendered ads/index.html.erb within layouts/application (32.9ms)
Completed 200 OK in 46ms (Views: 42.4ms | ActiveRecord: 2.2ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_create_ad
----------------------------------------
  [1m[35mAd Load (1.6ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.9ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Load (0.5ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.5ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (2.4ms)[0m  SELECT COUNT(*) FROM `ads`
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>{"bid"=>"42.0", "adText"=>"teste"}, "targetings_attributes"=>{"gender"=>"Male", "places_attributes"=>{"place"=>"bla"}}}}
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------
AdsControllerTest: test_should_get_new
--------------------------------------
  [1m[36mAd Load (0.7ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1
  [1m[36mTargeting Load (0.4ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.4ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
Processing by AdsController#new as HTML
  Rendered ads/_creative_fields.html.erb (5.3ms)
  Rendered ads/_creative_fields.html.erb (5.9ms)
  Rendered ads/_place_fields.html.erb (4.5ms)
  Rendered ads/_place_fields.html.erb (4.1ms)
  Rendered ads/_targeting_fields.html.erb (18.0ms)
  Rendered ads/_place_fields.html.erb (8.2ms)
  Rendered ads/_targeting_fields.html.erb (20.5ms)
  Rendered ads/_form.html.erb (61.8ms)
  Rendered ads/new.html.erb within layouts/application (63.9ms)
Completed 200 OK in 112ms (Views: 79.6ms | ActiveRecord: 0.0ms)
  [1m[36m (1.5ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mFixture Delete (8.0ms)[0m  [1mDELETE FROM `ads`[0m
  [1m[35mFixture Insert (1.4ms)[0m  INSERT INTO `ads` (`budget`, `created_at`, `updated_at`, `id`) VALUES (1234.0, '2016-06-21 16:54:53', '2016-06-21 16:54:53', 980190962)
  [1m[36mFixture Insert (0.9ms)[0m  [1mINSERT INTO `ads` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:54:53', '2016-06-21 16:54:53', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `creatives`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (42.0, 'teste', 1, '2016-06-21 16:54:53', '2016-06-21 16:54:53', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `creatives` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:54:53', '2016-06-21 16:54:53', 298486374)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `places`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`, `id`) VALUES ('bla', 1, '2016-06-21 16:54:53', '2016-06-21 16:54:53', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `places` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:54:53', '2016-06-21 16:54:53', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `targetings`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES ('Male', 1, '2016-06-21 16:54:53', '2016-06-21 16:54:53', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `targetings` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:54:53', '2016-06-21 16:54:53', 298486374)
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
---------------------------------------
AdsControllerTest: test_should_get_edit
---------------------------------------
  [1m[35mAd Load (0.9ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.5ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Load (0.9ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.4ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mAd Load (0.5ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (2.4ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962[0m
  Rendered ads/_creative_fields.html.erb (14.7ms)
  Rendered ads/_creative_fields.html.erb (5.1ms)
  [1m[35mTargeting Load (0.5ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962
  Rendered ads/_place_fields.html.erb (6.2ms)
  Rendered ads/_place_fields.html.erb (4.8ms)
  Rendered ads/_targeting_fields.html.erb (31.0ms)
  Rendered ads/_place_fields.html.erb (3.5ms)
  Rendered ads/_targeting_fields.html.erb (16.0ms)
  Rendered ads/_form.html.erb (195.9ms)
  Rendered ads/edit.html.erb within layouts/application (209.8ms)
Completed 200 OK in 986ms (Views: 932.7ms | ActiveRecord: 3.4ms)
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
----------------------------------------
AdsControllerTest: test_should_get_index
----------------------------------------
  [1m[36mAd Load (0.7ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (1.9ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1
  [1m[36mTargeting Load (0.9ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.4ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
Processing by AdsController#index as HTML
  [1m[36mAd Load (0.5ms)[0m  [1mSELECT  `ads`.* FROM `ads` LIMIT 10 OFFSET 0[0m
  [1m[35mCreative Load (0.6ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 298486374
  [1m[36mTargeting Load (0.5ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 298486374[0m
  [1m[35mCreative Load (0.6ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962
  [1m[36mTargeting Load (0.7ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962[0m
  Rendered ads/index.html.erb within layouts/application (48.3ms)
Completed 200 OK in 63ms (Views: 58.2ms | ActiveRecord: 2.8ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
------------------------------------------
AdsControllerTest: test_should_update_post
------------------------------------------
  [1m[35mAd Load (1.6ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.6ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Load (0.6ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.6ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#update as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0"}, "id"=>"980190962"}
  [1m[35mAd Load (0.8ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCreative Load (0.6ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962
  [1m[36mTargeting Load (0.5ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered ads/_creative_fields.html.erb (7.1ms)
  Rendered ads/_place_fields.html.erb (6.4ms)
  Rendered ads/_targeting_fields.html.erb (16.1ms)
  Rendered ads/_form.html.erb (40.7ms)
  Rendered ads/edit.html.erb within layouts/application (43.8ms)
Completed 200 OK in 115ms (Views: 87.7ms | ActiveRecord: 2.5ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
AdsControllerTest: test_should_create_ad
----------------------------------------
  [1m[36mAd Load (0.9ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (1.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1
  [1m[36mTargeting Load (0.5ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.4ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>{"bid"=>"42.0", "adText"=>"teste"}, "targetings_attributes"=>{"gender"=>"Male", "places_attributes"=>{"place"=>"bla"}}}}
Completed 500 Internal Server Error in 63981ms (ActiveRecord: 0.0ms)
  [1m[35m (1.7ms)[0m  ROLLBACK
  [1m[36m (0.7ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_show_post
----------------------------------------
  [1m[36mActiveRecord::SchemaMigration Load (2.1ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.6ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (2.1ms)[0m  [1mDELETE FROM `ads`[0m
  [1m[35mFixture Insert (1.4ms)[0m  INSERT INTO `ads` (`budget`, `created_at`, `updated_at`, `id`) VALUES (1234.0, '2016-06-21 16:56:07', '2016-06-21 16:56:07', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `ads` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:56:07', '2016-06-21 16:56:07', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `creatives`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (42.0, 'teste', 1, '2016-06-21 16:56:07', '2016-06-21 16:56:07', 980190962)[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `creatives` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:56:07', '2016-06-21 16:56:07', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `places`[0m
  [1m[35mFixture Insert (4.2ms)[0m  INSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`, `id`) VALUES ('bla', 1, '2016-06-21 16:56:07', '2016-06-21 16:56:07', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `places` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:56:07', '2016-06-21 16:56:07', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `targetings`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES ('Male', 1, '2016-06-21 16:56:07', '2016-06-21 16:56:07', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `targetings` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:56:07', '2016-06-21 16:56:07', 298486374)
  [1m[36m (1.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_get_index
----------------------------------------
  [1m[35mAd Load (0.7ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.7ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Load (0.5ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.5ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#index as HTML
  [1m[35mAd Load (0.6ms)[0m  SELECT  `ads`.* FROM `ads` LIMIT 10 OFFSET 0
  [1m[36mCreative Load (0.6ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 298486374[0m
  [1m[35mTargeting Load (0.6ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 298486374
  [1m[36mCreative Load (0.6ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962[0m
  [1m[35mTargeting Load (0.5ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962
  Rendered ads/index.html.erb within layouts/application (174.8ms)
Completed 200 OK in 922ms (Views: 916.7ms | ActiveRecord: 2.8ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------
AdsControllerTest: test_should_destroy_post
-------------------------------------------
  [1m[36mAd Load (0.7ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.9ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1
  [1m[36mTargeting Load (0.7ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (2.0ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
  [1m[36mAd Load (0.6ms)[0m  [1mSELECT  `ads`.* FROM `ads`  ORDER BY `ads`.`id` ASC LIMIT 1[0m
Processing by AdsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[35mAd Load (0.6ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 298486374 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCreative Load (0.6ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 298486374
  [1m[36mTargeting Load (1.3ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 298486374[0m
  [1m[35mSQL (0.8ms)[0m  DELETE FROM `ads` WHERE `ads`.`id` = 298486374
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/ads
Completed 302 Found in 29ms (ActiveRecord: 4.3ms)
  [1m[35mAd Exists (0.6ms)[0m  SELECT  1 AS one FROM `ads` WHERE `ads`.`id` = 298486374 LIMIT 1
  [1m[36m (0.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.5ms)[0m  BEGIN
---------------------------------------
AdsControllerTest: test_should_get_edit
---------------------------------------
  [1m[36mAd Load (1.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.7ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1
  [1m[36mTargeting Load (0.5ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.7ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
Processing by AdsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mAd Load (0.5ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.8ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962
  Rendered ads/_creative_fields.html.erb (14.1ms)
  Rendered ads/_creative_fields.html.erb (8.1ms)
  [1m[36mTargeting Load (0.5ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962[0m
  Rendered ads/_place_fields.html.erb (7.0ms)
  Rendered ads/_place_fields.html.erb (3.1ms)
  Rendered ads/_targeting_fields.html.erb (30.1ms)
  Rendered ads/_place_fields.html.erb (4.1ms)
  Rendered ads/_targeting_fields.html.erb (24.1ms)
  Rendered ads/_form.html.erb (127.2ms)
  Rendered ads/edit.html.erb within layouts/application (137.1ms)
Completed 200 OK in 182ms (Views: 161.5ms | ActiveRecord: 1.8ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_show_post
----------------------------------------
  [1m[35mAd Load (1.0ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.6ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Load (0.4ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.7ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mAd Load (0.8ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `creatives` WHERE `creatives`.`ad_id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Exists (0.8ms)[0m  SELECT  1 AS one FROM `targetings` WHERE `targetings`.`ad_id` = 980190962 LIMIT 1
  Rendered ads/show.html.erb within layouts/application (30.2ms)
Completed 200 OK in 49ms (Views: 42.0ms | ActiveRecord: 2.1ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------------------
AdsControllerTest: test_should_create_ad
----------------------------------------
  [1m[36mAd Load (1.1ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.5ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1
  [1m[36mTargeting Load (0.5ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.5ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"42.0", "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
Completed 500 Internal Server Error in 65872ms (ActiveRecord: 0.0ms)
  [1m[35m (2.1ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
--------------------------------------
AdsControllerTest: test_should_get_new
--------------------------------------
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.6ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.9ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM `ads`[0m
  [1m[35mFixture Insert (12.7ms)[0m  INSERT INTO `ads` (`budget`, `created_at`, `updated_at`, `id`) VALUES (1234.0, '2016-06-21 16:57:23', '2016-06-21 16:57:23', 980190962)
  [1m[36mFixture Insert (0.8ms)[0m  [1mINSERT INTO `ads` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:57:23', '2016-06-21 16:57:23', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `creatives`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (42.0, 'teste', 1, '2016-06-21 16:57:23', '2016-06-21 16:57:23', 980190962)[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `creatives` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:57:23', '2016-06-21 16:57:23', 298486374)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM `places`[0m
  [1m[35mFixture Insert (4.5ms)[0m  INSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`, `id`) VALUES ('bla', 1, '2016-06-21 16:57:23', '2016-06-21 16:57:23', 980190962)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `places` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:57:23', '2016-06-21 16:57:23', 298486374)[0m
  [1m[35mFixture Delete (1.2ms)[0m  DELETE FROM `targetings`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES ('Male', 1, '2016-06-21 16:57:23', '2016-06-21 16:57:23', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `targetings` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:57:23', '2016-06-21 16:57:23', 298486374)
  [1m[36m (4.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_show_post
----------------------------------------
  [1m[35mAd Load (0.6ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.6ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Load (0.5ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.7ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mAd Load (0.5ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `creatives` WHERE `creatives`.`ad_id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Exists (0.6ms)[0m  SELECT  1 AS one FROM `targetings` WHERE `targetings`.`ad_id` = 980190962 LIMIT 1
  Rendered ads/show.html.erb within layouts/application (139.6ms)
Completed 200 OK in 1052ms (Views: 1043.1ms | ActiveRecord: 1.7ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
---------------------------------------
AdsControllerTest: test_should_get_edit
---------------------------------------
  [1m[36mAd Load (0.9ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (1.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1
  [1m[36mTargeting Load (3.1ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.5ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
Processing by AdsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.6ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962
  Rendered ads/_creative_fields.html.erb (14.0ms)
  Rendered ads/_creative_fields.html.erb (5.3ms)
  [1m[36mTargeting Load (0.6ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962[0m
  Rendered ads/_place_fields.html.erb (5.8ms)
  Rendered ads/_place_fields.html.erb (3.4ms)
  Rendered ads/_targeting_fields.html.erb (27.7ms)
  Rendered ads/_place_fields.html.erb (3.8ms)
  Rendered ads/_targeting_fields.html.erb (13.7ms)
  Rendered ads/_form.html.erb (127.2ms)
  Rendered ads/edit.html.erb within layouts/application (162.4ms)
Completed 200 OK in 197ms (Views: 175.2ms | ActiveRecord: 1.6ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_get_index
----------------------------------------
  [1m[35mAd Load (0.6ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.7ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Load (0.6ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.6ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#index as HTML
  [1m[35mAd Load (0.6ms)[0m  SELECT  `ads`.* FROM `ads` LIMIT 10 OFFSET 0
  [1m[36mCreative Load (0.8ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 298486374[0m
  [1m[35mTargeting Load (0.6ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 298486374
  [1m[36mCreative Load (0.6ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962[0m
  [1m[35mTargeting Load (0.7ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962
  Rendered ads/index.html.erb within layouts/application (43.7ms)
Completed 200 OK in 60ms (Views: 53.7ms | ActiveRecord: 3.5ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------
AdsControllerTest: test_should_destroy_post
-------------------------------------------
  [1m[36mAd Load (0.8ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (1.2ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1
  [1m[36mTargeting Load (0.5ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.4ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
  [1m[36mAd Load (0.5ms)[0m  [1mSELECT  `ads`.* FROM `ads`  ORDER BY `ads`.`id` ASC LIMIT 1[0m
Processing by AdsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[35mAd Load (0.5ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 298486374 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCreative Load (0.5ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 298486374
  [1m[36mTargeting Load (0.8ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 298486374[0m
  [1m[35mSQL (6.1ms)[0m  DELETE FROM `ads` WHERE `ads`.`id` = 298486374
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/ads
Completed 302 Found in 24ms (ActiveRecord: 8.7ms)
  [1m[35mAd Exists (0.5ms)[0m  SELECT  1 AS one FROM `ads` WHERE `ads`.`id` = 298486374 LIMIT 1
  [1m[36m (2.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
----------------------------------------
AdsControllerTest: test_should_create_ad
----------------------------------------
  [1m[36mAd Load (1.0ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.5ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1
  [1m[36mTargeting Load (0.6ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.7ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"42.0", "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
Completed 500 Internal Server Error in 71396ms (ActiveRecord: 0.0ms)
  [1m[35m (6.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------
AdsControllerTest: test_should_get_new
--------------------------------------
  [1m[35mAd Load (1.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.6ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Load (0.8ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.6ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.8ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (4.3ms)[0m  [1mDELETE FROM `ads`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `ads` (`budget`, `created_at`, `updated_at`, `id`) VALUES (1234.0, '2016-06-21 16:58:44', '2016-06-21 16:58:44', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `ads` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:58:44', '2016-06-21 16:58:44', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `creatives`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (42.0, 'teste', 1, '2016-06-21 16:58:44', '2016-06-21 16:58:44', 980190962)[0m
  [1m[35mFixture Insert (2.1ms)[0m  INSERT INTO `creatives` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:58:44', '2016-06-21 16:58:44', 298486374)
  [1m[36mFixture Delete (1.5ms)[0m  [1mDELETE FROM `places`[0m
  [1m[35mFixture Insert (9.9ms)[0m  INSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`, `id`) VALUES ('bla', 1, '2016-06-21 16:58:44', '2016-06-21 16:58:44', 980190962)
  [1m[36mFixture Insert (1.4ms)[0m  [1mINSERT INTO `places` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:58:44', '2016-06-21 16:58:44', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `targetings`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES ('Male', 1, '2016-06-21 16:58:44', '2016-06-21 16:58:44', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `targetings` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 16:58:44', '2016-06-21 16:58:44', 298486374)
  [1m[36m (3.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_create_ad
----------------------------------------
  [1m[35mAd Load (0.7ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.7ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Load (0.6ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.7ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `ads`
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"42.0", "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
Completed 500 Internal Server Error in 117523ms (ActiveRecord: 0.0ms)
  [1m[36m (5.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.6ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `ads`[0m
  [1m[35mFixture Insert (7.5ms)[0m  INSERT INTO `ads` (`budget`, `created_at`, `updated_at`, `id`) VALUES (1234.0, '2016-06-21 17:00:50', '2016-06-21 17:00:50', 980190962)
  [1m[36mFixture Insert (0.8ms)[0m  [1mINSERT INTO `ads` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 17:00:50', '2016-06-21 17:00:50', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `creatives`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (42.0, 'teste', 1, '2016-06-21 17:00:50', '2016-06-21 17:00:50', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `creatives` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 17:00:50', '2016-06-21 17:00:50', 298486374)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `places`[0m
  [1m[35mFixture Insert (1.8ms)[0m  INSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`, `id`) VALUES ('bla', 1, '2016-06-21 17:00:50', '2016-06-21 17:00:50', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `places` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 17:00:50', '2016-06-21 17:00:50', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `targetings`
  [1m[36mFixture Insert (1.6ms)[0m  [1mINSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES ('Male', 1, '2016-06-21 17:00:50', '2016-06-21 17:00:50', 980190962)[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `targetings` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 17:00:50', '2016-06-21 17:00:50', 298486374)
  [1m[36m (0.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.7ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (2.5ms)[0m  [1mBEGIN[0m
---------------------------------------
AdsControllerTest: test_should_get_edit
---------------------------------------
  [1m[35mAd Load (0.6ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.5ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Load (0.6ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.6ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mAd Load (0.5ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.6ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962[0m
  Rendered ads/_creative_fields.html.erb (13.3ms)
  Rendered ads/_creative_fields.html.erb (6.8ms)
  [1m[35mTargeting Load (0.6ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962
  Rendered ads/_place_fields.html.erb (6.2ms)
  Rendered ads/_place_fields.html.erb (3.5ms)
  Rendered ads/_targeting_fields.html.erb (27.7ms)
  Rendered ads/_place_fields.html.erb (4.2ms)
  Rendered ads/_targeting_fields.html.erb (16.4ms)
  Rendered ads/_form.html.erb (160.4ms)
  Rendered ads/edit.html.erb within layouts/application (170.6ms)
Completed 200 OK in 917ms (Views: 862.0ms | ActiveRecord: 1.7ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.5ms)[0m  BEGIN
----------------------------------------
AdsControllerTest: test_should_show_post
----------------------------------------
  [1m[36mAd Load (1.9ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.8ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1
  [1m[36mTargeting Load (0.8ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.4ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
Processing by AdsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mAd Load (0.5ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Exists (0.5ms)[0m  SELECT  1 AS one FROM `creatives` WHERE `creatives`.`ad_id` = 980190962 LIMIT 1
  [1m[36mTargeting Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `targetings` WHERE `targetings`.`ad_id` = 980190962 LIMIT 1[0m
  Rendered ads/show.html.erb within layouts/application (55.5ms)
Completed 200 OK in 69ms (Views: 64.9ms | ActiveRecord: 1.7ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------------------
AdsControllerTest: test_should_update_post
------------------------------------------
  [1m[35mAd Load (0.6ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.7ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Load (0.5ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.5ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#update as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0"}, "id"=>"980190962"}
  [1m[35mAd Load (27.0ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCreative Load (0.5ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962
  [1m[36mTargeting Load (0.5ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered ads/_creative_fields.html.erb (7.4ms)
  Rendered ads/_place_fields.html.erb (5.2ms)
  Rendered ads/_targeting_fields.html.erb (20.2ms)
  Rendered ads/_form.html.erb (48.9ms)
  Rendered ads/edit.html.erb within layouts/application (51.3ms)
Completed 200 OK in 116ms (Views: 60.8ms | ActiveRecord: 28.8ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------------------
AdsControllerTest: test_should_create_ad
----------------------------------------
  [1m[36mAd Load (0.6ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.5ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1
  [1m[36mTargeting Load (1.3ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (1.3ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"42.0", "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
Completed 500 Internal Server Error in 312783ms (ActiveRecord: 0.0ms)
  [1m[35m (2.0ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (2.1ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (5.1ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mFixture Delete (8.6ms)[0m  [1mDELETE FROM `ads`[0m
  [1m[35mFixture Insert (4.5ms)[0m  INSERT INTO `ads` (`budget`, `created_at`, `updated_at`, `id`) VALUES (1234.0, '2016-06-21 17:08:17', '2016-06-21 17:08:17', 980190962)
  [1m[36mFixture Insert (0.8ms)[0m  [1mINSERT INTO `ads` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 17:08:17', '2016-06-21 17:08:17', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `creatives`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (42.0, 'teste', 1, '2016-06-21 17:08:17', '2016-06-21 17:08:17', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `creatives` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 17:08:17', '2016-06-21 17:08:17', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `places`[0m
  [1m[35mFixture Insert (2.3ms)[0m  INSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`, `id`) VALUES ('bla', 1, '2016-06-21 17:08:17', '2016-06-21 17:08:17', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `places` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 17:08:17', '2016-06-21 17:08:17', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `targetings`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES ('Male', 1, '2016-06-21 17:08:17', '2016-06-21 17:08:17', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `targetings` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 17:08:17', '2016-06-21 17:08:17', 298486374)
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.6ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------------
AdsControllerTest: test_should_destroy_post
-------------------------------------------
  [1m[35mAd Load (1.9ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.7ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Load (0.5ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.7ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
  [1m[35mAd Load (1.6ms)[0m  SELECT  `ads`.* FROM `ads`  ORDER BY `ads`.`id` ASC LIMIT 1
Processing by AdsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mAd Load (0.8ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 298486374 LIMIT 1[0m
  [1m[35m (0.7ms)[0m  SAVEPOINT active_record_1
  [1m[36mCreative Load (0.6ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 298486374[0m
  [1m[35mTargeting Load (0.6ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 298486374
  [1m[36mSQL (3.8ms)[0m  [1mDELETE FROM `ads` WHERE `ads`.`id` = 298486374[0m
  [1m[35m (0.9ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/ads
Completed 302 Found in 64ms (ActiveRecord: 7.4ms)
  [1m[36mAd Exists (1.3ms)[0m  [1mSELECT  1 AS one FROM `ads` WHERE `ads`.`id` = 298486374 LIMIT 1[0m
  [1m[35m (0.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_create_ad
----------------------------------------
  [1m[35mAd Load (0.6ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (1.2ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Load (0.5ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.5ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `ads`
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"42.0", "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.0ms)[0m  INSERT INTO `ads` (`budget`, `created_at`, `updated_at`) VALUES (1234.0, '2016-06-21 17:08:36', '2016-06-21 17:08:36')
  [1m[36mSQL (1.7ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`) VALUES (42.0, 'teste', 980190968, '2016-06-21 17:08:36', '2016-06-21 17:08:36')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`) VALUES ('Male', 980190968, '2016-06-21 17:08:36', '2016-06-21 17:08:36')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`) VALUES ('bla', 980190968, '2016-06-21 17:08:36', '2016-06-21 17:08:36')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/ads
Completed 302 Found in 19109ms (ActiveRecord: 4.7ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
  [1m[35m (2.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_get_index
----------------------------------------
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Load (0.3ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.3ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#index as HTML
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.0ms)
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.5ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (1.1ms)[0m  [1mDELETE FROM `ads`[0m
  [1m[35mFixture Insert (1.4ms)[0m  INSERT INTO `ads` (`budget`, `created_at`, `updated_at`, `id`) VALUES (1234.0, '2016-06-21 17:08:44', '2016-06-21 17:08:44', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `ads` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 17:08:44', '2016-06-21 17:08:44', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `creatives`
  [1m[36mFixture Insert (5.1ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (42.0, 'teste', 1, '2016-06-21 17:08:44', '2016-06-21 17:08:44', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `creatives` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 17:08:44', '2016-06-21 17:08:44', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `places`[0m
  [1m[35mFixture Insert (4.7ms)[0m  INSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`, `id`) VALUES ('bla', 1, '2016-06-21 17:08:44', '2016-06-21 17:08:44', 980190962)
  [1m[36mFixture Insert (0.8ms)[0m  [1mINSERT INTO `places` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 17:08:44', '2016-06-21 17:08:44', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `targetings`
  [1m[36mFixture Insert (2.9ms)[0m  [1mINSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES ('Male', 1, '2016-06-21 17:08:44', '2016-06-21 17:08:44', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `targetings` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 17:08:44', '2016-06-21 17:08:44', 298486374)
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
--------------------------------------
AdsControllerTest: test_should_get_new
--------------------------------------
  [1m[35mAd Load (0.6ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.5ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Load (0.7ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.5ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#new as HTML
  Rendered ads/_creative_fields.html.erb (13.9ms)
  Rendered ads/_creative_fields.html.erb (7.3ms)
  Rendered ads/_place_fields.html.erb (8.4ms)
  Rendered ads/_place_fields.html.erb (4.9ms)
  Rendered ads/_targeting_fields.html.erb (36.9ms)
  Rendered ads/_place_fields.html.erb (4.0ms)
  Rendered ads/_targeting_fields.html.erb (14.6ms)
  Rendered ads/_form.html.erb (210.8ms)
  Rendered ads/new.html.erb within layouts/application (224.1ms)
Completed 200 OK in 1031ms (Views: 979.4ms | ActiveRecord: 0.0ms)
  [1m[35m (1.0ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
-------------------------------------------
AdsControllerTest: test_should_destroy_post
-------------------------------------------
  [1m[35mAd Load (1.2ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (1.0ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Load (0.5ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.4ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
  [1m[35mAd Load (0.5ms)[0m  SELECT  `ads`.* FROM `ads`  ORDER BY `ads`.`id` ASC LIMIT 1
Processing by AdsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mAd Load (0.6ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 298486374 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mCreative Load (0.6ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 298486374[0m
  [1m[35mTargeting Load (0.5ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 298486374
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM `ads` WHERE `ads`.`id` = 298486374[0m
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/ads
Completed 302 Found in 28ms (ActiveRecord: 3.3ms)
  [1m[36mAd Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `ads` WHERE `ads`.`id` = 298486374 LIMIT 1[0m
  [1m[35m (0.9ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
---------------------------------------
AdsControllerTest: test_should_get_edit
---------------------------------------
  [1m[35mAd Load (1.2ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (1.2ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Load (0.5ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.5ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mAd Load (0.5ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.5ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962[0m
  Rendered ads/_creative_fields.html.erb (7.8ms)
  Rendered ads/_creative_fields.html.erb (8.6ms)
  [1m[35mTargeting Load (0.5ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962
  Rendered ads/_place_fields.html.erb (4.3ms)
  Rendered ads/_place_fields.html.erb (4.9ms)
  Rendered ads/_targeting_fields.html.erb (21.0ms)
  Rendered ads/_place_fields.html.erb (4.0ms)
  Rendered ads/_targeting_fields.html.erb (57.4ms)
  Rendered ads/_form.html.erb (120.7ms)
  Rendered ads/edit.html.erb within layouts/application (126.0ms)
Completed 200 OK in 166ms (Views: 142.7ms | ActiveRecord: 1.5ms)
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
AdsControllerTest: test_should_create_ad
----------------------------------------
  [1m[36mAd Load (1.5ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.8ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1
  [1m[36mTargeting Load (1.0ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.5ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"42.0", "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
  [1m[35m (28.6ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.7ms)[0m  [1mINSERT INTO `ads` (`budget`, `created_at`, `updated_at`) VALUES (1234.0, '2016-06-21 17:09:59', '2016-06-21 17:09:59')[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`) VALUES (42.0, 'teste', 980190969, '2016-06-21 17:09:59', '2016-06-21 17:09:59')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`) VALUES ('Male', 980190969, '2016-06-21 17:09:59', '2016-06-21 17:09:59')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`) VALUES ('bla', 980190969, '2016-06-21 17:09:59', '2016-06-21 17:09:59')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/ads
Completed 302 Found in 73479ms (ActiveRecord: 34.8ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `ads`
  [1m[36m (0.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.5ms)[0m  BEGIN
------------------------------------------
AdsControllerTest: test_should_update_post
------------------------------------------
  [1m[36mAd Load (0.9ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.7ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1
  [1m[36mTargeting Load (0.5ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.7ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
Processing by AdsController#update as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0"}, "id"=>"980190962"}
  [1m[36mAd Load (0.7ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mCreative Load (0.7ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962[0m
  [1m[35mTargeting Load (0.5ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962
  [1m[36m (0.4ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered ads/_creative_fields.html.erb (10.4ms)
  Rendered ads/_place_fields.html.erb (4.3ms)
  Rendered ads/_targeting_fields.html.erb (19.1ms)
  Rendered ads/_form.html.erb (59.0ms)
  Rendered ads/edit.html.erb within layouts/application (61.5ms)
Completed 200 OK in 122ms (Views: 77.2ms | ActiveRecord: 2.7ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_get_index
----------------------------------------
  [1m[35mAd Load (0.9ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.6ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Load (0.5ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.6ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#index as HTML
  [1m[35mAd Load (0.7ms)[0m  SELECT  `ads`.* FROM `ads` LIMIT 10 OFFSET 0
  [1m[36mCreative Load (0.6ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 298486374[0m
  [1m[35mTargeting Load (0.6ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 298486374
  [1m[36mCreative Load (0.6ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962[0m
  [1m[35mTargeting Load (0.5ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962
  Rendered ads/index.html.erb within layouts/application (93.7ms)
Completed 200 OK in 116ms (Views: 110.4ms | ActiveRecord: 3.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------------------
AdsControllerTest: test_should_show_post
----------------------------------------
  [1m[36mAd Load (1.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.5ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1
  [1m[36mTargeting Load (0.6ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.5ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
Processing by AdsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mAd Load (0.5ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Exists (0.5ms)[0m  SELECT  1 AS one FROM `creatives` WHERE `creatives`.`ad_id` = 980190962 LIMIT 1
  [1m[36mTargeting Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `targetings` WHERE `targetings`.`ad_id` = 980190962 LIMIT 1[0m
  Rendered ads/show.html.erb within layouts/application (53.8ms)
Completed 200 OK in 71ms (Views: 66.3ms | ActiveRecord: 1.5ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (1.7ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (1.9ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (1.1ms)[0m  BEGIN
  [1m[36mFixture Delete (2.0ms)[0m  [1mDELETE FROM `ads`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `ads` (`budget`, `created_at`, `updated_at`, `id`) VALUES (1234.0, '2016-06-21 17:12:07', '2016-06-21 17:12:07', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `ads` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 17:12:07', '2016-06-21 17:12:07', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `creatives`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (42.0, 'teste', 1, '2016-06-21 17:12:07', '2016-06-21 17:12:07', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `creatives` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 17:12:07', '2016-06-21 17:12:07', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `places`[0m
  [1m[35mFixture Insert (4.9ms)[0m  INSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`, `id`) VALUES ('bla', 1, '2016-06-21 17:12:07', '2016-06-21 17:12:07', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `places` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 17:12:07', '2016-06-21 17:12:07', 298486374)[0m
  [1m[35mFixture Delete (2.3ms)[0m  DELETE FROM `targetings`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES ('Male', 1, '2016-06-21 17:12:07', '2016-06-21 17:12:07', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `targetings` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 17:12:07', '2016-06-21 17:12:07', 298486374)
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_show_post
----------------------------------------
  [1m[35mAd Load (0.9ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.5ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Load (0.4ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.5ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mAd Load (0.7ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `creatives` WHERE `creatives`.`ad_id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Exists (0.5ms)[0m  SELECT  1 AS one FROM `targetings` WHERE `targetings`.`ad_id` = 980190962 LIMIT 1
  Rendered ads/show.html.erb within layouts/application (138.7ms)
Completed 200 OK in 818ms (Views: 804.2ms | ActiveRecord: 1.9ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------
AdsControllerTest: test_should_update_post
------------------------------------------
  [1m[36mAd Load (1.8ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.7ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1
  [1m[36mTargeting Load (0.7ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.7ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
Processing by AdsController#update as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0"}, "id"=>"980190962"}
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mCreative Load (0.5ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962[0m
  [1m[35mTargeting Load (0.5ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered ads/_creative_fields.html.erb (15.7ms)
  Rendered ads/_place_fields.html.erb (7.7ms)
  Rendered ads/_targeting_fields.html.erb (32.6ms)
  Rendered ads/_form.html.erb (96.0ms)
  Rendered ads/edit.html.erb within layouts/application (106.2ms)
Completed 200 OK in 154ms (Views: 117.7ms | ActiveRecord: 2.1ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_get_index
----------------------------------------
  [1m[35mAd Load (0.6ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (2.1ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Load (0.5ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.4ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#index as HTML
  [1m[35mAd Load (0.5ms)[0m  SELECT  `ads`.* FROM `ads` LIMIT 10 OFFSET 0
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 298486374[0m
  [1m[35mTargeting Load (0.9ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 298486374
  [1m[36mCreative Load (0.7ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962[0m
  [1m[35mTargeting Load (0.4ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962
  Rendered ads/index.html.erb within layouts/application (43.1ms)
Completed 200 OK in 107ms (Views: 100.5ms | ActiveRecord: 2.9ms)
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------
AdsControllerTest: test_shouldnt_create_ad
------------------------------------------
  [1m[36mAd Load (0.7ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (1.2ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1
  [1m[36mTargeting Load (0.5ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.5ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"42.0", "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
  [1m[35m (1.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.8ms)[0m  [1mINSERT INTO `ads` (`budget`, `created_at`, `updated_at`) VALUES (1234.0, '2016-06-21 17:12:19', '2016-06-21 17:12:19')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`) VALUES (42.0, 'teste', 980190970, '2016-06-21 17:12:19', '2016-06-21 17:12:19')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`) VALUES ('Male', 980190970, '2016-06-21 17:12:19', '2016-06-21 17:12:19')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`) VALUES ('bla', 980190970, '2016-06-21 17:12:19', '2016-06-21 17:12:19')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/ads
Completed 302 Found in 18196ms (ActiveRecord: 4.6ms)
  [1m[35m (1.0ms)[0m  SELECT COUNT(*) FROM `ads`
  [1m[36m (6.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------
AdsControllerTest: test_should_destroy_post
-------------------------------------------
  [1m[36mAd Load (0.8ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.5ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1
  [1m[36mTargeting Load (0.4ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.5ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
  [1m[36mAd Load (0.5ms)[0m  [1mSELECT  `ads`.* FROM `ads`  ORDER BY `ads`.`id` ASC LIMIT 1[0m
Processing by AdsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[35mAd Load (0.7ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 298486374 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCreative Load (0.6ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 298486374
  [1m[36mTargeting Load (0.5ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 298486374[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM `ads` WHERE `ads`.`id` = 298486374
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/ads
Completed 302 Found in 41ms (ActiveRecord: 3.3ms)
  [1m[35mAd Exists (0.5ms)[0m  SELECT  1 AS one FROM `ads` WHERE `ads`.`id` = 298486374 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.6ms)[0m  BEGIN
---------------------------------------
AdsControllerTest: test_should_get_edit
---------------------------------------
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.6ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1
  [1m[36mTargeting Load (0.8ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.5ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
Processing by AdsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mAd Load (0.6ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.6ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962
  Rendered ads/_creative_fields.html.erb (23.7ms)
  Rendered ads/_creative_fields.html.erb (8.2ms)
  [1m[36mTargeting Load (0.5ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962[0m
  Rendered ads/_place_fields.html.erb (4.4ms)
  Rendered ads/_place_fields.html.erb (4.6ms)
  Rendered ads/_targeting_fields.html.erb (20.9ms)
  Rendered ads/_place_fields.html.erb (4.4ms)
  Rendered ads/_targeting_fields.html.erb (16.8ms)
  Rendered ads/_form.html.erb (96.7ms)
  Rendered ads/edit.html.erb within layouts/application (105.4ms)
Completed 200 OK in 150ms (Views: 117.4ms | ActiveRecord: 1.6ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
--------------------------------------
AdsControllerTest: test_should_get_new
--------------------------------------
  [1m[35mAd Load (0.6ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Load (0.9ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.5ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#new as HTML
  Rendered ads/_creative_fields.html.erb (8.6ms)
  Rendered ads/_creative_fields.html.erb (7.9ms)
  Rendered ads/_place_fields.html.erb (5.4ms)
  Rendered ads/_place_fields.html.erb (5.6ms)
  Rendered ads/_targeting_fields.html.erb (27.5ms)
  Rendered ads/_place_fields.html.erb (6.3ms)
  Rendered ads/_targeting_fields.html.erb (24.4ms)
  Rendered ads/_form.html.erb (99.3ms)
  Rendered ads/new.html.erb within layouts/application (106.9ms)
Completed 200 OK in 143ms (Views: 127.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_create_ad
----------------------------------------
  [1m[35mAd Load (0.6ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.5ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Load (0.4ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.5ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.9ms)[0m  SELECT COUNT(*) FROM `ads`
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"42.0", "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
Completed 500 Internal Server Error in 8626ms (ActiveRecord: 0.0ms)
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.7ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.4ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.4ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.5ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.7ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.6ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (1.6ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.5ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.5ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.6ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.5ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.5ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.9ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.4ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.5ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.9ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mFixture Delete (0.8ms)[0m  [1mDELETE FROM `ads`[0m
  [1m[35mFixture Insert (2.0ms)[0m  INSERT INTO `ads` (`budget`, `created_at`, `updated_at`, `id`) VALUES (1234.0, '2016-06-21 17:15:17', '2016-06-21 17:15:17', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `ads` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 17:15:17', '2016-06-21 17:15:17', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `creatives`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (42.0, 'teste', 1, '2016-06-21 17:15:17', '2016-06-21 17:15:17', 980190962)[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (999999.0, 'teste', 1, '2016-06-21 17:15:17', '2016-06-21 17:15:17', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `places`[0m
  [1m[35mFixture Insert (2.2ms)[0m  INSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`, `id`) VALUES ('bla', 1, '2016-06-21 17:15:17', '2016-06-21 17:15:17', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `places` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 17:15:17', '2016-06-21 17:15:17', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `targetings`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES ('Male', 1, '2016-06-21 17:15:17', '2016-06-21 17:15:17', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `targetings` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 17:15:17', '2016-06-21 17:15:17', 298486374)
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------------------
AdsControllerTest: test_shouldnt_create_ad
------------------------------------------
  [1m[35mAd Load (0.7ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.5ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.5ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 298486374 LIMIT 1
  [1m[36mTargeting Load (0.5ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (1.3ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"999999.0", "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
  Rendered ads/_creative_fields.html.erb (27.9ms)
  Rendered ads/_creative_fields.html.erb (12.5ms)
  Rendered ads/_place_fields.html.erb (7.2ms)
  Rendered ads/_place_fields.html.erb (3.9ms)
  Rendered ads/_targeting_fields.html.erb (54.0ms)
  Rendered ads/_place_fields.html.erb (4.4ms)
  Rendered ads/_targeting_fields.html.erb (16.1ms)
  Rendered ads/_form.html.erb (235.5ms)
  Rendered ads/new.html.erb within layouts/application (249.4ms)
Completed 200 OK in 9625ms (Views: 918.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `ads`
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
------------------------------------------
AdsControllerTest: test_should_update_post
------------------------------------------
  [1m[36mAd Load (0.5ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (8.7ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.6ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 298486374 LIMIT 1[0m
  [1m[35mTargeting Load (0.5ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.5ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#update as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0"}, "id"=>"980190962"}
  [1m[35mAd Load (0.5ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCreative Load (0.6ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962
  [1m[36mTargeting Load (0.5ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered ads/_creative_fields.html.erb (45.6ms)
  Rendered ads/_place_fields.html.erb (4.1ms)
  Rendered ads/_targeting_fields.html.erb (18.8ms)
  Rendered ads/_form.html.erb (81.1ms)
  Rendered ads/edit.html.erb within layouts/application (84.7ms)
Completed 200 OK in 129ms (Views: 101.7ms | ActiveRecord: 2.2ms)
  [1m[36m (0.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------
AdsControllerTest: test_should_get_new
--------------------------------------
  [1m[36mAd Load (0.9ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.5ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 298486374 LIMIT 1[0m
  [1m[35mTargeting Load (0.5ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.5ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#new as HTML
  Rendered ads/_creative_fields.html.erb (6.1ms)
  Rendered ads/_creative_fields.html.erb (5.1ms)
  Rendered ads/_place_fields.html.erb (9.3ms)
  Rendered ads/_place_fields.html.erb (4.5ms)
  Rendered ads/_targeting_fields.html.erb (23.9ms)
  Rendered ads/_place_fields.html.erb (4.7ms)
  Rendered ads/_targeting_fields.html.erb (14.9ms)
  Rendered ads/_form.html.erb (62.6ms)
  Rendered ads/new.html.erb within layouts/application (64.6ms)
Completed 200 OK in 87ms (Views: 73.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_get_index
----------------------------------------
  [1m[35mAd Load (0.6ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.6ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.6ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 298486374 LIMIT 1
  [1m[36mTargeting Load (0.5ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.5ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
Processing by AdsController#index as HTML
  [1m[36mAd Load (0.7ms)[0m  [1mSELECT  `ads`.* FROM `ads` LIMIT 10 OFFSET 0[0m
  [1m[35mCreative Load (0.7ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 298486374
  [1m[36mTargeting Load (0.5ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 298486374[0m
  [1m[35mCreative Load (0.6ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962
  [1m[36mTargeting Load (0.5ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962[0m
  Rendered ads/index.html.erb within layouts/application (43.3ms)
Completed 200 OK in 57ms (Views: 52.3ms | ActiveRecord: 3.0ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
---------------------------------------
AdsControllerTest: test_should_get_edit
---------------------------------------
  [1m[35mAd Load (0.6ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (1.0ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 298486374 LIMIT 1
  [1m[36mTargeting Load (0.6ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.5ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
Processing by AdsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mAd Load (0.5ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.6ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962
  Rendered ads/_creative_fields.html.erb (7.9ms)
  Rendered ads/_creative_fields.html.erb (7.4ms)
  [1m[36mTargeting Load (2.0ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962[0m
  Rendered ads/_place_fields.html.erb (3.7ms)
  Rendered ads/_place_fields.html.erb (5.4ms)
  Rendered ads/_targeting_fields.html.erb (19.9ms)
  Rendered ads/_place_fields.html.erb (5.1ms)
  Rendered ads/_targeting_fields.html.erb (16.4ms)
  Rendered ads/_form.html.erb (72.6ms)
  Rendered ads/edit.html.erb within layouts/application (75.2ms)
Completed 200 OK in 100ms (Views: 82.7ms | ActiveRecord: 3.1ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_create_ad
----------------------------------------
  [1m[35mAd Load (0.5ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.5ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 298486374 LIMIT 1
  [1m[36mTargeting Load (0.5ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.5ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"42.0", "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
  [1m[35m (1.9ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.8ms)[0m  [1mINSERT INTO `ads` (`budget`, `created_at`, `updated_at`) VALUES (1234.0, '2016-06-21 17:17:06', '2016-06-21 17:17:06')[0m
  [1m[35mSQL (2.6ms)[0m  INSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`) VALUES (42.0, 'teste', 980190971, '2016-06-21 17:17:06', '2016-06-21 17:17:06')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`) VALUES ('Male', 980190971, '2016-06-21 17:17:06', '2016-06-21 17:17:06')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`) VALUES ('bla', 980190971, '2016-06-21 17:17:06', '2016-06-21 17:17:06')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/ads
Completed 302 Found in 99007ms (ActiveRecord: 9.8ms)
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `ads`
  [1m[36m (2.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.5ms)[0m  BEGIN
-------------------------------------------
AdsControllerTest: test_should_destroy_post
-------------------------------------------
  [1m[36mAd Load (1.2ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.6ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.6ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 298486374 LIMIT 1[0m
  [1m[35mTargeting Load (0.7ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.6ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
  [1m[35mAd Load (0.9ms)[0m  SELECT  `ads`.* FROM `ads`  ORDER BY `ads`.`id` ASC LIMIT 1
Processing by AdsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mAd Load (0.8ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 298486374 LIMIT 1[0m
  [1m[35m (0.8ms)[0m  SAVEPOINT active_record_1
  [1m[36mCreative Load (8.5ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 298486374[0m
  [1m[35mTargeting Load (0.6ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 298486374
  [1m[36mSQL (2.0ms)[0m  [1mDELETE FROM `ads` WHERE `ads`.`id` = 298486374[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/ads
Completed 302 Found in 39ms (ActiveRecord: 13.0ms)
  [1m[36mAd Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `ads` WHERE `ads`.`id` = 298486374 LIMIT 1[0m
  [1m[35m (0.6ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_show_post
----------------------------------------
  [1m[35mAd Load (6.6ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.5ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 298486374 LIMIT 1
  [1m[36mTargeting Load (0.5ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.6ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
Processing by AdsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Exists (0.9ms)[0m  SELECT  1 AS one FROM `creatives` WHERE `creatives`.`ad_id` = 980190962 LIMIT 1
  [1m[36mTargeting Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `targetings` WHERE `targetings`.`ad_id` = 980190962 LIMIT 1[0m
  Rendered ads/show.html.erb within layouts/application (24.6ms)
Completed 200 OK in 40ms (Views: 35.5ms | ActiveRecord: 2.0ms)
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.5ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mFixture Delete (2.3ms)[0m  [1mDELETE FROM `ads`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `ads` (`budget`, `created_at`, `updated_at`, `id`) VALUES (1234.0, '2016-06-21 17:18:32', '2016-06-21 17:18:32', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `ads` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 17:18:32', '2016-06-21 17:18:32', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `creatives`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (42.0, 'teste', 1, '2016-06-21 17:18:32', '2016-06-21 17:18:32', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (999999.0, 'teste', 1, '2016-06-21 17:18:32', '2016-06-21 17:18:32', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `places`[0m
  [1m[35mFixture Insert (1.9ms)[0m  INSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`, `id`) VALUES ('bla', 1, '2016-06-21 17:18:32', '2016-06-21 17:18:32', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `places` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 17:18:32', '2016-06-21 17:18:32', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `targetings`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES ('Male', 1, '2016-06-21 17:18:32', '2016-06-21 17:18:32', 980190962)[0m
  [1m[35mFixture Insert (2.0ms)[0m  INSERT INTO `targetings` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 17:18:32', '2016-06-21 17:18:32', 298486374)
  [1m[36m (1.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_show_post
----------------------------------------
  [1m[35mAd Load (0.7ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.5ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.6ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 298486374 LIMIT 1
  [1m[36mTargeting Load (1.3ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.5ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
Processing by AdsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mAd Load (0.5ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Exists (1.1ms)[0m  SELECT  1 AS one FROM `creatives` WHERE `creatives`.`ad_id` = 980190962 LIMIT 1
  [1m[36mTargeting Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `targetings` WHERE `targetings`.`ad_id` = 980190962 LIMIT 1[0m
  Rendered ads/show.html.erb within layouts/application (113.5ms)
Completed 200 OK in 883ms (Views: 873.7ms | ActiveRecord: 2.2ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
------------------------------------------
AdsControllerTest: test_should_update_post
------------------------------------------
  [1m[35mAd Load (0.9ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.8ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.6ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 298486374 LIMIT 1
  [1m[36mTargeting Load (0.5ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.5ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
Processing by AdsController#update as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0"}, "id"=>"980190962"}
  [1m[36mAd Load (0.8ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mCreative Load (1.9ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962[0m
  [1m[35mTargeting Load (0.5ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered ads/_creative_fields.html.erb (13.3ms)
  Rendered ads/_place_fields.html.erb (7.9ms)
  Rendered ads/_targeting_fields.html.erb (28.7ms)
  Rendered ads/_form.html.erb (86.9ms)
  Rendered ads/edit.html.erb within layouts/application (99.1ms)
Completed 200 OK in 156ms (Views: 111.5ms | ActiveRecord: 3.9ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_get_index
----------------------------------------
  [1m[35mAd Load (1.1ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (2.6ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 298486374 LIMIT 1
  [1m[36mTargeting Load (0.5ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.5ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
Processing by AdsController#index as HTML
  [1m[36mAd Load (0.6ms)[0m  [1mSELECT  `ads`.* FROM `ads` LIMIT 10 OFFSET 0[0m
  [1m[35mCreative Load (1.0ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 298486374
  [1m[36mTargeting Load (0.7ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 298486374[0m
  [1m[35mCreative Load (0.5ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962
  [1m[36mTargeting Load (0.6ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962[0m
  Rendered ads/index.html.erb within layouts/application (35.9ms)
Completed 200 OK in 47ms (Views: 41.6ms | ActiveRecord: 3.5ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_create_ad
----------------------------------------
  [1m[35mAd Load (0.7ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.5ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (1.7ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 298486374 LIMIT 1
  [1m[36mTargeting Load (1.1ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (11.5ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"42.0", "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
  [1m[35m (3.8ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (2.8ms)[0m  [1mINSERT INTO `ads` (`budget`, `created_at`, `updated_at`) VALUES (1234.0, '2016-06-21 17:18:44', '2016-06-21 17:18:44')[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`) VALUES (42.0, 'teste', 980190972, '2016-06-21 17:18:44', '2016-06-21 17:18:44')
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`) VALUES ('Male', 980190972, '2016-06-21 17:18:44', '2016-06-21 17:18:44')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`) VALUES ('bla', 980190972, '2016-06-21 17:18:44', '2016-06-21 17:18:44')
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/ads
Completed 302 Found in 10401ms (ActiveRecord: 9.2ms)
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `ads`
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.5ms)[0m  BEGIN
-------------------------------------------
AdsControllerTest: test_should_destroy_post
-------------------------------------------
  [1m[36mAd Load (1.0ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.5ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.5ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 298486374 LIMIT 1[0m
  [1m[35mTargeting Load (0.5ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (1.2ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
  [1m[35mAd Load (0.9ms)[0m  SELECT  `ads`.* FROM `ads`  ORDER BY `ads`.`id` ASC LIMIT 1
Processing by AdsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mAd Load (0.7ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 298486374 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mCreative Load (0.6ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 298486374[0m
  [1m[35mTargeting Load (0.6ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 298486374
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM `ads` WHERE `ads`.`id` = 298486374[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/ads
Completed 302 Found in 21ms (ActiveRecord: 3.1ms)
  [1m[36mAd Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `ads` WHERE `ads`.`id` = 298486374 LIMIT 1[0m
  [1m[35m (0.8ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
---------------------------------------
AdsControllerTest: test_should_get_edit
---------------------------------------
  [1m[35mAd Load (0.5ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.5ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 298486374 LIMIT 1
  [1m[36mTargeting Load (0.4ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.5ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
Processing by AdsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mAd Load (0.7ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.6ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962
  Rendered ads/_creative_fields.html.erb (6.8ms)
  Rendered ads/_creative_fields.html.erb (14.2ms)
  [1m[36mTargeting Load (0.8ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962[0m
  Rendered ads/_place_fields.html.erb (4.7ms)
  Rendered ads/_place_fields.html.erb (4.3ms)
  Rendered ads/_targeting_fields.html.erb (23.9ms)
  Rendered ads/_place_fields.html.erb (4.0ms)
  Rendered ads/_targeting_fields.html.erb (15.4ms)
  Rendered ads/_form.html.erb (93.9ms)
  Rendered ads/edit.html.erb within layouts/application (96.0ms)
Completed 200 OK in 128ms (Views: 108.4ms | ActiveRecord: 2.1ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------------------
AdsControllerTest: test_shouldnt_create_ad
------------------------------------------
  [1m[35mAd Load (0.6ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.5ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.7ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 298486374 LIMIT 1
  [1m[36mTargeting Load (0.5ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.4ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
--------------------------------------
AdsControllerTest: test_should_get_new
--------------------------------------
  [1m[36mAd Load (0.5ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.5ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 298486374 LIMIT 1[0m
  [1m[35mTargeting Load (0.5ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.7ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#new as HTML
  Rendered ads/_creative_fields.html.erb (7.4ms)
  Rendered ads/_creative_fields.html.erb (6.8ms)
  Rendered ads/_place_fields.html.erb (4.4ms)
  Rendered ads/_place_fields.html.erb (2.9ms)
  Rendered ads/_targeting_fields.html.erb (16.1ms)
  Rendered ads/_place_fields.html.erb (4.2ms)
  Rendered ads/_targeting_fields.html.erb (17.1ms)
  Rendered ads/_form.html.erb (60.2ms)
  Rendered ads/new.html.erb within layouts/application (64.4ms)
Completed 200 OK in 88ms (Views: 75.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.7ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.7ms)[0m  BEGIN
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `ads`[0m
  [1m[35mFixture Insert (0.9ms)[0m  INSERT INTO `ads` (`budget`, `created_at`, `updated_at`, `id`) VALUES (1234.0, '2016-06-21 17:19:21', '2016-06-21 17:19:21', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `ads` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 17:19:21', '2016-06-21 17:19:21', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `creatives`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (42.0, 'teste', 1, '2016-06-21 17:19:21', '2016-06-21 17:19:21', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (999999.0, 'teste', 1, '2016-06-21 17:19:21', '2016-06-21 17:19:21', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `places`[0m
  [1m[35mFixture Insert (1.9ms)[0m  INSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`, `id`) VALUES ('bla', 1, '2016-06-21 17:19:21', '2016-06-21 17:19:21', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `places` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 17:19:21', '2016-06-21 17:19:21', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `targetings`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES ('Male', 1, '2016-06-21 17:19:21', '2016-06-21 17:19:21', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `targetings` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 17:19:21', '2016-06-21 17:19:21', 298486374)
  [1m[36m (3.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_get_index
----------------------------------------
  [1m[35mAd Load (0.7ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.5ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 298486374 LIMIT 1
  [1m[36mTargeting Load (0.6ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.4ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
Processing by AdsController#index as HTML
  [1m[36mAd Load (0.6ms)[0m  [1mSELECT  `ads`.* FROM `ads` LIMIT 10 OFFSET 0[0m
  [1m[35mCreative Load (0.8ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 298486374
  [1m[36mTargeting Load (0.5ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 298486374[0m
  [1m[35mCreative Load (1.3ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962
  [1m[36mTargeting Load (0.7ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962[0m
  Rendered ads/index.html.erb within layouts/application (152.5ms)
Completed 200 OK in 1072ms (Views: 1066.1ms | ActiveRecord: 3.8ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.7ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_show_post
----------------------------------------
  [1m[35mAd Load (0.8ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (1.1ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.7ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 298486374 LIMIT 1
  [1m[36mTargeting Load (0.6ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.6ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
Processing by AdsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mAd Load (0.5ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Exists (0.8ms)[0m  SELECT  1 AS one FROM `creatives` WHERE `creatives`.`ad_id` = 980190962 LIMIT 1
  [1m[36mTargeting Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `targetings` WHERE `targetings`.`ad_id` = 980190962 LIMIT 1[0m
  Rendered ads/show.html.erb within layouts/application (47.8ms)
Completed 200 OK in 61ms (Views: 55.2ms | ActiveRecord: 1.9ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
---------------------------------------
AdsControllerTest: test_should_get_edit
---------------------------------------
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (1.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.5ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 298486374 LIMIT 1
  [1m[36mTargeting Load (0.5ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.4ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
Processing by AdsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mAd Load (0.5ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.5ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962
  Rendered ads/_creative_fields.html.erb (11.3ms)
  Rendered ads/_creative_fields.html.erb (4.3ms)
  [1m[36mTargeting Load (0.7ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962[0m
  Rendered ads/_place_fields.html.erb (19.0ms)
  Rendered ads/_place_fields.html.erb (3.0ms)
  Rendered ads/_targeting_fields.html.erb (43.3ms)
  Rendered ads/_place_fields.html.erb (10.8ms)
  Rendered ads/_targeting_fields.html.erb (20.7ms)
  Rendered ads/_form.html.erb (140.9ms)
  Rendered ads/edit.html.erb within layouts/application (155.8ms)
Completed 200 OK in 189ms (Views: 167.8ms | ActiveRecord: 1.8ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
--------------------------------------
AdsControllerTest: test_should_get_new
--------------------------------------
  [1m[35mAd Load (18.2ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (1.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 298486374 LIMIT 1
  [1m[36mTargeting Load (0.7ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.5ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
Processing by AdsController#new as HTML
  Rendered ads/_creative_fields.html.erb (6.6ms)
  Rendered ads/_creative_fields.html.erb (6.3ms)
  Rendered ads/_place_fields.html.erb (4.6ms)
  Rendered ads/_place_fields.html.erb (4.0ms)
  Rendered ads/_targeting_fields.html.erb (16.8ms)
  Rendered ads/_place_fields.html.erb (6.1ms)
  Rendered ads/_targeting_fields.html.erb (19.7ms)
  Rendered ads/_form.html.erb (61.6ms)
  Rendered ads/new.html.erb within layouts/application (64.5ms)
Completed 200 OK in 87ms (Views: 75.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
----------------------------------------
AdsControllerTest: test_should_create_ad
----------------------------------------
  [1m[36mAd Load (1.0ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.5ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 298486374 LIMIT 1[0m
  [1m[35mTargeting Load (0.4ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.5ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `ads`
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"42.0", "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
  [1m[36m (8.8ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.2ms)[0m  INSERT INTO `ads` (`budget`, `created_at`, `updated_at`) VALUES (1234.0, '2016-06-21 17:19:33', '2016-06-21 17:19:33')
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`) VALUES (42.0, 'teste', 980190973, '2016-06-21 17:19:33', '2016-06-21 17:19:33')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`) VALUES ('Male', 980190973, '2016-06-21 17:19:33', '2016-06-21 17:19:33')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`) VALUES ('bla', 980190973, '2016-06-21 17:19:33', '2016-06-21 17:19:33')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/ads
Completed 302 Found in 10588ms (ActiveRecord: 13.9ms)
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
  [1m[35m (1.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------------
AdsControllerTest: test_should_destroy_post
-------------------------------------------
  [1m[35mAd Load (0.6ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.6ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.6ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 298486374 LIMIT 1
  [1m[36mTargeting Load (0.8ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.4ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
  [1m[36mAd Load (0.6ms)[0m  [1mSELECT  `ads`.* FROM `ads`  ORDER BY `ads`.`id` ASC LIMIT 1[0m
Processing by AdsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[35mAd Load (0.5ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 298486374 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCreative Load (0.6ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 298486374
  [1m[36mTargeting Load (0.6ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 298486374[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM `ads` WHERE `ads`.`id` = 298486374
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/ads
Completed 302 Found in 20ms (ActiveRecord: 2.8ms)
  [1m[35mAd Exists (0.5ms)[0m  SELECT  1 AS one FROM `ads` WHERE `ads`.`id` = 298486374 LIMIT 1
  [1m[36m (0.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
------------------------------------------
AdsControllerTest: test_should_update_post
------------------------------------------
  [1m[36mAd Load (0.5ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.6ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.5ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 298486374 LIMIT 1[0m
  [1m[35mTargeting Load (0.4ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.6ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#update as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0"}, "id"=>"980190962"}
  [1m[35mAd Load (0.6ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCreative Load (0.6ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962
  [1m[36mTargeting Load (0.5ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered ads/_creative_fields.html.erb (18.5ms)
  Rendered ads/_place_fields.html.erb (11.3ms)
  Rendered ads/_targeting_fields.html.erb (30.9ms)
  Rendered ads/_form.html.erb (73.5ms)
  Rendered ads/edit.html.erb within layouts/application (76.5ms)
Completed 200 OK in 126ms (Views: 94.4ms | ActiveRecord: 2.3ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
------------------------------------------
AdsControllerTest: test_shouldnt_create_ad
------------------------------------------
  [1m[36mAd Load (1.0ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (1.6ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.5ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 298486374 LIMIT 1[0m
  [1m[35mTargeting Load (0.7ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.5ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `ads`
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"999999.0", "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
  Rendered ads/_creative_fields.html.erb (35.8ms)
  Rendered ads/_creative_fields.html.erb (13.8ms)
  Rendered ads/_place_fields.html.erb (7.2ms)
  Rendered ads/_place_fields.html.erb (7.9ms)
  Rendered ads/_targeting_fields.html.erb (33.5ms)
  Rendered ads/_place_fields.html.erb (5.0ms)
  Rendered ads/_targeting_fields.html.erb (25.9ms)
  Rendered ads/_form.html.erb (184.4ms)
  Rendered ads/new.html.erb within layouts/application (191.3ms)
Completed 200 OK in 20274ms (Views: 380.9ms | ActiveRecord: 0.0ms)
  [1m[36m (12.3ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
  [1m[35m (1.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (10.1ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.8ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (1.1ms)[0m  [1mDELETE FROM `ads`[0m
  [1m[35mFixture Insert (6.3ms)[0m  INSERT INTO `ads` (`budget`, `created_at`, `updated_at`, `id`) VALUES (1234.0, '2016-06-21 17:22:43', '2016-06-21 17:22:43', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `ads` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 17:22:43', '2016-06-21 17:22:43', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `creatives`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (42.0, 'teste', 1, '2016-06-21 17:22:43', '2016-06-21 17:22:43', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (999999.0, 'teste', 1, '2016-06-21 17:22:43', '2016-06-21 17:22:43', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `places`[0m
  [1m[35mFixture Insert (2.2ms)[0m  INSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`, `id`) VALUES ('bla', 1, '2016-06-21 17:22:43', '2016-06-21 17:22:43', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `places` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 17:22:43', '2016-06-21 17:22:43', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `targetings`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES ('Male', 1, '2016-06-21 17:22:43', '2016-06-21 17:22:43', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `targetings` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 17:22:43', '2016-06-21 17:22:43', 298486374)
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_create_ad
----------------------------------------
  [1m[35mAd Load (0.5ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 298486374 LIMIT 1
  [1m[36mTargeting Load (0.2ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.4ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"42.0", "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.7ms)[0m  [1mINSERT INTO `ads` (`budget`, `created_at`, `updated_at`) VALUES (1234.0, '2016-06-21 17:22:43', '2016-06-21 17:22:43')[0m
  [1m[35mSQL (2.0ms)[0m  INSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`) VALUES (42.0, 'teste', 980190974, '2016-06-21 17:22:43', '2016-06-21 17:22:43')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`) VALUES ('Male', 980190974, '2016-06-21 17:22:43', '2016-06-21 17:22:43')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`) VALUES ('bla', 980190974, '2016-06-21 17:22:43', '2016-06-21 17:22:43')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/ads
Completed 302 Found in 66ms (ActiveRecord: 6.8ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `ads`
  [1m[36m (2.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
AdsControllerTest: test_should_update_post
------------------------------------------
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 298486374 LIMIT 1[0m
  [1m[35mTargeting Load (0.8ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.4ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#update as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"42.0", "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}, "id"=>"980190962"}
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962
  [1m[36mTargeting Load (0.3ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962[0m
  [1m[35mSQL (1.9ms)[0m  INSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`) VALUES (42.0, 'teste', 980190962, '2016-06-21 17:22:43', '2016-06-21 17:22:43')
  [1m[36mSQL (3.7ms)[0m  [1mINSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`) VALUES ('Male', 980190962, '2016-06-21 17:22:43', '2016-06-21 17:22:43')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`) VALUES ('bla', 980190975, '2016-06-21 17:22:43', '2016-06-21 17:22:43')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/ads/980190962
Completed 302 Found in 33ms (ActiveRecord: 7.6ms)
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------
AdsControllerTest: test_should_get_edit
---------------------------------------
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.5ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 298486374 LIMIT 1
  [1m[36mTargeting Load (0.8ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.3ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
Processing by AdsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mAd Load (0.5ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.5ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962
  Rendered ads/_creative_fields.html.erb (12.6ms)
  Rendered ads/_creative_fields.html.erb (1.5ms)
  [1m[36mTargeting Load (0.6ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962[0m
  Rendered ads/_place_fields.html.erb (2.6ms)
  Rendered ads/_place_fields.html.erb (1.1ms)
  Rendered ads/_targeting_fields.html.erb (15.4ms)
  Rendered ads/_place_fields.html.erb (0.8ms)
  Rendered ads/_targeting_fields.html.erb (3.4ms)
  Rendered ads/_form.html.erb (112.0ms)
  Rendered ads/edit.html.erb within layouts/application (122.1ms)
Completed 200 OK in 674ms (Views: 668.9ms | ActiveRecord: 1.5ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------
AdsControllerTest: test_shouldnt_create_bid_greater_than_budget
---------------------------------------------------------------
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 298486374 LIMIT 1
  [1m[36mTargeting Load (0.5ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.4ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"999999.0", "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
  Rendered ads/_creative_fields.html.erb (2.4ms)
  Rendered ads/_creative_fields.html.erb (2.3ms)
  Rendered ads/_place_fields.html.erb (1.4ms)
  Rendered ads/_place_fields.html.erb (1.4ms)
  Rendered ads/_targeting_fields.html.erb (6.9ms)
  Rendered ads/_place_fields.html.erb (0.7ms)
  Rendered ads/_targeting_fields.html.erb (2.9ms)
  Rendered ads/_form.html.erb (20.5ms)
  Rendered ads/new.html.erb within layouts/application (21.8ms)
Completed 200 OK in 36ms (Views: 26.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `ads`
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
AdsControllerTest: test_should_destroy_post
-------------------------------------------
  [1m[36mAd Load (0.5ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (1.5ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 298486374 LIMIT 1[0m
  [1m[35mTargeting Load (0.5ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.4ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads`  ORDER BY `ads`.`id` ASC LIMIT 1
Processing by AdsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 298486374 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mCreative Load (0.5ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 298486374[0m
  [1m[35mTargeting Load (0.5ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 298486374
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM `ads` WHERE `ads`.`id` = 298486374[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/ads
Completed 302 Found in 8ms (ActiveRecord: 2.4ms)
  [1m[36mAd Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `ads` WHERE `ads`.`id` = 298486374 LIMIT 1[0m
  [1m[35m (0.6ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
AdsControllerTest: test_should_get_new
--------------------------------------
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (1.0ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 298486374 LIMIT 1
  [1m[36mTargeting Load (0.5ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.3ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
Processing by AdsController#new as HTML
  Rendered ads/_creative_fields.html.erb (1.1ms)
  Rendered ads/_creative_fields.html.erb (1.3ms)
  Rendered ads/_place_fields.html.erb (1.0ms)
  Rendered ads/_place_fields.html.erb (0.9ms)
  Rendered ads/_targeting_fields.html.erb (4.8ms)
  Rendered ads/_place_fields.html.erb (1.8ms)
  Rendered ads/_targeting_fields.html.erb (4.5ms)
  Rendered ads/_form.html.erb (15.3ms)
  Rendered ads/new.html.erb within layouts/application (15.6ms)
Completed 200 OK in 23ms (Views: 18.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
AdsControllerTest: test_should_show_post
----------------------------------------
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (1.0ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 298486374 LIMIT 1[0m
  [1m[35mTargeting Load (0.5ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (1.3ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `creatives` WHERE `creatives`.`ad_id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Exists (0.5ms)[0m  SELECT  1 AS one FROM `targetings` WHERE `targetings`.`ad_id` = 980190962 LIMIT 1
  Rendered ads/show.html.erb within layouts/application (26.9ms)
Completed 200 OK in 32ms (Views: 29.7ms | ActiveRecord: 1.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
AdsControllerTest: test_should_get_index
----------------------------------------
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.2ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 298486374 LIMIT 1[0m
  [1m[35mTargeting Load (0.2ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.3ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#index as HTML
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` LIMIT 10 OFFSET 0
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 298486374[0m
  [1m[35mTargeting Load (0.3ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 298486374
  [1m[36mCreative Load (0.2ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962[0m
  [1m[35mTargeting Load (0.2ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962
  Rendered ads/index.html.erb within layouts/application (8.1ms)
Completed 200 OK in 16ms (Views: 13.8ms | ActiveRecord: 1.4ms)
  [1m[36m (1.7ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (2.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `ads`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `ads` (`budget`, `created_at`, `updated_at`, `id`) VALUES (1234.0, '2016-06-21 17:25:32', '2016-06-21 17:25:32', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `ads` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 17:25:32', '2016-06-21 17:25:32', 298486374)[0m
  [1m[35mFixture Delete (1.3ms)[0m  DELETE FROM `creatives`
  [1m[36mFixture Insert (1.6ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (42.0, 'teste', 1, '2016-06-21 17:25:32', '2016-06-21 17:25:32', 562391268)[0m
  [1m[35mFixture Insert (1.7ms)[0m  INSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (999999.0, 'teste', 1, '2016-06-21 17:25:32', '2016-06-21 17:25:32', 914851422)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (999999.0, NULL, 1, '2016-06-21 17:25:32', '2016-06-21 17:25:32', 267816528)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (NULL, 'teste', 1, '2016-06-21 17:25:32', '2016-06-21 17:25:32', 245101925)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `places`[0m
  [1m[35mFixture Insert (1.1ms)[0m  INSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`, `id`) VALUES ('bla', 1, '2016-06-21 17:25:32', '2016-06-21 17:25:32', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `places` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 17:25:32', '2016-06-21 17:25:32', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `targetings`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES ('Male', 1, '2016-06-21 17:25:32', '2016-06-21 17:25:32', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `targetings` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 17:25:32', '2016-06-21 17:25:32', 298486374)
  [1m[36m (1.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
AdsControllerTest: test_should_get_new
--------------------------------------
  [1m[35mAd Load (1.1ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
AdsControllerTest: test_should_show_post
----------------------------------------
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
-------------------------------------------
AdsControllerTest: test_should_destroy_post
-------------------------------------------
  [1m[35mAd Load (1.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
---------------------------------------------------------------
AdsControllerTest: test_shouldnt_create_bid_greater_than_budget
---------------------------------------------------------------
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
---------------------------------------
AdsControllerTest: test_should_get_edit
---------------------------------------
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------------
AdsControllerTest: test_shouldnt_create_creative_with_no_adText
---------------------------------------------------------------
  [1m[36mAd Load (1.8ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (1.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
AdsControllerTest: test_should_update_post
------------------------------------------
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.0ms)[0m  BEGIN
----------------------------------------
AdsControllerTest: test_should_get_index
----------------------------------------
  [1m[36mAd Load (1.5ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_create_ad
----------------------------------------
  [1m[35mAd Load (0.5ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36m (1.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `ads`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `ads` (`budget`, `created_at`, `updated_at`, `id`) VALUES (1234.0, '2016-06-21 17:25:49', '2016-06-21 17:25:49', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `ads` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 17:25:49', '2016-06-21 17:25:49', 298486374)[0m
  [1m[35mFixture Delete (2.2ms)[0m  DELETE FROM `creatives`
  [1m[36mFixture Insert (3.9ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (42.0, 'teste', 1, '2016-06-21 17:25:49', '2016-06-21 17:25:49', 562391268)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (999999.0, 'teste', 1, '2016-06-21 17:25:49', '2016-06-21 17:25:49', 914851422)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `places`[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`, `id`) VALUES ('bla', 1, '2016-06-21 17:25:49', '2016-06-21 17:25:49', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `places` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 17:25:49', '2016-06-21 17:25:49', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `targetings`
  [1m[36mFixture Insert (4.9ms)[0m  [1mINSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES ('Male', 1, '2016-06-21 17:25:49', '2016-06-21 17:25:49', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `targetings` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 17:25:49', '2016-06-21 17:25:49', 298486374)
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------
AdsControllerTest: test_shouldnt_create_bid_greater_than_budget
---------------------------------------------------------------
  [1m[35mAd Load (3.8ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
AdsControllerTest: test_should_get_index
----------------------------------------
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_create_ad
----------------------------------------
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
-------------------------------------------
AdsControllerTest: test_should_destroy_post
-------------------------------------------
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (9.1ms)[0m  [1mBEGIN[0m
------------------------------------------
AdsControllerTest: test_should_update_post
------------------------------------------
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------
AdsControllerTest: test_should_get_edit
---------------------------------------
  [1m[36mAd Load (0.6ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------
AdsControllerTest: test_should_get_new
--------------------------------------
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
AdsControllerTest: test_should_show_post
----------------------------------------
  [1m[36mAd Load (0.5ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------
AdsControllerTest: test_shouldnt_create_creative_with_no_adText
---------------------------------------------------------------
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (2.9ms)[0m  [1mDELETE FROM `ads`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `ads` (`budget`, `created_at`, `updated_at`, `id`) VALUES (1234.0, '2016-06-21 17:26:21', '2016-06-21 17:26:21', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `ads` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 17:26:21', '2016-06-21 17:26:21', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `creatives`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (42.0, 'teste', 1, '2016-06-21 17:26:21', '2016-06-21 17:26:21', 562391268)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (999999.0, 'teste', 1, '2016-06-21 17:26:21', '2016-06-21 17:26:21', 914851422)
  [1m[36mFixture Insert (2.1ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (999999.0, NULL, 1, '2016-06-21 17:26:21', '2016-06-21 17:26:21', 267816528)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (NULL, 'teste', 1, '2016-06-21 17:26:21', '2016-06-21 17:26:21', 245101925)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `places`[0m
  [1m[35mFixture Insert (2.6ms)[0m  INSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`, `id`) VALUES ('bla', 1, '2016-06-21 17:26:21', '2016-06-21 17:26:21', 980190962)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `places` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 17:26:21', '2016-06-21 17:26:21', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `targetings`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES ('Male', 1, '2016-06-21 17:26:21', '2016-06-21 17:26:21', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `targetings` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 17:26:21', '2016-06-21 17:26:21', 298486374)
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------
AdsControllerTest: test_shouldnt_create_bid_greater_than_budget
---------------------------------------------------------------
  [1m[35mAd Load (0.8ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (1.5ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1
  [1m[36mTargeting Load (0.4ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.9ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"999999.0", "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
  Rendered ads/_creative_fields.html.erb (9.4ms)
  Rendered ads/_creative_fields.html.erb (2.6ms)
  Rendered ads/_place_fields.html.erb (3.8ms)
  Rendered ads/_place_fields.html.erb (0.8ms)
  Rendered ads/_targeting_fields.html.erb (16.8ms)
  Rendered ads/_place_fields.html.erb (1.4ms)
  Rendered ads/_targeting_fields.html.erb (4.3ms)
  Rendered ads/_form.html.erb (95.2ms)
  Rendered ads/new.html.erb within layouts/application (110.9ms)
Completed 200 OK in 721ms (Views: 665.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `ads`
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------
AdsControllerTest: test_should_destroy_post
-------------------------------------------
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (0.5ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1[0m
  [1m[35mTargeting Load (0.5ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.7ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads`  ORDER BY `ads`.`id` ASC LIMIT 1
Processing by AdsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mAd Load (0.6ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 298486374 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mCreative Load (0.6ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 298486374[0m
  [1m[35mTargeting Load (1.1ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 298486374
  [1m[36mSQL (0.9ms)[0m  [1mDELETE FROM `ads` WHERE `ads`.`id` = 298486374[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/ads
Completed 302 Found in 18ms (ActiveRecord: 3.8ms)
  [1m[36mAd Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `ads` WHERE `ads`.`id` = 298486374 LIMIT 1[0m
  [1m[35m (0.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_show_post
----------------------------------------
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (1.0ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1[0m
  [1m[35mCreative Load (0.7ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1
  [1m[36mTargeting Load (0.4ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.4ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
Processing by AdsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Exists (0.6ms)[0m  SELECT  1 AS one FROM `creatives` WHERE `creatives`.`ad_id` = 980190962 LIMIT 1
  [1m[36mTargeting Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `targetings` WHERE `targetings`.`ad_id` = 980190962 LIMIT 1[0m
  Rendered ads/show.html.erb within layouts/application (20.7ms)
Completed 200 OK in 25ms (Views: 23.2ms | ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
AdsControllerTest: test_should_update_post
------------------------------------------
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.2ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1
  [1m[36mTargeting Load (0.5ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.6ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
Processing by AdsController#update as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"42.0", "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}, "id"=>"980190962"}
  [1m[36mAd Load (0.8ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mCreative Load (0.5ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962[0m
  [1m[35mTargeting Load (0.3ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962
  [1m[36mSQL (2.8ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`) VALUES (42.0, 'teste', 980190962, '2016-06-21 17:26:22', '2016-06-21 17:26:22')[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`) VALUES ('Male', 980190962, '2016-06-21 17:26:22', '2016-06-21 17:26:22')
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`) VALUES ('bla', 980190976, '2016-06-21 17:26:22', '2016-06-21 17:26:22')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/ads/980190962
Completed 302 Found in 28ms (ActiveRecord: 5.1ms)
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
AdsControllerTest: test_should_create_ad
----------------------------------------
  [1m[36mAd Load (0.5ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1[0m
  [1m[35mTargeting Load (0.3ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (1.2ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `ads`
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"42.0", "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.8ms)[0m  INSERT INTO `ads` (`budget`, `created_at`, `updated_at`) VALUES (1234.0, '2016-06-21 17:26:22', '2016-06-21 17:26:22')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`) VALUES (42.0, 'teste', 980190975, '2016-06-21 17:26:22', '2016-06-21 17:26:22')[0m
  [1m[35mSQL (5.4ms)[0m  INSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`) VALUES ('Male', 980190975, '2016-06-21 17:26:22', '2016-06-21 17:26:22')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`) VALUES ('bla', 980190977, '2016-06-21 17:26:22', '2016-06-21 17:26:22')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/ads
Completed 302 Found in 24ms (ActiveRecord: 8.4ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
  [1m[35m (0.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------
AdsControllerTest: test_should_get_edit
---------------------------------------
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1[0m
  [1m[35mCreative Load (0.7ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1
  [1m[36mTargeting Load (0.3ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.2ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
Processing by AdsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mAd Load (0.5ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962
  Rendered ads/_creative_fields.html.erb (4.8ms)
  Rendered ads/_creative_fields.html.erb (3.3ms)
  [1m[36mTargeting Load (0.5ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962[0m
  Rendered ads/_place_fields.html.erb (1.5ms)
  Rendered ads/_place_fields.html.erb (2.1ms)
  Rendered ads/_targeting_fields.html.erb (8.2ms)
  Rendered ads/_place_fields.html.erb (3.2ms)
  Rendered ads/_targeting_fields.html.erb (7.3ms)
  Rendered ads/_form.html.erb (33.9ms)
  Rendered ads/edit.html.erb within layouts/application (37.6ms)
Completed 200 OK in 49ms (Views: 43.1ms | ActiveRecord: 1.5ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------
AdsControllerTest: test_should_get_new
--------------------------------------
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1[0m
  [1m[35mCreative Load (0.7ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1
  [1m[36mTargeting Load (0.3ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.3ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
Processing by AdsController#new as HTML
  Rendered ads/_creative_fields.html.erb (1.9ms)
  Rendered ads/_creative_fields.html.erb (2.0ms)
  Rendered ads/_place_fields.html.erb (1.1ms)
  Rendered ads/_place_fields.html.erb (1.3ms)
  Rendered ads/_targeting_fields.html.erb (6.7ms)
  Rendered ads/_place_fields.html.erb (1.6ms)
  Rendered ads/_targeting_fields.html.erb (5.6ms)
  Rendered ads/_form.html.erb (21.4ms)
  Rendered ads/new.html.erb within layouts/application (22.5ms)
Completed 200 OK in 29ms (Views: 26.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
AdsControllerTest: test_should_get_index
----------------------------------------
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (1.9ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1[0m
  [1m[35mTargeting Load (0.3ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.4ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#index as HTML
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` LIMIT 10 OFFSET 0
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 298486374[0m
  [1m[35mTargeting Load (0.3ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 298486374
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962[0m
  [1m[35mTargeting Load (3.1ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962
  Rendered ads/index.html.erb within layouts/application (22.7ms)
Completed 200 OK in 30ms (Views: 24.8ms | ActiveRecord: 4.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------------
AdsControllerTest: test_shouldnt_create_creative_with_no_adText
---------------------------------------------------------------
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1[0m
  [1m[35mTargeting Load (0.5ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.6ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `ads`
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"999999.0", "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
  Rendered ads/_creative_fields.html.erb (3.5ms)
  Rendered ads/_creative_fields.html.erb (2.5ms)
  Rendered ads/_place_fields.html.erb (2.3ms)
  Rendered ads/_place_fields.html.erb (1.1ms)
  Rendered ads/_targeting_fields.html.erb (9.3ms)
  Rendered ads/_place_fields.html.erb (1.5ms)
  Rendered ads/_targeting_fields.html.erb (5.4ms)
  Rendered ads/_form.html.erb (28.2ms)
  Rendered ads/new.html.erb within layouts/application (28.6ms)
Completed 200 OK in 46ms (Views: 33.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
  [1m[35m (0.7ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (3.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM `ads`[0m
  [1m[35mFixture Insert (1.1ms)[0m  INSERT INTO `ads` (`budget`, `created_at`, `updated_at`, `id`) VALUES (1234.0, '2016-06-21 17:26:50', '2016-06-21 17:26:50', 980190962)
  [1m[36mFixture Insert (0.8ms)[0m  [1mINSERT INTO `ads` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 17:26:50', '2016-06-21 17:26:50', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `creatives`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (42.0, 'teste', 1, '2016-06-21 17:26:50', '2016-06-21 17:26:50', 562391268)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (999999.0, 'teste', 1, '2016-06-21 17:26:50', '2016-06-21 17:26:50', 914851422)
  [1m[36mFixture Insert (1.4ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (999999.0, NULL, 1, '2016-06-21 17:26:50', '2016-06-21 17:26:50', 267816528)[0m
  [1m[35mFixture Insert (1.9ms)[0m  INSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (NULL, 'teste', 1, '2016-06-21 17:26:50', '2016-06-21 17:26:50', 245101925)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `places`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`, `id`) VALUES ('bla', 1, '2016-06-21 17:26:50', '2016-06-21 17:26:50', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `places` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 17:26:50', '2016-06-21 17:26:50', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `targetings`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES ('Male', 1, '2016-06-21 17:26:50', '2016-06-21 17:26:50', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `targetings` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 17:26:50', '2016-06-21 17:26:50', 298486374)
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_create_ad
----------------------------------------
  [1m[35mAd Load (0.5ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.5ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1[0m
  [1m[35mCreative Load (0.6ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1
  [1m[36mCreative Load (0.5ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1
  [1m[36mTargeting Load (0.4ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.4ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"42.0", "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.1ms)[0m  [1mINSERT INTO `ads` (`budget`, `created_at`, `updated_at`) VALUES (1234.0, '2016-06-21 17:26:50', '2016-06-21 17:26:50')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`) VALUES (42.0, 'teste', 980190976, '2016-06-21 17:26:50', '2016-06-21 17:26:50')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`) VALUES ('Male', 980190976, '2016-06-21 17:26:50', '2016-06-21 17:26:50')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`) VALUES ('bla', 980190978, '2016-06-21 17:26:50', '2016-06-21 17:26:50')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/ads
Completed 302 Found in 88ms (ActiveRecord: 4.9ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `ads`
  [1m[36m (3.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
AdsControllerTest: test_should_destroy_post
-------------------------------------------
  [1m[36mAd Load (0.8ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.5ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (1.8ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1[0m
  [1m[35mTargeting Load (0.3ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.3ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads`  ORDER BY `ads`.`id` ASC LIMIT 1
Processing by AdsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 298486374 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mCreative Load (0.5ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 298486374[0m
  [1m[35mTargeting Load (0.3ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 298486374
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM `ads` WHERE `ads`.`id` = 298486374[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/ads
Completed 302 Found in 13ms (ActiveRecord: 2.0ms)
  [1m[36mAd Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `ads` WHERE `ads`.`id` = 298486374 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------
AdsControllerTest: test_shouldnt_create_bid_greater_than_budget
---------------------------------------------------------------
  [1m[35mAd Load (0.8ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.5ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1[0m
  [1m[35mCreative Load (1.5ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1
  [1m[36mTargeting Load (0.5ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.4ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"999999.0", "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
  Rendered ads/_creative_fields.html.erb (10.9ms)
  Rendered ads/_creative_fields.html.erb (3.2ms)
  Rendered ads/_place_fields.html.erb (4.5ms)
  Rendered ads/_place_fields.html.erb (2.9ms)
  Rendered ads/_targeting_fields.html.erb (22.1ms)
  Rendered ads/_place_fields.html.erb (6.3ms)
  Rendered ads/_targeting_fields.html.erb (16.6ms)
  Rendered ads/_form.html.erb (128.9ms)
  Rendered ads/new.html.erb within layouts/application (145.2ms)
Completed 200 OK in 936ms (Views: 895.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `ads`
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------
AdsControllerTest: test_should_update_post
------------------------------------------
  [1m[36mAd Load (0.7ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (0.7ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1
  [1m[36mCreative Load (0.6ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1[0m
  [1m[35mTargeting Load (0.8ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (1.0ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#update as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"42.0", "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}, "id"=>"980190962"}
  [1m[35mAd Load (2.8ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCreative Load (0.6ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962
  [1m[36mTargeting Load (0.6ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962[0m
  [1m[35mSQL (1.8ms)[0m  INSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`) VALUES (42.0, 'teste', 980190962, '2016-06-21 17:26:51', '2016-06-21 17:26:51')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`) VALUES ('Male', 980190962, '2016-06-21 17:26:51', '2016-06-21 17:26:51')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`) VALUES ('bla', 980190979, '2016-06-21 17:26:51', '2016-06-21 17:26:51')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/ads/980190962
Completed 302 Found in 45ms (ActiveRecord: 7.4ms)
  [1m[35m (0.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------
AdsControllerTest: test_shouldnt_create_creative_with_no_adText
---------------------------------------------------------------
  [1m[35mAd Load (0.9ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1
  [1m[36mCreative Load (0.5ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1[0m
  [1m[35mCreative Load (0.6ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1
  [1m[36mTargeting Load (1.2ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.5ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
  [1m[36m (2.2ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"999999.0", "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
  Rendered ads/_creative_fields.html.erb (2.5ms)
  Rendered ads/_creative_fields.html.erb (2.5ms)
  Rendered ads/_place_fields.html.erb (1.3ms)
  Rendered ads/_place_fields.html.erb (1.2ms)
  Rendered ads/_targeting_fields.html.erb (6.2ms)
  Rendered ads/_place_fields.html.erb (1.2ms)
  Rendered ads/_targeting_fields.html.erb (4.2ms)
  Rendered ads/_form.html.erb (22.8ms)
  Rendered ads/new.html.erb within layouts/application (23.3ms)
Completed 200 OK in 40ms (Views: 26.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `ads`
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------
AdsControllerTest: test_should_get_edit
---------------------------------------
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (1.5ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1[0m
  [1m[35mCreative Load (0.5ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1[0m
  [1m[35mTargeting Load (0.5ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.3ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mAd Load (0.5ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962[0m
  Rendered ads/_creative_fields.html.erb (2.8ms)
  Rendered ads/_creative_fields.html.erb (2.1ms)
  [1m[35mTargeting Load (0.5ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962
  Rendered ads/_place_fields.html.erb (1.9ms)
  Rendered ads/_place_fields.html.erb (1.2ms)
  Rendered ads/_targeting_fields.html.erb (7.3ms)
  Rendered ads/_place_fields.html.erb (1.4ms)
  Rendered ads/_targeting_fields.html.erb (4.6ms)
  Rendered ads/_form.html.erb (25.2ms)
  Rendered ads/edit.html.erb within layouts/application (26.7ms)
Completed 200 OK in 39ms (Views: 32.1ms | ActiveRecord: 1.4ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
AdsControllerTest: test_should_get_index
----------------------------------------
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.5ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (1.0ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1[0m
  [1m[35mCreative Load (0.9ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1[0m
  [1m[35mTargeting Load (0.4ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.5ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#index as HTML
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` LIMIT 10 OFFSET 0
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 298486374[0m
  [1m[35mTargeting Load (0.3ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 298486374
  [1m[36mCreative Load (0.5ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962[0m
  [1m[35mTargeting Load (0.5ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962
  Rendered ads/index.html.erb within layouts/application (27.0ms)
Completed 200 OK in 34ms (Views: 31.1ms | ActiveRecord: 2.1ms)
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
AdsControllerTest: test_should_get_new
--------------------------------------
  [1m[36mAd Load (1.0ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.5ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1
  [1m[36mCreative Load (0.6ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1[0m
  [1m[35mTargeting Load (0.5ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.4ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#new as HTML
  Rendered ads/_creative_fields.html.erb (1.1ms)
  Rendered ads/_creative_fields.html.erb (1.5ms)
  Rendered ads/_place_fields.html.erb (0.8ms)
  Rendered ads/_place_fields.html.erb (0.6ms)
  Rendered ads/_targeting_fields.html.erb (3.9ms)
  Rendered ads/_place_fields.html.erb (0.7ms)
  Rendered ads/_targeting_fields.html.erb (2.5ms)
  Rendered ads/_form.html.erb (12.8ms)
  Rendered ads/new.html.erb within layouts/application (13.3ms)
Completed 200 OK in 38ms (Views: 17.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_show_post
----------------------------------------
  [1m[35mAd Load (1.0ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.5ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1
  [1m[36mCreative Load (0.5ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1
  [1m[36mTargeting Load (0.7ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.4ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
Processing by AdsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Exists (0.5ms)[0m  SELECT  1 AS one FROM `creatives` WHERE `creatives`.`ad_id` = 980190962 LIMIT 1
  [1m[36mTargeting Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `targetings` WHERE `targetings`.`ad_id` = 980190962 LIMIT 1[0m
  Rendered ads/show.html.erb within layouts/application (13.1ms)
Completed 200 OK in 21ms (Views: 17.9ms | ActiveRecord: 1.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `ads`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `ads` (`budget`, `created_at`, `updated_at`, `id`) VALUES (1234.0, '2016-06-21 17:27:53', '2016-06-21 17:27:53', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `ads` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 17:27:53', '2016-06-21 17:27:53', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `creatives`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (42.0, 'teste', 1, '2016-06-21 17:27:53', '2016-06-21 17:27:53', 562391268)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (999999.0, 'teste', 1, '2016-06-21 17:27:53', '2016-06-21 17:27:53', 914851422)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (999999.0, NULL, 1, '2016-06-21 17:27:53', '2016-06-21 17:27:53', 267816528)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (NULL, 'teste', 1, '2016-06-21 17:27:53', '2016-06-21 17:27:53', 245101925)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `places`[0m
  [1m[35mFixture Insert (5.4ms)[0m  INSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`, `id`) VALUES ('bla', 1, '2016-06-21 17:27:53', '2016-06-21 17:27:53', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `places` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 17:27:53', '2016-06-21 17:27:53', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `targetings`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES ('Male', 1, '2016-06-21 17:27:53', '2016-06-21 17:27:53', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `targetings` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 17:27:53', '2016-06-21 17:27:53', 298486374)
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
AdsControllerTest: test_should_update_post
------------------------------------------
  [1m[35mAd Load (0.5ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1
  [1m[36mTargeting Load (0.2ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.3ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
Processing by AdsController#update as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"42.0", "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}, "id"=>"980190962"}
  [1m[36mAd Load (0.5ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mCreative Load (0.6ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962[0m
  [1m[35mTargeting Load (0.4ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962
  [1m[36mSQL (2.6ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`) VALUES (42.0, 'teste', 980190962, '2016-06-21 17:27:53', '2016-06-21 17:27:53')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`) VALUES ('Male', 980190962, '2016-06-21 17:27:53', '2016-06-21 17:27:53')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`) VALUES ('bla', 980190980, '2016-06-21 17:27:53', '2016-06-21 17:27:53')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/ads/980190962
Completed 302 Found in 62ms (ActiveRecord: 5.1ms)
  [1m[36m (0.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------
AdsControllerTest: test_should_get_new
--------------------------------------
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (1.5ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1[0m
  [1m[35mCreative Load (0.9ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1[0m
  [1m[35mTargeting Load (0.3ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.3ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#new as HTML
  Rendered ads/_creative_fields.html.erb (8.5ms)
  Rendered ads/_creative_fields.html.erb (1.3ms)
  Rendered ads/_place_fields.html.erb (3.8ms)
  Rendered ads/_place_fields.html.erb (1.2ms)
  Rendered ads/_targeting_fields.html.erb (23.8ms)
  Rendered ads/_place_fields.html.erb (1.2ms)
  Rendered ads/_targeting_fields.html.erb (4.5ms)
  Rendered ads/_form.html.erb (87.9ms)
  Rendered ads/new.html.erb within layouts/application (103.0ms)
Completed 200 OK in 624ms (Views: 621.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------
AdsControllerTest: test_should_get_edit
---------------------------------------
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1[0m
  [1m[35mCreative Load (0.6ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1
  [1m[36mTargeting Load (0.3ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.5ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
Processing by AdsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mAd Load (0.5ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962
  Rendered ads/_creative_fields.html.erb (2.2ms)
  Rendered ads/_creative_fields.html.erb (1.8ms)
  [1m[36mTargeting Load (0.4ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962[0m
  Rendered ads/_place_fields.html.erb (0.8ms)
  Rendered ads/_place_fields.html.erb (0.7ms)
  Rendered ads/_targeting_fields.html.erb (4.2ms)
  Rendered ads/_place_fields.html.erb (0.8ms)
  Rendered ads/_targeting_fields.html.erb (3.1ms)
  Rendered ads/_form.html.erb (18.1ms)
  Rendered ads/edit.html.erb within layouts/application (19.4ms)
Completed 200 OK in 35ms (Views: 25.9ms | ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_show_post
----------------------------------------
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1[0m
  [1m[35mCreative Load (0.6ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1
  [1m[36mCreative Load (1.2ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1
  [1m[36mTargeting Load (0.7ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.4ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
Processing by AdsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Exists (0.5ms)[0m  SELECT  1 AS one FROM `creatives` WHERE `creatives`.`ad_id` = 980190962 LIMIT 1
  [1m[36mTargeting Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `targetings` WHERE `targetings`.`ad_id` = 980190962 LIMIT 1[0m
  Rendered ads/show.html.erb within layouts/application (28.2ms)
Completed 200 OK in 36ms (Views: 33.8ms | ActiveRecord: 1.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------
AdsControllerTest: test_shouldnt_create_bid_greater_than_budget
---------------------------------------------------------------
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.6ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1
  [1m[36mCreative Load (1.0ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1
  [1m[36mTargeting Load (0.3ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.3ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"999999.0", "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
  Rendered ads/_creative_fields.html.erb (1.2ms)
  Rendered ads/_creative_fields.html.erb (1.5ms)
  Rendered ads/_place_fields.html.erb (1.2ms)
  Rendered ads/_place_fields.html.erb (0.9ms)
  Rendered ads/_targeting_fields.html.erb (8.2ms)
  Rendered ads/_place_fields.html.erb (1.1ms)
  Rendered ads/_targeting_fields.html.erb (4.4ms)
  Rendered ads/_form.html.erb (19.7ms)
  Rendered ads/new.html.erb within layouts/application (20.4ms)
Completed 200 OK in 30ms (Views: 23.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `ads`
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------
AdsControllerTest: test_shouldnt_create_creative_with_no_bid
------------------------------------------------------------
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (2.2ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1[0m
  [1m[35mTargeting Load (0.3ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.3ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `ads`
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>nil, "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered ads/_creative_fields.html.erb (2.4ms)
  Rendered ads/_creative_fields.html.erb (2.5ms)
  Rendered ads/_place_fields.html.erb (1.2ms)
  Rendered ads/_place_fields.html.erb (1.6ms)
  Rendered ads/_targeting_fields.html.erb (7.0ms)
  Rendered ads/_place_fields.html.erb (1.6ms)
  Rendered ads/_targeting_fields.html.erb (5.1ms)
  Rendered ads/_form.html.erb (23.5ms)
  Rendered ads/new.html.erb within layouts/application (24.0ms)
Completed 200 OK in 72ms (Views: 27.2ms | ActiveRecord: 0.4ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------
AdsControllerTest: test_shouldnt_create_creative_with_no_adText
---------------------------------------------------------------
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1
  [1m[36mCreative Load (2.2ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1
  [1m[36mTargeting Load (0.3ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.4ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"999999.0", "adText"=>nil}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
  Rendered ads/_creative_fields.html.erb (2.2ms)
  Rendered ads/_place_fields.html.erb (1.9ms)
  Rendered ads/_place_fields.html.erb (1.3ms)
  Rendered ads/_targeting_fields.html.erb (7.2ms)
  Rendered ads/_place_fields.html.erb (0.9ms)
  Rendered ads/_targeting_fields.html.erb (3.9ms)
  Rendered ads/_form.html.erb (18.7ms)
  Rendered ads/new.html.erb within layouts/application (19.0ms)
Completed 200 OK in 32ms (Views: 23.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `ads`
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------
AdsControllerTest: test_should_destroy_post
-------------------------------------------
  [1m[36mAd Load (0.6ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (1.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (0.5ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1[0m
  [1m[35mTargeting Load (0.3ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.2ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads`  ORDER BY `ads`.`id` ASC LIMIT 1
Processing by AdsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 298486374 LIMIT 1[0m
  [1m[35m (0.6ms)[0m  SAVEPOINT active_record_1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 298486374[0m
  [1m[35mTargeting Load (0.2ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 298486374
  [1m[36mSQL (5.5ms)[0m  [1mDELETE FROM `ads` WHERE `ads`.`id` = 298486374[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/ads
Completed 302 Found in 14ms (ActiveRecord: 7.4ms)
  [1m[36mAd Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `ads` WHERE `ads`.`id` = 298486374 LIMIT 1[0m
  [1m[35m (0.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_create_ad
----------------------------------------
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1[0m
  [1m[35mCreative Load (0.8ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1
  [1m[36mTargeting Load (0.3ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.3ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"42.0", "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.7ms)[0m  [1mINSERT INTO `ads` (`budget`, `created_at`, `updated_at`) VALUES (1234.0, '2016-06-21 17:27:54', '2016-06-21 17:27:54')[0m
  [1m[35mSQL (3.4ms)[0m  INSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`) VALUES (42.0, 'teste', 980190977, '2016-06-21 17:27:54', '2016-06-21 17:27:54')
  [1m[36mSQL (2.3ms)[0m  [1mINSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`) VALUES ('Male', 980190977, '2016-06-21 17:27:54', '2016-06-21 17:27:54')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`) VALUES ('bla', 980190981, '2016-06-21 17:27:54', '2016-06-21 17:27:54')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/ads
Completed 302 Found in 25ms (ActiveRecord: 8.1ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `ads`
  [1m[36m (0.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
AdsControllerTest: test_should_get_index
----------------------------------------
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.6ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1[0m
  [1m[35mTargeting Load (0.3ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.3ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#index as HTML
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` LIMIT 10 OFFSET 0
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 298486374[0m
  [1m[35mTargeting Load (0.3ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 298486374
  [1m[36mCreative Load (0.5ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962[0m
  [1m[35mTargeting Load (0.4ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962
  Rendered ads/index.html.erb within layouts/application (13.2ms)
Completed 200 OK in 20ms (Views: 17.8ms | ActiveRecord: 1.9ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.7ms)[0m  BEGIN
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `ads`[0m
  [1m[35mFixture Insert (2.8ms)[0m  INSERT INTO `ads` (`budget`, `created_at`, `updated_at`, `id`) VALUES (1234.0, '2016-06-21 17:29:31', '2016-06-21 17:29:31', 980190962)
  [1m[36mFixture Insert (1.5ms)[0m  [1mINSERT INTO `ads` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 17:29:31', '2016-06-21 17:29:31', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `creatives`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (42.0, 'teste', 1, '2016-06-21 17:29:31', '2016-06-21 17:29:31', 562391268)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (999999.0, 'teste', 1, '2016-06-21 17:29:31', '2016-06-21 17:29:31', 914851422)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (999999.0, NULL, 1, '2016-06-21 17:29:31', '2016-06-21 17:29:31', 267816528)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (NULL, 'teste', 1, '2016-06-21 17:29:31', '2016-06-21 17:29:31', 245101925)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `places`[0m
  [1m[35mFixture Insert (2.8ms)[0m  INSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`, `id`) VALUES ('bla', 1, '2016-06-21 17:29:31', '2016-06-21 17:29:31', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `places` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 17:29:31', '2016-06-21 17:29:31', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `targetings`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES ('Male', 1, '2016-06-21 17:29:31', '2016-06-21 17:29:31', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `targetings` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 17:29:31', '2016-06-21 17:29:31', 298486374)
  [1m[36m (2.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------------
AdsControllerTest: test_shouldnt_create_no_creative
---------------------------------------------------
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1
  [1m[36mTargeting Load (0.3ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.4ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered ads/_creative_fields.html.erb (9.9ms)
  Rendered ads/_place_fields.html.erb (4.1ms)
  Rendered ads/_place_fields.html.erb (1.1ms)
  Rendered ads/_targeting_fields.html.erb (18.8ms)
  Rendered ads/_place_fields.html.erb (3.4ms)
  Rendered ads/_targeting_fields.html.erb (6.5ms)
  Rendered ads/_form.html.erb (70.1ms)
  Rendered ads/new.html.erb within layouts/application (80.4ms)
Completed 200 OK in 617ms (Views: 557.8ms | ActiveRecord: 0.5ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `ads`
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
AdsControllerTest: test_should_destroy_post
-------------------------------------------
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (3.7ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1[0m
  [1m[35mCreative Load (0.7ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1[0m
  [1m[35mTargeting Load (0.4ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.4ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads`  ORDER BY `ads`.`id` ASC LIMIT 1
Processing by AdsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 298486374 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCreative Load (0.6ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 298486374[0m
  [1m[35mTargeting Load (0.4ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 298486374
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `ads` WHERE `ads`.`id` = 298486374[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/ads
Completed 302 Found in 10ms (ActiveRecord: 1.9ms)
  [1m[36mAd Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `ads` WHERE `ads`.`id` = 298486374 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------
AdsControllerTest: test_shouldnt_create_creative_with_no_adText
---------------------------------------------------------------
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1[0m
  [1m[35mCreative Load (1.0ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1
  [1m[36mTargeting Load (0.8ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.3ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"999999.0", "adText"=>nil}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
  Rendered ads/_creative_fields.html.erb (1.6ms)
  Rendered ads/_place_fields.html.erb (34.0ms)
  Rendered ads/_place_fields.html.erb (1.7ms)
  Rendered ads/_targeting_fields.html.erb (39.3ms)
  Rendered ads/_place_fields.html.erb (0.6ms)
  Rendered ads/_targeting_fields.html.erb (2.6ms)
  Rendered ads/_form.html.erb (47.8ms)
  Rendered ads/new.html.erb within layouts/application (48.1ms)
Completed 200 OK in 56ms (Views: 50.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `ads`
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------
AdsControllerTest: test_should_get_new
--------------------------------------
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.6ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1[0m
  [1m[35mTargeting Load (0.2ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.3ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#new as HTML
  Rendered ads/_creative_fields.html.erb (1.5ms)
  Rendered ads/_creative_fields.html.erb (1.4ms)
  Rendered ads/_place_fields.html.erb (0.6ms)
  Rendered ads/_place_fields.html.erb (0.7ms)
  Rendered ads/_targeting_fields.html.erb (3.3ms)
  Rendered ads/_place_fields.html.erb (0.6ms)
  Rendered ads/_targeting_fields.html.erb (2.3ms)
  Rendered ads/_form.html.erb (11.2ms)
  Rendered ads/new.html.erb within layouts/application (11.5ms)
Completed 200 OK in 16ms (Views: 13.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_create_ad
----------------------------------------
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1
  [1m[36mCreative Load (0.7ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1[0m
  [1m[35mCreative Load (0.5ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1
  [1m[36mTargeting Load (0.9ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.3ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"42.0", "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `ads` (`budget`, `created_at`, `updated_at`) VALUES (1234.0, '2016-06-21 17:29:32', '2016-06-21 17:29:32')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`) VALUES (42.0, 'teste', 980190978, '2016-06-21 17:29:32', '2016-06-21 17:29:32')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`) VALUES ('Male', 980190978, '2016-06-21 17:29:32', '2016-06-21 17:29:32')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`) VALUES ('bla', 980190982, '2016-06-21 17:29:32', '2016-06-21 17:29:32')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/ads
Completed 302 Found in 18ms (ActiveRecord: 1.7ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `ads`
  [1m[36m (0.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
AdsControllerTest: test_should_update_post
------------------------------------------
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1
  [1m[36mCreative Load (0.5ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1[0m
  [1m[35mTargeting Load (0.5ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.4ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#update as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"42.0", "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}, "id"=>"980190962"}
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962
  [1m[36mTargeting Load (0.3ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962[0m
  [1m[35mSQL (1.9ms)[0m  INSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`) VALUES (42.0, 'teste', 980190962, '2016-06-21 17:29:32', '2016-06-21 17:29:32')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`) VALUES ('Male', 980190962, '2016-06-21 17:29:32', '2016-06-21 17:29:32')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`) VALUES ('bla', 980190983, '2016-06-21 17:29:32', '2016-06-21 17:29:32')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/ads/980190962
Completed 302 Found in 22ms (ActiveRecord: 4.1ms)
  [1m[35m (0.6ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------
AdsControllerTest: test_shouldnt_create_bid_greater_than_budget
---------------------------------------------------------------
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1[0m
  [1m[35mCreative Load (0.5ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1
  [1m[36mCreative Load (9.0ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1[0m
  [1m[35mCreative Load (0.6ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1
  [1m[36mTargeting Load (0.3ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.4ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"999999.0", "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
  Rendered ads/_creative_fields.html.erb (3.9ms)
  Rendered ads/_creative_fields.html.erb (2.6ms)
  Rendered ads/_place_fields.html.erb (1.9ms)
  Rendered ads/_place_fields.html.erb (1.7ms)
  Rendered ads/_targeting_fields.html.erb (8.5ms)
  Rendered ads/_place_fields.html.erb (3.1ms)
  Rendered ads/_targeting_fields.html.erb (17.9ms)
  Rendered ads/_form.html.erb (40.5ms)
  Rendered ads/new.html.erb within layouts/application (41.1ms)
Completed 200 OK in 59ms (Views: 46.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `ads`
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
AdsControllerTest: test_should_get_index
----------------------------------------
  [1m[36mAd Load (0.6ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.5ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (0.9ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1[0m
  [1m[35mTargeting Load (0.4ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.3ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#index as HTML
  [1m[35mAd Load (0.7ms)[0m  SELECT  `ads`.* FROM `ads` LIMIT 10 OFFSET 0
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 298486374[0m
  [1m[35mTargeting Load (0.3ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 298486374
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962[0m
  [1m[35mTargeting Load (0.4ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962
  Rendered ads/index.html.erb within layouts/application (28.3ms)
Completed 200 OK in 37ms (Views: 34.3ms | ActiveRecord: 2.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------
AdsControllerTest: test_shouldnt_create_creative_with_no_bid
------------------------------------------------------------
  [1m[36mAd Load (0.6ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (2.2ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (0.5ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1[0m
  [1m[35mCreative Load (0.7ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1[0m
  [1m[35mTargeting Load (0.3ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.3ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `ads`
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>nil, "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered ads/_creative_fields.html.erb (2.7ms)
  Rendered ads/_creative_fields.html.erb (2.8ms)
  Rendered ads/_place_fields.html.erb (2.2ms)
  Rendered ads/_place_fields.html.erb (2.1ms)
  Rendered ads/_targeting_fields.html.erb (9.6ms)
  Rendered ads/_place_fields.html.erb (1.7ms)
  Rendered ads/_targeting_fields.html.erb (7.4ms)
  Rendered ads/_form.html.erb (32.5ms)
  Rendered ads/new.html.erb within layouts/application (33.5ms)
Completed 200 OK in 62ms (Views: 36.7ms | ActiveRecord: 0.4ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
AdsControllerTest: test_should_get_edit
---------------------------------------
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1[0m
  [1m[35mCreative Load (0.5ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1
  [1m[36mCreative Load (0.5ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1
  [1m[36mTargeting Load (0.3ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.4ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
Processing by AdsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mAd Load (0.5ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962
  Rendered ads/_creative_fields.html.erb (1.8ms)
  Rendered ads/_creative_fields.html.erb (1.9ms)
  [1m[36mTargeting Load (0.3ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962[0m
  Rendered ads/_place_fields.html.erb (1.0ms)
  Rendered ads/_place_fields.html.erb (1.0ms)
  Rendered ads/_targeting_fields.html.erb (4.8ms)
  Rendered ads/_place_fields.html.erb (0.8ms)
  Rendered ads/_targeting_fields.html.erb (3.2ms)
  Rendered ads/_form.html.erb (29.1ms)
  Rendered ads/edit.html.erb within layouts/application (30.3ms)
Completed 200 OK in 45ms (Views: 36.9ms | ActiveRecord: 1.2ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_show_post
----------------------------------------
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1[0m
  [1m[35mCreative Load (1.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1
  [1m[36mCreative Load (0.5ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1[0m
  [1m[35mCreative Load (1.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1
  [1m[36mTargeting Load (0.4ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.4ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
Processing by AdsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Exists (0.4ms)[0m  SELECT  1 AS one FROM `creatives` WHERE `creatives`.`ad_id` = 980190962 LIMIT 1
  [1m[36mTargeting Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `targetings` WHERE `targetings`.`ad_id` = 980190962 LIMIT 1[0m
  Rendered ads/show.html.erb within layouts/application (8.8ms)
Completed 200 OK in 15ms (Views: 13.0ms | ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `ads`[0m
  [1m[35mFixture Insert (1.2ms)[0m  INSERT INTO `ads` (`budget`, `created_at`, `updated_at`, `id`) VALUES (1234.0, '2016-06-21 17:30:34', '2016-06-21 17:30:34', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `ads` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 17:30:34', '2016-06-21 17:30:34', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `creatives`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (42.0, 'teste', 1, '2016-06-21 17:30:34', '2016-06-21 17:30:34', 562391268)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (999999.0, 'teste', 1, '2016-06-21 17:30:34', '2016-06-21 17:30:34', 914851422)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (999999.0, NULL, 1, '2016-06-21 17:30:34', '2016-06-21 17:30:34', 267816528)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (NULL, 'teste', 1, '2016-06-21 17:30:34', '2016-06-21 17:30:34', 245101925)
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM `places`[0m
  [1m[35mFixture Insert (4.4ms)[0m  INSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`, `id`) VALUES ('bla', 1, '2016-06-21 17:30:34', '2016-06-21 17:30:34', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `places` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 17:30:34', '2016-06-21 17:30:34', 298486374)[0m
  [1m[35mFixture Delete (1.8ms)[0m  DELETE FROM `targetings`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES ('Male', 1, '2016-06-21 17:30:34', '2016-06-21 17:30:34', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `targetings` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 17:30:34', '2016-06-21 17:30:34', 298486374)
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------
AdsControllerTest: test_should_get_new
--------------------------------------
  [1m[35mAd Load (0.6ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1[0m
  [1m[35mCreative Load (0.5ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1
  [1m[36mTargeting Load (0.4ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.7ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
Processing by AdsController#new as HTML
  Rendered ads/_creative_fields.html.erb (8.3ms)
  Rendered ads/_creative_fields.html.erb (2.6ms)
  Rendered ads/_place_fields.html.erb (3.5ms)
  Rendered ads/_place_fields.html.erb (1.6ms)
  Rendered ads/_targeting_fields.html.erb (16.9ms)
  Rendered ads/_place_fields.html.erb (2.5ms)
  Rendered ads/_targeting_fields.html.erb (7.5ms)
  Rendered ads/_form.html.erb (113.8ms)
  Rendered ads/new.html.erb within layouts/application (128.1ms)
Completed 200 OK in 1552ms (Views: 1510.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------------------------
AdsControllerTest: test_shouldnt_create_ad_creative_with_no_bid
---------------------------------------------------------------
  [1m[36mAd Load (1.1ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.7ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1[0m
  [1m[35mCreative Load (0.5ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1
  [1m[36mCreative Load (2.5ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1[0m
  [1m[35mTargeting Load (0.5ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.5ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `ads`
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>nil, "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered ads/_creative_fields.html.erb (2.2ms)
  Rendered ads/_creative_fields.html.erb (2.6ms)
  Rendered ads/_place_fields.html.erb (1.5ms)
  Rendered ads/_place_fields.html.erb (1.4ms)
  Rendered ads/_targeting_fields.html.erb (7.5ms)
  Rendered ads/_place_fields.html.erb (1.6ms)
  Rendered ads/_targeting_fields.html.erb (5.8ms)
  Rendered ads/_form.html.erb (26.5ms)
  Rendered ads/new.html.erb within layouts/application (26.9ms)
Completed 200 OK in 47ms (Views: 30.3ms | ActiveRecord: 0.4ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------------------
AdsControllerTest: test_shouldnt_create_ad_no_targeting
-------------------------------------------------------
  [1m[35mAd Load (0.5ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1
  [1m[36mTargeting Load (0.4ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.4ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"42.0", "adText"=>"teste"}], "targetings_attributes"=>[]}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered ads/_creative_fields.html.erb (3.2ms)
  Rendered ads/_creative_fields.html.erb (2.6ms)
  Rendered ads/_place_fields.html.erb (2.0ms)
  Rendered ads/_targeting_fields.html.erb (7.1ms)
  Rendered ads/_form.html.erb (20.8ms)
  Rendered ads/new.html.erb within layouts/application (21.5ms)
Completed 200 OK in 37ms (Views: 25.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `ads`
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
AdsControllerTest: test_should_get_index
----------------------------------------
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1[0m
  [1m[35mCreative Load (1.5ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1[0m
  [1m[35mTargeting Load (0.4ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.7ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#index as HTML
  [1m[35mAd Load (0.5ms)[0m  SELECT  `ads`.* FROM `ads` LIMIT 10 OFFSET 0
  [1m[36mCreative Load (0.5ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 298486374[0m
  [1m[35mTargeting Load (0.4ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 298486374
  [1m[36mCreative Load (0.6ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962[0m
  [1m[35mTargeting Load (0.4ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962
  Rendered ads/index.html.erb within layouts/application (28.5ms)
Completed 200 OK in 37ms (Views: 33.5ms | ActiveRecord: 2.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
AdsControllerTest: test_should_update_post
------------------------------------------
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1[0m
  [1m[35mCreative Load (0.5ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1[0m
  [1m[35mTargeting Load (11.4ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (2.8ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#update as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"42.0", "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}, "id"=>"980190962"}
  [1m[35mAd Load (0.5ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCreative Load (0.5ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962
  [1m[36mTargeting Load (0.4ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962[0m
  [1m[35mSQL (3.1ms)[0m  INSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`) VALUES (42.0, 'teste', 980190962, '2016-06-21 17:30:36', '2016-06-21 17:30:36')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`) VALUES ('Male', 980190962, '2016-06-21 17:30:36', '2016-06-21 17:30:36')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`) VALUES ('bla', 980190984, '2016-06-21 17:30:36', '2016-06-21 17:30:36')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/ads/980190962
Completed 302 Found in 45ms (ActiveRecord: 5.9ms)
  [1m[35m (0.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------
AdsControllerTest: test_shouldnt_create_ad_bid_greater_than_budget
------------------------------------------------------------------
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.5ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1[0m
  [1m[35mCreative Load (0.8ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1
  [1m[36mTargeting Load (0.4ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.4ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"999999.0", "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
  Rendered ads/_creative_fields.html.erb (6.6ms)
  Rendered ads/_creative_fields.html.erb (7.3ms)
  Rendered ads/_place_fields.html.erb (2.2ms)
  Rendered ads/_place_fields.html.erb (1.9ms)
  Rendered ads/_targeting_fields.html.erb (10.3ms)
  Rendered ads/_place_fields.html.erb (2.7ms)
  Rendered ads/_targeting_fields.html.erb (9.4ms)
  Rendered ads/_form.html.erb (49.9ms)
  Rendered ads/new.html.erb within layouts/application (52.1ms)
Completed 200 OK in 92ms (Views: 66.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `ads`
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------------
AdsControllerTest: test_shouldnt_create_ad_no_creative
------------------------------------------------------
  [1m[36mAd Load (0.6ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (1.0ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1[0m
  [1m[35mCreative Load (0.5ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1[0m
  [1m[35mTargeting Load (0.4ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.4ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `ads`
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (1.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered ads/_creative_fields.html.erb (2.8ms)
  Rendered ads/_place_fields.html.erb (2.0ms)
  Rendered ads/_place_fields.html.erb (2.1ms)
  Rendered ads/_targeting_fields.html.erb (9.9ms)
  Rendered ads/_place_fields.html.erb (2.0ms)
  Rendered ads/_targeting_fields.html.erb (6.9ms)
  Rendered ads/_form.html.erb (31.1ms)
  Rendered ads/new.html.erb within layouts/application (33.6ms)
Completed 200 OK in 52ms (Views: 37.9ms | ActiveRecord: 1.5ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_create_ad
----------------------------------------
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.5ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1
  [1m[36mTargeting Load (0.4ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.6ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"42.0", "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (4.2ms)[0m  [1mINSERT INTO `ads` (`budget`, `created_at`, `updated_at`) VALUES (1234.0, '2016-06-21 17:30:37', '2016-06-21 17:30:37')[0m
  [1m[35mSQL (1.4ms)[0m  INSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`) VALUES (42.0, 'teste', 980190979, '2016-06-21 17:30:37', '2016-06-21 17:30:37')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`) VALUES ('Male', 980190979, '2016-06-21 17:30:37', '2016-06-21 17:30:37')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`) VALUES ('bla', 980190985, '2016-06-21 17:30:37', '2016-06-21 17:30:37')
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/ads
Completed 302 Found in 41ms (ActiveRecord: 7.1ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `ads`
  [1m[36m (0.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------
AdsControllerTest: test_shouldnt_create_ad_creative_with_no_adText
------------------------------------------------------------------
  [1m[36mAd Load (0.5ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.5ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (1.0ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1
  [1m[36mCreative Load (0.5ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1[0m
  [1m[35mTargeting Load (0.8ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.5ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `ads`
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"999999.0", "adText"=>nil}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
  Rendered ads/_creative_fields.html.erb (2.8ms)
  Rendered ads/_place_fields.html.erb (2.7ms)
  Rendered ads/_place_fields.html.erb (3.0ms)
  Rendered ads/_targeting_fields.html.erb (13.8ms)
  Rendered ads/_place_fields.html.erb (2.9ms)
  Rendered ads/_targeting_fields.html.erb (10.3ms)
  Rendered ads/_form.html.erb (35.1ms)
  Rendered ads/new.html.erb within layouts/application (37.9ms)
Completed 200 OK in 54ms (Views: 43.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------
AdsControllerTest: test_should_get_edit
---------------------------------------
  [1m[35mAd Load (0.7ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1
  [1m[36mTargeting Load (0.2ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.3ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
Processing by AdsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 980190962
  Rendered ads/_creative_fields.html.erb (2.2ms)
  Rendered ads/_creative_fields.html.erb (2.8ms)
  [1m[36mTargeting Load (0.5ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 980190962[0m
  Rendered ads/_place_fields.html.erb (1.6ms)
  Rendered ads/_place_fields.html.erb (1.5ms)
  Rendered ads/_targeting_fields.html.erb (7.4ms)
  Rendered ads/_place_fields.html.erb (1.7ms)
  Rendered ads/_targeting_fields.html.erb (5.4ms)
  Rendered ads/_form.html.erb (26.8ms)
  Rendered ads/edit.html.erb within layouts/application (28.7ms)
Completed 200 OK in 38ms (Views: 33.0ms | ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------
AdsControllerTest: test_should_destroy_post
-------------------------------------------
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1[0m
  [1m[35mCreative Load (0.9ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1
  [1m[36mTargeting Load (0.5ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.5ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
  [1m[36mAd Load (0.6ms)[0m  [1mSELECT  `ads`.* FROM `ads`  ORDER BY `ads`.`id` ASC LIMIT 1[0m
Processing by AdsController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 298486374 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 298486374
  [1m[36mTargeting Load (0.6ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 298486374[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM `ads` WHERE `ads`.`id` = 298486374
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/ads
Completed 302 Found in 9ms (ActiveRecord: 2.3ms)
  [1m[35mAd Exists (0.5ms)[0m  SELECT  1 AS one FROM `ads` WHERE `ads`.`id` = 298486374 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
AdsControllerTest: test_should_show_post
----------------------------------------
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1[0m
  [1m[35mCreative Load (0.5ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1[0m
  [1m[35mTargeting Load (0.4ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.4ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 980190962 LIMIT 1
  [1m[36mCreative Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `creatives` WHERE `creatives`.`ad_id` = 980190962 LIMIT 1[0m
  [1m[35mTargeting Exists (0.4ms)[0m  SELECT  1 AS one FROM `targetings` WHERE `targetings`.`ad_id` = 980190962 LIMIT 1
  Rendered ads/show.html.erb within layouts/application (11.1ms)
Completed 200 OK in 22ms (Views: 16.9ms | ActiveRecord: 1.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (31.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (7.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (11.5ms)[0m  [1mDELETE FROM `ads`[0m
  [1m[35mFixture Insert (2.7ms)[0m  INSERT INTO `ads` (`budget`, `created_at`, `updated_at`, `id`) VALUES (1234.0, '2016-06-21 17:37:13', '2016-06-21 17:37:13', 562391268)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `ads` (`budget`, `created_at`, `updated_at`, `id`) VALUES (NULL, '2016-06-21 17:37:13', '2016-06-21 17:37:13', 404816386)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `creatives`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (42.0, 'teste', 1, '2016-06-21 17:37:13', '2016-06-21 17:37:13', 562391268)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (999999.0, 'teste', 1, '2016-06-21 17:37:13', '2016-06-21 17:37:13', 914851422)
  [1m[36mFixture Insert (0.9ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (999999.0, NULL, 1, '2016-06-21 17:37:13', '2016-06-21 17:37:13', 267816528)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (NULL, 'teste', 1, '2016-06-21 17:37:13', '2016-06-21 17:37:13', 245101925)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `places`[0m
  [1m[35mFixture Insert (14.9ms)[0m  INSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`, `id`) VALUES ('bla', 1, '2016-06-21 17:37:13', '2016-06-21 17:37:13', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `places` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 17:37:13', '2016-06-21 17:37:13', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `targetings`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES ('Male', 1, '2016-06-21 17:37:13', '2016-06-21 17:37:13', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `targetings` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 17:37:13', '2016-06-21 17:37:13', 298486374)
  [1m[36m (2.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------------------
AdsControllerTest: test_shouldnt_create_ad_no_budget
----------------------------------------------------
  [1m[35mAd Load (3.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1[0m
  [1m[35mCreative Load (1.5ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1[0m
  [1m[35mTargeting Load (0.4ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (2.4ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (3.5ms)[0m  SELECT COUNT(*) FROM `ads`
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>nil, "creatives_attributes"=>[{"bid"=>"42.0", "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
  Rendered ads/_creative_fields.html.erb (9.6ms)
  Rendered ads/_creative_fields.html.erb (1.4ms)
  Rendered ads/_place_fields.html.erb (3.5ms)
  Rendered ads/_place_fields.html.erb (0.9ms)
  Rendered ads/_targeting_fields.html.erb (18.3ms)
  Rendered ads/_place_fields.html.erb (3.2ms)
  Rendered ads/_targeting_fields.html.erb (8.8ms)
  Rendered ads/_form.html.erb (87.7ms)
  Rendered ads/new.html.erb within layouts/application (120.8ms)
Completed 200 OK in 708ms (Views: 652.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_get_index
----------------------------------------
  [1m[35mAd Load (0.5ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (0.6ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1[0m
  [1m[35mTargeting Load (0.5ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.5ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#index as HTML
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` LIMIT 10 OFFSET 0
  [1m[36mCreative Load (1.1ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 404816386[0m
  [1m[35mTargeting Load (0.4ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 404816386
  [1m[36mCreative Load (0.5ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 562391268[0m
  [1m[35mTargeting Load (0.3ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 562391268
  Rendered ads/index.html.erb within layouts/application (29.5ms)
Completed 200 OK in 38ms (Views: 33.9ms | ActiveRecord: 2.8ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------------------------
AdsControllerTest: test_shouldnt_create_ad_creative_with_no_bid
---------------------------------------------------------------
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1[0m
  [1m[35mAd Load (0.5ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1
  [1m[36mCreative Load (1.0ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1[0m
  [1m[35mCreative Load (0.5ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1
  [1m[36mCreative Load (0.6ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1[0m
  [1m[35mCreative Load (3.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1
  [1m[36mTargeting Load (18.6ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (8.4ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>nil, "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
  [1m[35m (2.7ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered ads/_creative_fields.html.erb (5.2ms)
  Rendered ads/_creative_fields.html.erb (1.9ms)
  Rendered ads/_place_fields.html.erb (2.3ms)
  Rendered ads/_place_fields.html.erb (1.3ms)
  Rendered ads/_targeting_fields.html.erb (7.6ms)
  Rendered ads/_place_fields.html.erb (2.0ms)
  Rendered ads/_targeting_fields.html.erb (8.2ms)
  Rendered ads/_form.html.erb (31.4ms)
  Rendered ads/new.html.erb within layouts/application (32.1ms)
Completed 200 OK in 55ms (Views: 35.9ms | ActiveRecord: 2.9ms)
  [1m[35m (3.4ms)[0m  SELECT COUNT(*) FROM `ads`
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
AdsControllerTest: test_should_create_ad
----------------------------------------
  [1m[36mAd Load (0.5ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1[0m
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1
  [1m[36mCreative Load (4.6ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1[0m
  [1m[35mCreative Load (2.7ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1
  [1m[36mCreative Load (0.5ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1[0m
  [1m[35mCreative Load (0.6ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1
  [1m[36mTargeting Load (2.6ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (1.4ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"42.0", "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (2.3ms)[0m  [1mINSERT INTO `ads` (`budget`, `created_at`, `updated_at`) VALUES (1234.0, '2016-06-21 17:37:15', '2016-06-21 17:37:15')[0m
  [1m[35mSQL (3.7ms)[0m  INSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`) VALUES (42.0, 'teste', 980190980, '2016-06-21 17:37:15', '2016-06-21 17:37:15')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`) VALUES ('Male', 980190980, '2016-06-21 17:37:15', '2016-06-21 17:37:15')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`) VALUES ('bla', 980190986, '2016-06-21 17:37:15', '2016-06-21 17:37:15')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/ads
Completed 302 Found in 38ms (ActiveRecord: 7.2ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `ads`
  [1m[36m (1.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.6ms)[0m  BEGIN
------------------------------------------------------------------
AdsControllerTest: test_shouldnt_create_ad_creative_with_no_adText
------------------------------------------------------------------
  [1m[36mAd Load (0.7ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1[0m
  [1m[35mAd Load (4.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1
  [1m[36mCreative Load (0.5ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1[0m
  [1m[35mCreative Load (0.5ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1[0m
  [1m[35mCreative Load (0.5ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1
  [1m[36mTargeting Load (0.4ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.4ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"999999.0", "adText"=>nil}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
  Rendered ads/_creative_fields.html.erb (4.4ms)
  Rendered ads/_place_fields.html.erb (5.6ms)
  Rendered ads/_place_fields.html.erb (1.6ms)
  Rendered ads/_targeting_fields.html.erb (19.7ms)
  Rendered ads/_place_fields.html.erb (1.4ms)
  Rendered ads/_targeting_fields.html.erb (11.4ms)
  Rendered ads/_form.html.erb (47.9ms)
  Rendered ads/new.html.erb within layouts/application (49.7ms)
Completed 200 OK in 61ms (Views: 55.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `ads`
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------
AdsControllerTest: test_should_get_edit
---------------------------------------
  [1m[36mAd Load (0.7ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1[0m
  [1m[35mAd Load (0.5ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1
  [1m[36mTargeting Load (0.2ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.3ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
Processing by AdsController#edit as HTML
  Parameters: {"id"=>"562391268"}
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 562391268
  Rendered ads/_creative_fields.html.erb (2.8ms)
  Rendered ads/_creative_fields.html.erb (1.8ms)
  [1m[36mTargeting Load (0.4ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 562391268[0m
  Rendered ads/_place_fields.html.erb (1.1ms)
  Rendered ads/_place_fields.html.erb (1.1ms)
  Rendered ads/_targeting_fields.html.erb (5.7ms)
  Rendered ads/_place_fields.html.erb (1.0ms)
  Rendered ads/_targeting_fields.html.erb (4.1ms)
  Rendered ads/_form.html.erb (23.3ms)
  Rendered ads/edit.html.erb within layouts/application (24.7ms)
Completed 200 OK in 34ms (Views: 28.5ms | ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------------------
AdsControllerTest: test_shouldnt_create_ad_no_targeting
-------------------------------------------------------
  [1m[35mAd Load (0.5ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1[0m
  [1m[35mCreative Load (1.0ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1[0m
  [1m[35mTargeting Load (0.2ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.3ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `ads`
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"42.0", "adText"=>"teste"}], "targetings_attributes"=>[]}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered ads/_creative_fields.html.erb (4.8ms)
  Rendered ads/_creative_fields.html.erb (3.5ms)
  Rendered ads/_place_fields.html.erb (2.1ms)
  Rendered ads/_targeting_fields.html.erb (8.3ms)
  Rendered ads/_form.html.erb (26.1ms)
  Rendered ads/new.html.erb within layouts/application (26.6ms)
Completed 200 OK in 42ms (Views: 32.1ms | ActiveRecord: 0.4ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
AdsControllerTest: test_should_update_post
------------------------------------------
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1[0m
  [1m[35mCreative Load (3.1ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (0.5ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1[0m
  [1m[35mCreative Load (0.6ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1[0m
  [1m[35mTargeting Load (0.3ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.4ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------
AdsControllerTest: test_shouldnt_create_ad_bid_greater_than_budget
------------------------------------------------------------------
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1
  [1m[36mAd Load (0.8ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1
  [1m[36mCreative Load (0.2ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1[0m
  [1m[35mTargeting Load (0.4ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.2ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `ads`
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"999999.0", "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
  Rendered ads/_creative_fields.html.erb (1.8ms)
  Rendered ads/_creative_fields.html.erb (1.3ms)
  Rendered ads/_place_fields.html.erb (0.8ms)
  Rendered ads/_place_fields.html.erb (0.9ms)
  Rendered ads/_targeting_fields.html.erb (4.4ms)
  Rendered ads/_place_fields.html.erb (1.0ms)
  Rendered ads/_targeting_fields.html.erb (3.4ms)
  Rendered ads/_form.html.erb (15.2ms)
  Rendered ads/new.html.erb within layouts/application (15.5ms)
Completed 200 OK in 25ms (Views: 17.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------
AdsControllerTest: test_should_destroy_post
-------------------------------------------
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1
  [1m[36mAd Load (0.2ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1[0m
  [1m[35mTargeting Load (0.3ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.2ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
  [1m[35mAd Load (0.2ms)[0m  SELECT  `ads`.* FROM `ads`  ORDER BY `ads`.`id` ASC LIMIT 1
Processing by AdsController#destroy as HTML
  Parameters: {"id"=>"404816386"}
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCreative Load (0.2ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 404816386[0m
  [1m[35mTargeting Load (0.4ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 404816386
  [1m[36mSQL (2.3ms)[0m  [1mDELETE FROM `ads` WHERE `ads`.`id` = 404816386[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/ads
Completed 302 Found in 11ms (ActiveRecord: 3.6ms)
  [1m[36mAd Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------------------
AdsControllerTest: test_shouldnt_create_ad_no_creative
------------------------------------------------------
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1[0m
  [1m[35mCreative Load (0.9ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1[0m
  [1m[35mTargeting Load (0.2ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.2ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `ads`
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered ads/_creative_fields.html.erb (3.9ms)
  Rendered ads/_place_fields.html.erb (1.1ms)
  Rendered ads/_place_fields.html.erb (1.0ms)
  Rendered ads/_targeting_fields.html.erb (6.3ms)
  Rendered ads/_place_fields.html.erb (0.9ms)
  Rendered ads/_targeting_fields.html.erb (3.8ms)
  Rendered ads/_form.html.erb (19.6ms)
  Rendered ads/new.html.erb within layouts/application (20.0ms)
Completed 200 OK in 39ms (Views: 22.1ms | ActiveRecord: 0.5ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_show_post
----------------------------------------
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1[0m
  [1m[35mCreative Load (1.5ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1[0m
  [1m[35mCreative Load (0.2ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1[0m
  [1m[35mTargeting Load (0.3ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.3ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#show as HTML
  Parameters: {"id"=>"562391268"}
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `creatives` WHERE `creatives`.`ad_id` = 562391268 LIMIT 1[0m
  [1m[35mTargeting Exists (0.3ms)[0m  SELECT  1 AS one FROM `targetings` WHERE `targetings`.`ad_id` = 562391268 LIMIT 1
  Rendered ads/show.html.erb within layouts/application (8.8ms)
Completed 200 OK in 15ms (Views: 12.5ms | ActiveRecord: 1.1ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.5ms)[0m  BEGIN
--------------------------------------
AdsControllerTest: test_should_get_new
--------------------------------------
  [1m[36mAd Load (0.5ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1[0m
  [1m[35mAd Load (4.5ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1
  [1m[36mCreative Load (0.6ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1
  [1m[36mCreative Load (0.5ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1
  [1m[36mTargeting Load (0.3ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.3ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
Processing by AdsController#new as HTML
  Rendered ads/_creative_fields.html.erb (3.0ms)
  Rendered ads/_creative_fields.html.erb (2.2ms)
  Rendered ads/_place_fields.html.erb (0.7ms)
  Rendered ads/_place_fields.html.erb (2.8ms)
  Rendered ads/_targeting_fields.html.erb (15.4ms)
  Rendered ads/_place_fields.html.erb (1.4ms)
  Rendered ads/_targeting_fields.html.erb (5.3ms)
  Rendered ads/_form.html.erb (32.4ms)
  Rendered ads/new.html.erb within layouts/application (32.9ms)
Completed 200 OK in 40ms (Views: 37.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (3.7ms)[0m  [1mDELETE FROM `ads`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `ads` (`budget`, `created_at`, `updated_at`, `id`) VALUES (1234.0, '2016-06-21 17:37:50', '2016-06-21 17:37:50', 562391268)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `ads` (`budget`, `created_at`, `updated_at`, `id`) VALUES (NULL, '2016-06-21 17:37:50', '2016-06-21 17:37:50', 404816386)[0m
  [1m[35mFixture Delete (3.7ms)[0m  DELETE FROM `creatives`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (42.0, 'teste', 1, '2016-06-21 17:37:50', '2016-06-21 17:37:50', 562391268)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (999999.0, 'teste', 1, '2016-06-21 17:37:50', '2016-06-21 17:37:50', 914851422)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (999999.0, NULL, 1, '2016-06-21 17:37:50', '2016-06-21 17:37:50', 267816528)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (NULL, 'teste', 1, '2016-06-21 17:37:50', '2016-06-21 17:37:50', 245101925)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `places`[0m
  [1m[35mFixture Insert (3.3ms)[0m  INSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`, `id`) VALUES ('bla', 1, '2016-06-21 17:37:50', '2016-06-21 17:37:50', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `places` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 17:37:50', '2016-06-21 17:37:50', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `targetings`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES ('Male', 1, '2016-06-21 17:37:50', '2016-06-21 17:37:50', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `targetings` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 17:37:50', '2016-06-21 17:37:50', 298486374)
  [1m[36m (0.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_get_index
----------------------------------------
  [1m[35mAd Load (0.5ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (0.5ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1[0m
  [1m[35mCreative Load (0.5ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1[0m
  [1m[35mTargeting Load (0.4ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.5ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#index as HTML
  [1m[35mAd Load (0.6ms)[0m  SELECT  `ads`.* FROM `ads` LIMIT 10 OFFSET 0
  [1m[36mCreative Load (3.1ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 404816386[0m
  [1m[35mTargeting Load (0.4ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 404816386
  [1m[36mCreative Load (0.6ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 562391268[0m
  [1m[35mTargeting Load (0.4ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 562391268
  Rendered ads/index.html.erb within layouts/application (101.3ms)
Completed 200 OK in 599ms (Views: 593.3ms | ActiveRecord: 5.1ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------------------
AdsControllerTest: test_shouldnt_create_ad_no_budget
----------------------------------------------------
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1[0m
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1
  [1m[36mCreative Load (0.8ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1
  [1m[36mCreative Load (0.5ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1[0m
  [1m[35mCreative Load (1.8ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1
  [1m[36mTargeting Load (0.9ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.4ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>nil, "creatives_attributes"=>[{"bid"=>"42.0", "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
  Rendered ads/_creative_fields.html.erb (5.7ms)
  Rendered ads/_creative_fields.html.erb (1.4ms)
  Rendered ads/_place_fields.html.erb (2.2ms)
  Rendered ads/_place_fields.html.erb (1.0ms)
  Rendered ads/_targeting_fields.html.erb (11.7ms)
  Rendered ads/_place_fields.html.erb (0.8ms)
  Rendered ads/_targeting_fields.html.erb (3.2ms)
  Rendered ads/_form.html.erb (46.8ms)
  Rendered ads/new.html.erb within layouts/application (53.8ms)
Completed 200 OK in 75ms (Views: 58.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `ads`
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------
AdsControllerTest: test_shouldnt_create_ad_no_creative
------------------------------------------------------
  [1m[36mAd Load (0.5ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1[0m
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1
  [1m[36mCreative Load (0.9ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1
  [1m[36mTargeting Load (0.3ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.3ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered ads/_creative_fields.html.erb (1.4ms)
  Rendered ads/_place_fields.html.erb (0.8ms)
  Rendered ads/_place_fields.html.erb (1.1ms)
  Rendered ads/_targeting_fields.html.erb (4.9ms)
  Rendered ads/_place_fields.html.erb (1.0ms)
  Rendered ads/_targeting_fields.html.erb (3.4ms)
  Rendered ads/_form.html.erb (14.7ms)
  Rendered ads/new.html.erb within layouts/application (15.1ms)
Completed 200 OK in 28ms (Views: 19.7ms | ActiveRecord: 0.5ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `ads`
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
AdsControllerTest: test_should_destroy_post
-------------------------------------------
  [1m[36mAd Load (1.1ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1[0m
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1
  [1m[36mCreative Load (2.0ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1[0m
  [1m[35mCreative Load (0.6ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1
  [1m[36mTargeting Load (0.5ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.3ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
  [1m[36mAd Load (0.2ms)[0m  [1mSELECT  `ads`.* FROM `ads`  ORDER BY `ads`.`id` ASC LIMIT 1[0m
Processing by AdsController#destroy as HTML
  Parameters: {"id"=>"404816386"}
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 404816386
  [1m[36mTargeting Load (0.3ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 404816386[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM `ads` WHERE `ads`.`id` = 404816386
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/ads
Completed 302 Found in 8ms (ActiveRecord: 1.6ms)
  [1m[35mAd Exists (0.5ms)[0m  SELECT  1 AS one FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1
  [1m[36m (0.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------------
AdsControllerTest: test_shouldnt_create_ad_creative_with_no_bid
---------------------------------------------------------------
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1[0m
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1
  [1m[36mCreative Load (0.5ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1
  [1m[36mCreative Load (0.2ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1
  [1m[36mTargeting Load (0.5ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.3ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>nil, "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered ads/_creative_fields.html.erb (1.9ms)
  Rendered ads/_creative_fields.html.erb (2.5ms)
  Rendered ads/_place_fields.html.erb (1.2ms)
  Rendered ads/_place_fields.html.erb (1.8ms)
  Rendered ads/_targeting_fields.html.erb (7.0ms)
  Rendered ads/_place_fields.html.erb (2.0ms)
  Rendered ads/_targeting_fields.html.erb (13.3ms)
  Rendered ads/_form.html.erb (32.0ms)
  Rendered ads/new.html.erb within layouts/application (32.5ms)
Completed 200 OK in 52ms (Views: 36.6ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `ads`
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
AdsControllerTest: test_should_create_ad
----------------------------------------
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1[0m
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1[0m
  [1m[35mCreative Load (0.6ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1
  [1m[36mCreative Load (0.6ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1
  [1m[36mTargeting Load (0.3ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.2ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"42.0", "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.8ms)[0m  [1mINSERT INTO `ads` (`budget`, `created_at`, `updated_at`) VALUES (1234.0, '2016-06-21 17:37:51', '2016-06-21 17:37:51')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`) VALUES (42.0, 'teste', 980190981, '2016-06-21 17:37:51', '2016-06-21 17:37:51')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`) VALUES ('Male', 980190981, '2016-06-21 17:37:52', '2016-06-21 17:37:52')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`) VALUES ('bla', 980190987, '2016-06-21 17:37:52', '2016-06-21 17:37:52')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/ads
Completed 302 Found in 25ms (ActiveRecord: 3.1ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `ads`
  [1m[36m (2.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
AdsControllerTest: test_should_show_post
----------------------------------------
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1[0m
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1[0m
  [1m[35mCreative Load (0.6ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1
  [1m[36mTargeting Load (0.4ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.6ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
Processing by AdsController#show as HTML
  Parameters: {"id"=>"562391268"}
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1[0m
  [1m[35mCreative Exists (0.4ms)[0m  SELECT  1 AS one FROM `creatives` WHERE `creatives`.`ad_id` = 562391268 LIMIT 1
  [1m[36mTargeting Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `targetings` WHERE `targetings`.`ad_id` = 562391268 LIMIT 1[0m
  Rendered ads/show.html.erb within layouts/application (13.0ms)
Completed 200 OK in 22ms (Views: 20.3ms | ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
AdsControllerTest: test_should_get_new
--------------------------------------
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1
  [1m[36mAd Load (0.7ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1[0m
  [1m[35mCreative Load (0.5ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (0.6ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1[0m
  [1m[35mTargeting Load (0.2ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.2ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#new as HTML
  Rendered ads/_creative_fields.html.erb (3.0ms)
  Rendered ads/_creative_fields.html.erb (2.0ms)
  Rendered ads/_place_fields.html.erb (0.8ms)
  Rendered ads/_place_fields.html.erb (0.8ms)
  Rendered ads/_targeting_fields.html.erb (4.1ms)
  Rendered ads/_place_fields.html.erb (1.2ms)
  Rendered ads/_targeting_fields.html.erb (12.5ms)
  Rendered ads/_form.html.erb (27.3ms)
  Rendered ads/new.html.erb within layouts/application (28.1ms)
Completed 200 OK in 34ms (Views: 30.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------
AdsControllerTest: test_shouldnt_create_ad_no_targeting
-------------------------------------------------------
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1[0m
  [1m[35mCreative Load (1.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (1.0ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1[0m
  [1m[35mCreative Load (0.5ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1[0m
  [1m[35mTargeting Load (0.3ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.2ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `ads`
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"42.0", "adText"=>"teste"}], "targetings_attributes"=>[]}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered ads/_creative_fields.html.erb (1.8ms)
  Rendered ads/_creative_fields.html.erb (1.1ms)
  Rendered ads/_place_fields.html.erb (1.0ms)
  Rendered ads/_targeting_fields.html.erb (3.3ms)
  Rendered ads/_form.html.erb (10.3ms)
  Rendered ads/new.html.erb within layouts/application (10.9ms)
Completed 200 OK in 22ms (Views: 15.1ms | ActiveRecord: 0.4ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------
AdsControllerTest: test_shouldnt_create_ad_bid_greater_than_budget
------------------------------------------------------------------
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1[0m
  [1m[35mTargeting Load (0.3ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.6ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `ads`
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"999999.0", "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
  Rendered ads/_creative_fields.html.erb (1.4ms)
  Rendered ads/_creative_fields.html.erb (1.2ms)
  Rendered ads/_place_fields.html.erb (1.2ms)
  Rendered ads/_place_fields.html.erb (1.2ms)
  Rendered ads/_targeting_fields.html.erb (6.0ms)
  Rendered ads/_place_fields.html.erb (1.4ms)
  Rendered ads/_targeting_fields.html.erb (4.8ms)
  Rendered ads/_form.html.erb (17.7ms)
  Rendered ads/new.html.erb within layouts/application (18.0ms)
Completed 200 OK in 27ms (Views: 20.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
AdsControllerTest: test_should_update_post
------------------------------------------
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1[0m
  [1m[35mCreative Load (0.6ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (0.8ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1
  [1m[36mCreative Load (0.5ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1[0m
  [1m[35mTargeting Load (0.4ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.4ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#update as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"42.0", "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}, "id"=>"562391268"}
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 562391268
  [1m[36mTargeting Load (0.5ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 562391268[0m
  [1m[35mSQL (1.9ms)[0m  INSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`) VALUES (42.0, 'teste', 562391268, '2016-06-21 17:37:52', '2016-06-21 17:37:52')
  [1m[36mSQL (11.1ms)[0m  [1mINSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`) VALUES ('Male', 562391268, '2016-06-21 17:37:52', '2016-06-21 17:37:52')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`) VALUES ('bla', 980190988, '2016-06-21 17:37:52', '2016-06-21 17:37:52')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/ads/562391268
Completed 302 Found in 34ms (ActiveRecord: 15.1ms)
  [1m[35m (0.7ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
AdsControllerTest: test_should_get_edit
---------------------------------------
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1[0m
  [1m[35mCreative Load (0.7ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (0.8ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1[0m
  [1m[35mCreative Load (1.1ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1[0m
  [1m[35mTargeting Load (0.4ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.6ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#edit as HTML
  Parameters: {"id"=>"562391268"}
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (0.6ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 562391268[0m
  Rendered ads/_creative_fields.html.erb (2.2ms)
  Rendered ads/_creative_fields.html.erb (1.9ms)
  [1m[35mTargeting Load (0.6ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 562391268
  Rendered ads/_place_fields.html.erb (0.9ms)
  Rendered ads/_place_fields.html.erb (1.0ms)
  Rendered ads/_targeting_fields.html.erb (4.5ms)
  Rendered ads/_place_fields.html.erb (0.7ms)
  Rendered ads/_targeting_fields.html.erb (3.0ms)
  Rendered ads/_form.html.erb (19.7ms)
  Rendered ads/edit.html.erb within layouts/application (20.9ms)
Completed 200 OK in 28ms (Views: 23.1ms | ActiveRecord: 1.5ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------------------------
AdsControllerTest: test_shouldnt_create_ad_creative_with_no_adText
------------------------------------------------------------------
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1[0m
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1
  [1m[36mCreative Load (0.5ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1
  [1m[36mTargeting Load (0.5ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.3ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"999999.0", "adText"=>nil}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
  Rendered ads/_creative_fields.html.erb (1.1ms)
  Rendered ads/_place_fields.html.erb (0.6ms)
  Rendered ads/_place_fields.html.erb (0.6ms)
  Rendered ads/_targeting_fields.html.erb (3.1ms)
  Rendered ads/_place_fields.html.erb (1.1ms)
  Rendered ads/_targeting_fields.html.erb (4.2ms)
  Rendered ads/_form.html.erb (12.0ms)
  Rendered ads/new.html.erb within layouts/application (12.4ms)
Completed 200 OK in 20ms (Views: 14.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `ads`
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36mActiveRecord::SchemaMigration Load (3.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (12.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (4.8ms)[0m  BEGIN
  [1m[36mFixture Delete (18.8ms)[0m  [1mDELETE FROM `ads`[0m
  [1m[35mFixture Insert (9.6ms)[0m  INSERT INTO `ads` (`budget`, `created_at`, `updated_at`, `id`) VALUES (1234.0, '2016-06-21 17:46:34', '2016-06-21 17:46:34', 562391268)
  [1m[36mFixture Insert (7.0ms)[0m  [1mINSERT INTO `ads` (`budget`, `created_at`, `updated_at`, `id`) VALUES (NULL, '2016-06-21 17:46:34', '2016-06-21 17:46:34', 404816386)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `creatives`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (42.0, 'teste', 1, '2016-06-21 17:46:34', '2016-06-21 17:46:34', 562391268)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (999999.0, 'teste', 1, '2016-06-21 17:46:34', '2016-06-21 17:46:34', 914851422)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (999999.0, NULL, 1, '2016-06-21 17:46:34', '2016-06-21 17:46:34', 267816528)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (NULL, 'teste', 1, '2016-06-21 17:46:34', '2016-06-21 17:46:34', 245101925)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `places`[0m
  [1m[35mFixture Insert (9.6ms)[0m  INSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`, `id`) VALUES ('bla', 1, '2016-06-21 17:46:34', '2016-06-21 17:46:34', 980190962)
  [1m[36mFixture Insert (2.1ms)[0m  [1mINSERT INTO `places` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 17:46:34', '2016-06-21 17:46:34', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `targetings`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES ('Male', 1, '2016-06-21 17:46:34', '2016-06-21 17:46:34', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `targetings` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 17:46:34', '2016-06-21 17:46:34', 298486374)
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_create_ad
----------------------------------------
  [1m[35mAd Load (6.8ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (0.5ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1
  [1m[36mCreative Load (2.7ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1[0m
  [1m[35mTargeting Load (0.4ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.4ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (6.3ms)[0m  SELECT COUNT(*) FROM `ads`
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"42.0", "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.1ms)[0m  INSERT INTO `ads` (`budget`, `created_at`, `updated_at`) VALUES (1234.0, '2016-06-21 17:46:34', '2016-06-21 17:46:34')
  [1m[36mSQL (4.1ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`) VALUES (42.0, 'teste', 980190982, '2016-06-21 17:46:34', '2016-06-21 17:46:34')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`) VALUES ('Male', 980190982, '2016-06-21 17:46:34', '2016-06-21 17:46:34')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`) VALUES ('bla', 980190989, '2016-06-21 17:46:34', '2016-06-21 17:46:34')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/ads
Completed 302 Found in 73ms (ActiveRecord: 7.2ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
  [1m[35m (2.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------------------
AdsControllerTest: test_shouldnt_create_ad_no_creative
------------------------------------------------------
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1
  [1m[36mAd Load (0.2ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1[0m
  [1m[35mTargeting Load (0.3ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.2ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `ads`
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered ads/_creative_fields.html.erb (12.7ms)
  Rendered ads/_place_fields.html.erb (3.0ms)
  Rendered ads/_place_fields.html.erb (2.9ms)
  Rendered ads/_targeting_fields.html.erb (22.9ms)
  Rendered ads/_place_fields.html.erb (1.2ms)
  Rendered ads/_targeting_fields.html.erb (5.0ms)
  Rendered ads/_form.html.erb (96.5ms)
  Rendered ads/new.html.erb within layouts/application (109.0ms)
Completed 200 OK in 648ms (Views: 625.4ms | ActiveRecord: 0.5ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------
AdsControllerTest: test_should_get_edit
---------------------------------------
  [1m[35mAd Load (0.6ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1[0m
  [1m[35mCreative Load (0.2ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (0.2ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1[0m
  [1m[35mCreative Load (0.5ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1[0m
  [1m[35mTargeting Load (0.3ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.3ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#edit as HTML
  Parameters: {"id"=>"562391268"}
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (1.8ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 562391268[0m
  Rendered ads/_creative_fields.html.erb (1.6ms)
  Rendered ads/_creative_fields.html.erb (1.5ms)
  [1m[35mTargeting Load (0.5ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 562391268
  Rendered ads/_place_fields.html.erb (6.6ms)
  Rendered ads/_place_fields.html.erb (0.8ms)
  Rendered ads/_targeting_fields.html.erb (9.9ms)
  Rendered ads/_place_fields.html.erb (0.9ms)
  Rendered ads/_targeting_fields.html.erb (2.8ms)
  Rendered ads/_form.html.erb (24.7ms)
  Rendered ads/edit.html.erb within layouts/application (25.6ms)
Completed 200 OK in 36ms (Views: 27.2ms | ActiveRecord: 2.7ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
AdsControllerTest: test_should_show_post
----------------------------------------
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1[0m
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1
  [1m[36mCreative Load (0.5ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1[0m
  [1m[35mCreative Load (0.7ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1
  [1m[36mCreative Load (0.8ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1[0m
  [1m[35mCreative Load (0.8ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1
  [1m[36mTargeting Load (0.6ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.5ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
Processing by AdsController#show as HTML
  Parameters: {"id"=>"562391268"}
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1[0m
  [1m[35mCreative Exists (0.4ms)[0m  SELECT  1 AS one FROM `creatives` WHERE `creatives`.`ad_id` = 562391268 LIMIT 1
  [1m[36mTargeting Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `targetings` WHERE `targetings`.`ad_id` = 562391268 LIMIT 1[0m
  Rendered ads/show.html.erb within layouts/application (101.4ms)
Completed 200 OK in 111ms (Views: 108.5ms | ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------------------
AdsControllerTest: test_shouldnt_create_ad_no_budget
----------------------------------------------------
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1
  [1m[36mAd Load (0.5ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1[0m
  [1m[35mCreative Load (1.1ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1
  [1m[36mCreative Load (0.5ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1[0m
  [1m[35mTargeting Load (0.5ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.4ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `ads`
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>nil, "creatives_attributes"=>[{"bid"=>"42.0", "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
  Rendered ads/_creative_fields.html.erb (1.4ms)
  Rendered ads/_creative_fields.html.erb (2.6ms)
  Rendered ads/_place_fields.html.erb (1.4ms)
  Rendered ads/_place_fields.html.erb (1.2ms)
  Rendered ads/_targeting_fields.html.erb (6.2ms)
  Rendered ads/_place_fields.html.erb (1.5ms)
  Rendered ads/_targeting_fields.html.erb (5.2ms)
  Rendered ads/_form.html.erb (22.4ms)
  Rendered ads/new.html.erb within layouts/application (23.2ms)
Completed 200 OK in 34ms (Views: 26.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_get_index
----------------------------------------
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1
  [1m[36mAd Load (0.2ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1[0m
  [1m[35mCreative Load (0.2ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1
  [1m[36mCreative Load (0.2ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1[0m
  [1m[35mTargeting Load (0.2ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.2ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#index as HTML
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` LIMIT 10 OFFSET 0
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 404816386[0m
  [1m[35mTargeting Load (0.3ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 404816386
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 562391268[0m
  [1m[35mTargeting Load (0.3ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 562391268
  Rendered ads/index.html.erb within layouts/application (9.5ms)
Completed 200 OK in 14ms (Views: 12.0ms | ActiveRecord: 1.5ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------------
AdsControllerTest: test_shouldnt_create_ad_creative_with_no_bid
---------------------------------------------------------------
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1[0m
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1
  [1m[36mTargeting Load (0.3ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.3ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>nil, "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered ads/_creative_fields.html.erb (1.8ms)
  Rendered ads/_creative_fields.html.erb (1.3ms)
  Rendered ads/_place_fields.html.erb (1.6ms)
  Rendered ads/_place_fields.html.erb (0.9ms)
  Rendered ads/_targeting_fields.html.erb (5.9ms)
  Rendered ads/_place_fields.html.erb (1.1ms)
  Rendered ads/_targeting_fields.html.erb (3.7ms)
  Rendered ads/_form.html.erb (17.5ms)
  Rendered ads/new.html.erb within layouts/application (17.9ms)
Completed 200 OK in 33ms (Views: 22.0ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `ads`
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------
AdsControllerTest: test_shouldnt_create_ad_bid_greater_than_budget
------------------------------------------------------------------
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1[0m
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1
  [1m[36mTargeting Load (0.2ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.3ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"999999.0", "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
  Rendered ads/_creative_fields.html.erb (3.2ms)
  Rendered ads/_creative_fields.html.erb (4.1ms)
  Rendered ads/_place_fields.html.erb (2.2ms)
  Rendered ads/_place_fields.html.erb (1.7ms)
  Rendered ads/_targeting_fields.html.erb (10.5ms)
  Rendered ads/_place_fields.html.erb (3.1ms)
  Rendered ads/_targeting_fields.html.erb (8.4ms)
  Rendered ads/_form.html.erb (35.8ms)
  Rendered ads/new.html.erb within layouts/application (36.4ms)
Completed 200 OK in 62ms (Views: 43.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `ads`
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
AdsControllerTest: test_should_get_new
--------------------------------------
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1[0m
  [1m[35mAd Load (0.5ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1[0m
  [1m[35mCreative Load (0.2ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1
  [1m[36mTargeting Load (0.3ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.2ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
Processing by AdsController#new as HTML
  Rendered ads/_creative_fields.html.erb (4.1ms)
  Rendered ads/_creative_fields.html.erb (2.7ms)
  Rendered ads/_place_fields.html.erb (1.2ms)
  Rendered ads/_place_fields.html.erb (1.6ms)
  Rendered ads/_targeting_fields.html.erb (13.1ms)
  Rendered ads/_place_fields.html.erb (1.3ms)
  Rendered ads/_targeting_fields.html.erb (4.4ms)
  Rendered ads/_form.html.erb (29.3ms)
  Rendered ads/new.html.erb within layouts/application (29.7ms)
Completed 200 OK in 38ms (Views: 34.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
------------------------------------------
AdsControllerTest: test_should_update_post
------------------------------------------
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1[0m
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1
  [1m[36mCreative Load (0.2ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1[0m
  [1m[35mCreative Load (0.2ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1
  [1m[36mTargeting Load (0.2ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.2ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
Processing by AdsController#update as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"42.0", "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}, "id"=>"562391268"}
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 562391268[0m
  [1m[35mTargeting Load (0.2ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 562391268
  [1m[36mSQL (2.6ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`) VALUES (42.0, 'teste', 562391268, '2016-06-21 17:46:35', '2016-06-21 17:46:35')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`) VALUES ('Male', 562391268, '2016-06-21 17:46:35', '2016-06-21 17:46:35')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`) VALUES ('bla', 980190990, '2016-06-21 17:46:35', '2016-06-21 17:46:35')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/ads/562391268
Completed 302 Found in 30ms (ActiveRecord: 4.8ms)
  [1m[36m (1.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------------------------------
AdsControllerTest: test_shouldnt_create_ad_creative_with_no_adText
------------------------------------------------------------------
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1[0m
  [1m[35mAd Load (0.2ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1
  [1m[36mCreative Load (0.5ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1
  [1m[36mTargeting Load (0.3ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.3ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"999999.0", "adText"=>nil}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
  Rendered ads/_creative_fields.html.erb (1.3ms)
  Rendered ads/_place_fields.html.erb (0.8ms)
  Rendered ads/_place_fields.html.erb (0.6ms)
  Rendered ads/_targeting_fields.html.erb (4.1ms)
  Rendered ads/_place_fields.html.erb (0.6ms)
  Rendered ads/_targeting_fields.html.erb (2.4ms)
  Rendered ads/_form.html.erb (13.2ms)
  Rendered ads/new.html.erb within layouts/application (13.9ms)
Completed 200 OK in 27ms (Views: 16.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `ads`
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
-------------------------------------------
AdsControllerTest: test_should_destroy_post
-------------------------------------------
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1[0m
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1
  [1m[36mTargeting Load (0.2ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.3ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
  [1m[36mAd Load (0.7ms)[0m  [1mSELECT  `ads`.* FROM `ads`  ORDER BY `ads`.`id` ASC LIMIT 1[0m
Processing by AdsController#destroy as HTML
  Parameters: {"id"=>"404816386"}
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 404816386
  [1m[36mTargeting Load (0.5ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 404816386[0m
  [1m[35mSQL (1.3ms)[0m  DELETE FROM `ads` WHERE `ads`.`id` = 404816386
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/ads
Completed 302 Found in 7ms (ActiveRecord: 2.8ms)
  [1m[35mAd Exists (0.4ms)[0m  SELECT  1 AS one FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1
  [1m[36m (0.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------------------
AdsControllerTest: test_shouldnt_create_ad_no_targeting
-------------------------------------------------------
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1[0m
  [1m[35mAd Load (0.2ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1
  [1m[36mCreative Load (0.2ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1
  [1m[36mTargeting Load (0.2ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.2ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"42.0", "adText"=>"teste"}], "targetings_attributes"=>[]}}
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered ads/_creative_fields.html.erb (2.2ms)
  Rendered ads/_creative_fields.html.erb (1.7ms)
  Rendered ads/_place_fields.html.erb (0.8ms)
  Rendered ads/_targeting_fields.html.erb (3.9ms)
  Rendered ads/_form.html.erb (12.4ms)
  Rendered ads/new.html.erb within layouts/application (12.7ms)
Completed 200 OK in 23ms (Views: 14.7ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `ads`
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (12.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (3.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (16.7ms)[0m  [1mDELETE FROM `ads`[0m
  [1m[35mFixture Insert (2.4ms)[0m  INSERT INTO `ads` (`budget`, `created_at`, `updated_at`, `id`) VALUES (1234.0, '2016-06-21 17:49:25', '2016-06-21 17:49:25', 562391268)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `ads` (`budget`, `created_at`, `updated_at`, `id`) VALUES (NULL, '2016-06-21 17:49:25', '2016-06-21 17:49:25', 404816386)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `creatives`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (42.0, 'teste', 1, '2016-06-21 17:49:25', '2016-06-21 17:49:25', 562391268)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (999999.0, 'teste', 1, '2016-06-21 17:49:25', '2016-06-21 17:49:25', 914851422)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (999999.0, NULL, 1, '2016-06-21 17:49:25', '2016-06-21 17:49:25', 267816528)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (NULL, 'teste', 1, '2016-06-21 17:49:25', '2016-06-21 17:49:25', 245101925)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `places`[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`, `id`) VALUES ('bla', 1, '2016-06-21 17:49:25', '2016-06-21 17:49:25', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `places` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 17:49:25', '2016-06-21 17:49:25', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `targetings`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES ('Male', 1, '2016-06-21 17:49:25', '2016-06-21 17:49:25', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `targetings` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 17:49:25', '2016-06-21 17:49:25', 298486374)
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
AdsControllerTest: test_should_get_new
--------------------------------------
  [1m[35mAd Load (3.7ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1[0m
  [1m[35mCreative Load (0.2ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1[0m
  [1m[35mTargeting Load (0.3ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.4ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#new as HTML
  Rendered ads/_creative_fields.html.erb (7.5ms)
  Rendered ads/_creative_fields.html.erb (1.4ms)
  Rendered ads/_place_fields.html.erb (2.8ms)
  Rendered ads/_place_fields.html.erb (1.0ms)
  Rendered ads/_targeting_fields.html.erb (12.9ms)
  Rendered ads/_place_fields.html.erb (0.9ms)
  Rendered ads/_targeting_fields.html.erb (3.7ms)
  Rendered ads/_form.html.erb (74.7ms)
  Rendered ads/new.html.erb within layouts/application (82.5ms)
Completed 200 OK in 589ms (Views: 550.4ms | ActiveRecord: 0.0ms)
  [1m[35m (2.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------
AdsControllerTest: test_shouldnt_create_ad_creative_with_no_bid
---------------------------------------------------------------
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1[0m
  [1m[35mTargeting Load (0.3ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.3ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (2.6ms)[0m  SELECT COUNT(*) FROM `ads`
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>nil, "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered ads/_creative_fields.html.erb (1.0ms)
  Rendered ads/_creative_fields.html.erb (1.0ms)
  Rendered ads/_place_fields.html.erb (0.9ms)
  Rendered ads/_place_fields.html.erb (0.8ms)
  Rendered ads/_targeting_fields.html.erb (5.2ms)
  Rendered ads/_place_fields.html.erb (1.1ms)
  Rendered ads/_targeting_fields.html.erb (4.0ms)
  Rendered ads/_form.html.erb (16.2ms)
  Rendered ads/new.html.erb within layouts/application (16.6ms)
Completed 200 OK in 27ms (Views: 18.9ms | ActiveRecord: 0.4ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------------------------
AdsControllerTest: test_shouldnt_create_ad_no_targeting
-------------------------------------------------------
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1[0m
  [1m[35mTargeting Load (0.5ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.4ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `ads`
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"42.0", "adText"=>"teste"}], "targetings_attributes"=>[]}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered ads/_creative_fields.html.erb (1.8ms)
  Rendered ads/_creative_fields.html.erb (2.0ms)
  Rendered ads/_place_fields.html.erb (1.6ms)
  Rendered ads/_targeting_fields.html.erb (5.9ms)
  Rendered ads/_form.html.erb (15.6ms)
  Rendered ads/new.html.erb within layouts/application (16.1ms)
Completed 200 OK in 25ms (Views: 18.1ms | ActiveRecord: 0.4ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------
AdsControllerTest: test_shouldnt_create_ad_bid_greater_than_budget
------------------------------------------------------------------
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1[0m
  [1m[35mCreative Load (0.5ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1[0m
  [1m[35mTargeting Load (0.3ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.3ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `ads`
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"999999.0", "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
  Rendered ads/_creative_fields.html.erb (3.6ms)
  Rendered ads/_creative_fields.html.erb (3.5ms)
  Rendered ads/_place_fields.html.erb (1.5ms)
  Rendered ads/_place_fields.html.erb (1.1ms)
  Rendered ads/_targeting_fields.html.erb (8.0ms)
  Rendered ads/_place_fields.html.erb (2.4ms)
  Rendered ads/_targeting_fields.html.erb (6.7ms)
  Rendered ads/_form.html.erb (31.8ms)
  Rendered ads/new.html.erb within layouts/application (32.3ms)
Completed 200 OK in 44ms (Views: 38.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
AdsControllerTest: test_shouldnt_create_ad_no_creative
------------------------------------------------------
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (0.2ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1[0m
  [1m[35mCreative Load (0.2ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1[0m
  [1m[35mTargeting Load (0.3ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.3ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `ads`
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered ads/_creative_fields.html.erb (3.1ms)
  Rendered ads/_place_fields.html.erb (1.3ms)
  Rendered ads/_place_fields.html.erb (1.2ms)
  Rendered ads/_targeting_fields.html.erb (8.5ms)
  Rendered ads/_place_fields.html.erb (1.6ms)
  Rendered ads/_targeting_fields.html.erb (5.6ms)
  Rendered ads/_form.html.erb (23.1ms)
  Rendered ads/new.html.erb within layouts/application (23.7ms)
Completed 200 OK in 45ms (Views: 37.2ms | ActiveRecord: 0.4ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------
AdsControllerTest: test_shouldnt_create_ad_no_budget
----------------------------------------------------
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1
  [1m[36mCreative Load (0.2ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1[0m
  [1m[35mTargeting Load (0.3ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.3ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `ads`
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>nil, "creatives_attributes"=>[{"bid"=>"42.0", "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
  Rendered ads/_creative_fields.html.erb (4.2ms)
  Rendered ads/_creative_fields.html.erb (2.7ms)
  Rendered ads/_place_fields.html.erb (1.8ms)
  Rendered ads/_place_fields.html.erb (1.7ms)
  Rendered ads/_targeting_fields.html.erb (8.5ms)
  Rendered ads/_place_fields.html.erb (1.4ms)
  Rendered ads/_targeting_fields.html.erb (7.8ms)
  Rendered ads/_form.html.erb (31.1ms)
  Rendered ads/new.html.erb within layouts/application (32.2ms)
Completed 200 OK in 51ms (Views: 36.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
AdsControllerTest: test_should_update_post
------------------------------------------
  [1m[35mAd Load (0.5ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1[0m
  [1m[35mCreative Load (0.2ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1[0m
  [1m[35mTargeting Load (0.3ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.4ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#update as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"42.0", "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}, "id"=>"562391268"}
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCreative Load (3.8ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 562391268
  [1m[36mTargeting Load (0.4ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 562391268[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`) VALUES (42.0, 'teste', 562391268, '2016-06-21 17:49:26', '2016-06-21 17:49:26')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`) VALUES ('Male', 562391268, '2016-06-21 17:49:26', '2016-06-21 17:49:26')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`) VALUES ('bla', 980190991, '2016-06-21 17:49:26', '2016-06-21 17:49:26')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/ads/562391268
Completed 302 Found in 40ms (ActiveRecord: 6.1ms)
  [1m[35m (3.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_create_ad
----------------------------------------
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1
  [1m[36mCreative Load (0.2ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1[0m
  [1m[35mTargeting Load (0.2ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.3ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `ads`
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"42.0", "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `ads` (`budget`, `created_at`, `updated_at`) VALUES (1234.0, '2016-06-21 17:49:26', '2016-06-21 17:49:26')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`) VALUES (42.0, 'teste', 980190983, '2016-06-21 17:49:26', '2016-06-21 17:49:26')[0m
  [1m[35mSQL (5.7ms)[0m  INSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`) VALUES ('Male', 980190983, '2016-06-21 17:49:26', '2016-06-21 17:49:26')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`) VALUES ('bla', 980190992, '2016-06-21 17:49:26', '2016-06-21 17:49:26')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/ads
Completed 302 Found in 22ms (ActiveRecord: 7.4ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
  [1m[35m (0.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------
AdsControllerTest: test_shouldnt_create_ad_creative_with_no_adText
------------------------------------------------------------------
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1[0m
  [1m[35mTargeting Load (0.2ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.2ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `ads`
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"999999.0", "adText"=>nil}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
  Rendered ads/_creative_fields.html.erb (1.4ms)
  Rendered ads/_place_fields.html.erb (1.2ms)
  Rendered ads/_place_fields.html.erb (1.1ms)
  Rendered ads/_targeting_fields.html.erb (6.5ms)
  Rendered ads/_place_fields.html.erb (0.9ms)
  Rendered ads/_targeting_fields.html.erb (4.4ms)
  Rendered ads/_form.html.erb (23.2ms)
  Rendered ads/new.html.erb within layouts/application (23.5ms)
Completed 200 OK in 33ms (Views: 26.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_get_index
----------------------------------------
  [1m[35mAd Load (0.9ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1
  [1m[36mCreative Load (0.2ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1[0m
  [1m[35mTargeting Load (0.2ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.3ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#index as HTML
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` LIMIT 10 OFFSET 0
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 404816386[0m
  [1m[35mTargeting Load (0.4ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 404816386
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 562391268[0m
  [1m[35mTargeting Load (0.3ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 562391268
  Rendered ads/index.html.erb within layouts/application (24.4ms)
Completed 200 OK in 29ms (Views: 26.7ms | ActiveRecord: 1.8ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
AdsControllerTest: test_should_show_post
----------------------------------------
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1[0m
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1
  [1m[36mCreative Load (0.2ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1[0m
  [1m[35mCreative Load (0.2ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1
  [1m[36mTargeting Load (0.7ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.3ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
Processing by AdsController#show as HTML
  Parameters: {"id"=>"562391268"}
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1[0m
  [1m[35mCreative Exists (0.6ms)[0m  SELECT  1 AS one FROM `creatives` WHERE `creatives`.`ad_id` = 562391268 LIMIT 1
  [1m[36mTargeting Exists (1.1ms)[0m  [1mSELECT  1 AS one FROM `targetings` WHERE `targetings`.`ad_id` = 562391268 LIMIT 1[0m
  Rendered ads/show.html.erb within layouts/application (19.9ms)
Completed 200 OK in 25ms (Views: 21.6ms | ActiveRecord: 2.1ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------
AdsControllerTest: test_should_destroy_post
-------------------------------------------
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (0.2ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1[0m
  [1m[35mCreative Load (0.2ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1
  [1m[36mCreative Load (0.2ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1[0m
  [1m[35mTargeting Load (0.2ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.2ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
  [1m[35mAd Load (0.2ms)[0m  SELECT  `ads`.* FROM `ads`  ORDER BY `ads`.`id` ASC LIMIT 1
Processing by AdsController#destroy as HTML
  Parameters: {"id"=>"404816386"}
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 404816386[0m
  [1m[35mTargeting Load (0.2ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 404816386
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `ads` WHERE `ads`.`id` = 404816386[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/ads
Completed 302 Found in 5ms (ActiveRecord: 1.3ms)
  [1m[36mAd Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
AdsControllerTest: test_should_get_edit
---------------------------------------
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1[0m
  [1m[35mTargeting Load (0.3ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.4ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#edit as HTML
  Parameters: {"id"=>"562391268"}
  [1m[35mAd Load (0.5ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 562391268[0m
  Rendered ads/_creative_fields.html.erb (1.6ms)
  Rendered ads/_creative_fields.html.erb (1.2ms)
  [1m[35mTargeting Load (0.4ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 562391268
  Rendered ads/_place_fields.html.erb (1.2ms)
  Rendered ads/_place_fields.html.erb (1.0ms)
  Rendered ads/_targeting_fields.html.erb (5.4ms)
  Rendered ads/_place_fields.html.erb (0.7ms)
  Rendered ads/_targeting_fields.html.erb (2.9ms)
  Rendered ads/_form.html.erb (16.6ms)
  Rendered ads/edit.html.erb within layouts/application (17.5ms)
Completed 200 OK in 26ms (Views: 19.9ms | ActiveRecord: 1.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (3.0ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (1.1ms)[0m  [1mDELETE FROM `ads`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `ads` (`budget`, `created_at`, `updated_at`, `id`) VALUES (1234.0, '2016-06-21 18:02:32', '2016-06-21 18:02:32', 562391268)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `ads` (`budget`, `created_at`, `updated_at`, `id`) VALUES (NULL, '2016-06-21 18:02:32', '2016-06-21 18:02:32', 404816386)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `creatives`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (42.0, 'teste', 1, '2016-06-21 18:02:32', '2016-06-21 18:02:32', 562391268)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (999999.0, 'teste', 1, '2016-06-21 18:02:32', '2016-06-21 18:02:32', 914851422)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (999999.0, NULL, 1, '2016-06-21 18:02:32', '2016-06-21 18:02:32', 267816528)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (NULL, 'teste', 1, '2016-06-21 18:02:32', '2016-06-21 18:02:32', 245101925)
  [1m[36mFixture Delete (1.9ms)[0m  [1mDELETE FROM `places`[0m
  [1m[35mFixture Insert (4.1ms)[0m  INSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`, `id`) VALUES ('bla', 1, '2016-06-21 18:02:32', '2016-06-21 18:02:32', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `places` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 18:02:32', '2016-06-21 18:02:32', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `targetings`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES ('Male', 1, '2016-06-21 18:02:32', '2016-06-21 18:02:32', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `targetings` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 18:02:32', '2016-06-21 18:02:32', 298486374)
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------
AdsControllerTest: test_shouldnt_create_ad_creative_with_no_bid
---------------------------------------------------------------
  [1m[35mAd Load (0.5ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1[0m
  [1m[35mCreative Load (0.2ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1[0m
  [1m[35mTargeting Load (0.2ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.3ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (2.5ms)[0m  SELECT COUNT(*) FROM `ads`
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>nil, "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
  [1m[36m (0.7ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered ads/_creative_fields.html.erb (6.1ms)
  Rendered ads/_creative_fields.html.erb (2.1ms)
  Rendered ads/_place_fields.html.erb (3.1ms)
  Rendered ads/_place_fields.html.erb (1.2ms)
  Rendered ads/_targeting_fields.html.erb (14.6ms)
  Rendered ads/_place_fields.html.erb (0.8ms)
  Rendered ads/_targeting_fields.html.erb (3.7ms)
  Rendered ads/_form.html.erb (66.2ms)
  Rendered ads/new.html.erb within layouts/application (74.7ms)
Completed 200 OK in 538ms (Views: 473.0ms | ActiveRecord: 0.9ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------------------
AdsControllerTest: test_shouldnt_create_ad_no_creative
------------------------------------------------------
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1
  [1m[36mAd Load (0.2ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1[0m
  [1m[35mTargeting Load (0.2ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.2ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `ads`
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered ads/_creative_fields.html.erb (2.1ms)
  Rendered ads/_place_fields.html.erb (0.9ms)
  Rendered ads/_place_fields.html.erb (0.9ms)
  Rendered ads/_targeting_fields.html.erb (4.7ms)
  Rendered ads/_place_fields.html.erb (0.7ms)
  Rendered ads/_targeting_fields.html.erb (3.1ms)
  Rendered ads/_form.html.erb (14.0ms)
  Rendered ads/new.html.erb within layouts/application (14.4ms)
Completed 200 OK in 22ms (Views: 16.5ms | ActiveRecord: 0.3ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------
AdsControllerTest: test_should_get_edit
---------------------------------------
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1[0m
  [1m[35mTargeting Load (0.3ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.3ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#edit as HTML
  Parameters: {"id"=>"562391268"}
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 562391268[0m
  Rendered ads/_creative_fields.html.erb (1.6ms)
  Rendered ads/_creative_fields.html.erb (2.2ms)
  [1m[35mTargeting Load (0.4ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 562391268
  Rendered ads/_place_fields.html.erb (0.8ms)
  Rendered ads/_place_fields.html.erb (0.7ms)
  Rendered ads/_targeting_fields.html.erb (4.0ms)
  Rendered ads/_place_fields.html.erb (1.7ms)
  Rendered ads/_targeting_fields.html.erb (6.0ms)
  Rendered ads/_form.html.erb (22.4ms)
  Rendered ads/edit.html.erb within layouts/application (23.5ms)
Completed 200 OK in 37ms (Views: 26.7ms | ActiveRecord: 1.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------
AdsControllerTest: test_should_get_new
--------------------------------------
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1[0m
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1
  [1m[36mCreative Load (0.2ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1[0m
  [1m[35mCreative Load (0.2ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1
  [1m[36mTargeting Load (0.3ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.4ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
Processing by AdsController#new as HTML
  Rendered ads/_creative_fields.html.erb (1.1ms)
  Rendered ads/_creative_fields.html.erb (0.9ms)
  Rendered ads/_place_fields.html.erb (0.6ms)
  Rendered ads/_place_fields.html.erb (0.6ms)
  Rendered ads/_targeting_fields.html.erb (2.8ms)
  Rendered ads/_place_fields.html.erb (0.7ms)
  Rendered ads/_targeting_fields.html.erb (2.5ms)
  Rendered ads/_form.html.erb (13.2ms)
  Rendered ads/new.html.erb within layouts/application (13.6ms)
Completed 200 OK in 24ms (Views: 18.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
AdsControllerTest: test_should_show_post
----------------------------------------
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1[0m
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1
  [1m[36mTargeting Load (0.4ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.3ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
Processing by AdsController#show as HTML
  Parameters: {"id"=>"562391268"}
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1[0m
  [1m[35mCreative Exists (0.9ms)[0m  SELECT  1 AS one FROM `creatives` WHERE `creatives`.`ad_id` = 562391268 LIMIT 1
  [1m[36mTargeting Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `targetings` WHERE `targetings`.`ad_id` = 562391268 LIMIT 1[0m
  Rendered ads/show.html.erb within layouts/application (50.6ms)
Completed 200 OK in 64ms (Views: 60.8ms | ActiveRecord: 1.8ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------
AdsControllerTest: test_shouldnt_create_ad_no_targeting
-------------------------------------------------------
  [1m[35mAd Load (0.7ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1[0m
  [1m[35mTargeting Load (0.3ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.3ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `ads`
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"42.0", "adText"=>"teste"}], "targetings_attributes"=>[]}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered ads/_creative_fields.html.erb (1.3ms)
  Rendered ads/_creative_fields.html.erb (2.8ms)
  Rendered ads/_place_fields.html.erb (1.2ms)
  Rendered ads/_targeting_fields.html.erb (5.4ms)
  Rendered ads/_form.html.erb (15.4ms)
  Rendered ads/new.html.erb within layouts/application (15.8ms)
Completed 200 OK in 29ms (Views: 18.7ms | ActiveRecord: 0.4ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------
AdsControllerTest: test_shouldnt_create_ad_bid_greater_than_budget
------------------------------------------------------------------
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1[0m
  [1m[35mCreative Load (0.6ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1
  [1m[36mCreative Load (0.6ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1[0m
  [1m[35mTargeting Load (0.3ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.4ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `ads`
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"999999.0", "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
  Rendered ads/_creative_fields.html.erb (4.6ms)
  Rendered ads/_creative_fields.html.erb (4.0ms)
  Rendered ads/_place_fields.html.erb (1.1ms)
  Rendered ads/_place_fields.html.erb (0.9ms)
  Rendered ads/_targeting_fields.html.erb (6.0ms)
  Rendered ads/_place_fields.html.erb (2.5ms)
  Rendered ads/_targeting_fields.html.erb (8.3ms)
  Rendered ads/_form.html.erb (32.8ms)
  Rendered ads/new.html.erb within layouts/application (33.1ms)
Completed 200 OK in 48ms (Views: 37.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------------------
AdsControllerTest: test_shouldnt_create_ad_no_budget
----------------------------------------------------
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1[0m
  [1m[35mTargeting Load (0.3ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.3ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `ads`
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>nil, "creatives_attributes"=>[{"bid"=>"42.0", "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
  Rendered ads/_creative_fields.html.erb (1.0ms)
  Rendered ads/_creative_fields.html.erb (8.6ms)
  Rendered ads/_place_fields.html.erb (0.7ms)
  Rendered ads/_place_fields.html.erb (2.4ms)
  Rendered ads/_targeting_fields.html.erb (6.1ms)
  Rendered ads/_place_fields.html.erb (1.1ms)
  Rendered ads/_targeting_fields.html.erb (4.0ms)
  Rendered ads/_form.html.erb (23.3ms)
  Rendered ads/new.html.erb within layouts/application (23.6ms)
Completed 200 OK in 37ms (Views: 28.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_get_index
----------------------------------------
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1[0m
  [1m[35mCreative Load (0.2ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1[0m
  [1m[35mTargeting Load (0.3ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.3ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#index as HTML
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` LIMIT 10 OFFSET 0
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 404816386[0m
  [1m[35mTargeting Load (0.2ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 404816386
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 562391268[0m
  [1m[35mTargeting Load (0.3ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 562391268
  Rendered ads/index.html.erb within layouts/application (7.8ms)
Completed 200 OK in 12ms (Views: 10.0ms | ActiveRecord: 1.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
AdsControllerTest: test_should_update_post
------------------------------------------
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1[0m
  [1m[35mAd Load (0.2ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1
  [1m[36mCreative Load (0.2ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1[0m
  [1m[35mCreative Load (0.2ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1[0m
  [1m[35mCreative Load (0.9ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1
  [1m[36mTargeting Load (0.5ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.4ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
Processing by AdsController#update as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"42.0", "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}, "id"=>"562391268"}
  [1m[36mAd Load (0.9ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 562391268[0m
  [1m[35mTargeting Load (0.3ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 562391268
  [1m[36mSQL (2.5ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`) VALUES (42.0, 'teste', 562391268, '2016-06-21 18:02:34', '2016-06-21 18:02:34')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`) VALUES ('Male', 562391268, '2016-06-21 18:02:34', '2016-06-21 18:02:34')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`) VALUES ('bla', 980190995, '2016-06-21 18:02:34', '2016-06-21 18:02:34')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/ads/562391268
Completed 302 Found in 23ms (ActiveRecord: 5.2ms)
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
AdsControllerTest: test_should_create_ad
----------------------------------------
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1[0m
  [1m[35mAd Load (0.5ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1
  [1m[36mTargeting Load (0.2ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.3ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"42.0", "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `ads` (`budget`, `created_at`, `updated_at`) VALUES (1234.0, '2016-06-21 18:02:34', '2016-06-21 18:02:34')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`) VALUES (42.0, 'teste', 980190985, '2016-06-21 18:02:34', '2016-06-21 18:02:34')
  [1m[36mSQL (3.0ms)[0m  [1mINSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`) VALUES ('Male', 980190985, '2016-06-21 18:02:34', '2016-06-21 18:02:34')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`) VALUES ('bla', 980190996, '2016-06-21 18:02:34', '2016-06-21 18:02:34')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/ads
Completed 302 Found in 16ms (ActiveRecord: 4.2ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `ads`
  [1m[36m (0.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------
AdsControllerTest: test_shouldnt_create_ad_creative_with_no_adText
------------------------------------------------------------------
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1[0m
  [1m[35mAd Load (5.1ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1[0m
  [1m[35mCreative Load (0.2ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1
  [1m[36mCreative Load (0.2ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1[0m
  [1m[35mCreative Load (0.2ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1
  [1m[36mTargeting Load (0.2ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.3ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
  [1m[36m (2.2ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"999999.0", "adText"=>nil}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
  Rendered ads/_creative_fields.html.erb (1.2ms)
  Rendered ads/_place_fields.html.erb (0.7ms)
  Rendered ads/_place_fields.html.erb (0.6ms)
  Rendered ads/_targeting_fields.html.erb (3.4ms)
  Rendered ads/_place_fields.html.erb (0.7ms)
  Rendered ads/_targeting_fields.html.erb (3.5ms)
  Rendered ads/_form.html.erb (11.6ms)
  Rendered ads/new.html.erb within layouts/application (11.9ms)
Completed 200 OK in 19ms (Views: 13.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `ads`
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
AdsControllerTest: test_should_destroy_post
-------------------------------------------
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1[0m
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1
  [1m[36mCreative Load (0.2ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1[0m
  [1m[35mCreative Load (0.2ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1
  [1m[36mCreative Load (0.2ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1
  [1m[36mTargeting Load (0.4ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.3ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
  [1m[36mAd Load (0.6ms)[0m  [1mSELECT  `ads`.* FROM `ads`  ORDER BY `ads`.`id` ASC LIMIT 1[0m
Processing by AdsController#destroy as HTML
  Parameters: {"id"=>"404816386"}
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 404816386
  [1m[36mTargeting Load (0.3ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 404816386[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM `ads` WHERE `ads`.`id` = 404816386
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/ads
Completed 302 Found in 7ms (ActiveRecord: 1.7ms)
  [1m[35mAd Exists (0.4ms)[0m  SELECT  1 AS one FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1
  [1m[36m (1.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (3.8ms)[0m  BEGIN
  [1m[36mFixture Delete (1.7ms)[0m  [1mDELETE FROM `ads`[0m
  [1m[35mFixture Insert (1.9ms)[0m  INSERT INTO `ads` (`budget`, `created_at`, `updated_at`, `id`) VALUES (1234.0, '2016-06-21 18:05:38', '2016-06-21 18:05:38', 562391268)
  [1m[36mFixture Insert (3.0ms)[0m  [1mINSERT INTO `ads` (`budget`, `created_at`, `updated_at`, `id`) VALUES (NULL, '2016-06-21 18:05:38', '2016-06-21 18:05:38', 404816386)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `creatives`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (42.0, 'teste', 1, '2016-06-21 18:05:38', '2016-06-21 18:05:38', 562391268)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (999999.0, 'teste', 1, '2016-06-21 18:05:38', '2016-06-21 18:05:38', 914851422)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (999999.0, NULL, 1, '2016-06-21 18:05:38', '2016-06-21 18:05:38', 267816528)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (NULL, 'teste', 1, '2016-06-21 18:05:38', '2016-06-21 18:05:38', 245101925)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `places`[0m
  [1m[35mFixture Insert (4.1ms)[0m  INSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`, `id`) VALUES ('bla', 1, '2016-06-21 18:05:38', '2016-06-21 18:05:38', 980190962)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `places` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 18:05:38', '2016-06-21 18:05:38', 298486374)[0m
  [1m[35mFixture Delete (0.8ms)[0m  DELETE FROM `targetings`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES ('Male', 1, '2016-06-21 18:05:38', '2016-06-21 18:05:38', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `targetings` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 18:05:38', '2016-06-21 18:05:38', 298486374)
  [1m[36m (1.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------
AdsControllerTest: test_shouldnt_create_ad_bid_greater_than_budget
------------------------------------------------------------------
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1[0m
  [1m[35mCreative Load (0.2ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1
  [1m[36mCreative Load (0.2ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1[0m
  [1m[35mTargeting Load (0.2ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.3ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `ads`
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"999999.0", "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
  Rendered ads/_creative_fields.html.erb (5.5ms)
  Rendered ads/_creative_fields.html.erb (2.1ms)
  Rendered ads/_place_fields.html.erb (1.8ms)
  Rendered ads/_place_fields.html.erb (0.8ms)
  Rendered ads/_targeting_fields.html.erb (11.1ms)
  Rendered ads/_place_fields.html.erb (0.7ms)
  Rendered ads/_targeting_fields.html.erb (2.9ms)
  Rendered ads/_form.html.erb (54.3ms)
  Rendered ads/new.html.erb within layouts/application (64.4ms)
Completed 200 OK in 447ms (Views: 416.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
AdsControllerTest: test_should_update_post
------------------------------------------
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (0.2ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1[0m
  [1m[35mCreative Load (0.2ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1
  [1m[36mCreative Load (0.2ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1[0m
  [1m[35mTargeting Load (0.2ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.2ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#update as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"42.0", "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}, "id"=>"562391268"}
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 562391268
  [1m[36mTargeting Load (0.3ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 562391268[0m
  [1m[35mSQL (1.7ms)[0m  INSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`) VALUES (42.0, 'teste', 562391268, '2016-06-21 18:05:39', '2016-06-21 18:05:39')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`) VALUES ('Male', 562391268, '2016-06-21 18:05:39', '2016-06-21 18:05:39')[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`) VALUES ('bla', 980190997, '2016-06-21 18:05:39', '2016-06-21 18:05:39')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/ads/562391268
Completed 302 Found in 21ms (ActiveRecord: 3.7ms)
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------
AdsControllerTest: test_should_get_edit
---------------------------------------
  [1m[35mAd Load (3.2ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1[0m
  [1m[35mTargeting Load (0.3ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.4ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#edit as HTML
  Parameters: {"id"=>"562391268"}
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (0.5ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 562391268[0m
  Rendered ads/_creative_fields.html.erb (1.8ms)
  Rendered ads/_creative_fields.html.erb (1.1ms)
  [1m[35mTargeting Load (0.3ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 562391268
  Rendered ads/_place_fields.html.erb (0.7ms)
  Rendered ads/_place_fields.html.erb (0.7ms)
  Rendered ads/_targeting_fields.html.erb (3.5ms)
  Rendered ads/_place_fields.html.erb (0.7ms)
  Rendered ads/_targeting_fields.html.erb (2.7ms)
  Rendered ads/_form.html.erb (15.8ms)
  Rendered ads/edit.html.erb within layouts/application (17.0ms)
Completed 200 OK in 26ms (Views: 22.1ms | ActiveRecord: 1.1ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
AdsControllerTest: test_should_create_ad
----------------------------------------
  [1m[36mAd Load (1.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1[0m
  [1m[35mAd Load (0.9ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1
  [1m[36mTargeting Load (0.3ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.4ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"42.0", "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.0ms)[0m  [1mINSERT INTO `ads` (`budget`, `created_at`, `updated_at`) VALUES (1234.0, '2016-06-21 18:05:39', '2016-06-21 18:05:39')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`) VALUES (42.0, 'teste', 980190986, '2016-06-21 18:05:39', '2016-06-21 18:05:39')
  [1m[36mSQL (2.4ms)[0m  [1mINSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`) VALUES ('Male', 980190986, '2016-06-21 18:05:39', '2016-06-21 18:05:39')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`) VALUES ('bla', 980190998, '2016-06-21 18:05:39', '2016-06-21 18:05:39')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/ads
Completed 302 Found in 23ms (ActiveRecord: 6.6ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `ads`
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------
AdsControllerTest: test_shouldnt_create_ad_creative_with_no_adText
------------------------------------------------------------------
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1[0m
  [1m[35mAd Load (0.2ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1[0m
  [1m[35mCreative Load (0.2ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1
  [1m[36mCreative Load (0.2ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1[0m
  [1m[35mCreative Load (0.7ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1
  [1m[36mTargeting Load (0.4ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.6ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
  [1m[36m (1.1ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"999999.0", "adText"=>nil}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
  Rendered ads/_creative_fields.html.erb (1.4ms)
  Rendered ads/_place_fields.html.erb (0.7ms)
  Rendered ads/_place_fields.html.erb (0.8ms)
  Rendered ads/_targeting_fields.html.erb (3.7ms)
  Rendered ads/_place_fields.html.erb (0.7ms)
  Rendered ads/_targeting_fields.html.erb (2.6ms)
  Rendered ads/_form.html.erb (11.1ms)
  Rendered ads/new.html.erb within layouts/application (11.6ms)
Completed 200 OK in 23ms (Views: 17.8ms | ActiveRecord: 0.0ms)
  [1m[35m (2.1ms)[0m  SELECT COUNT(*) FROM `ads`
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------------------
AdsControllerTest: test_shouldnt_create_ad_no_budget
----------------------------------------------------
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1[0m
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1[0m
  [1m[35mCreative Load (0.2ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1
  [1m[36mCreative Load (0.2ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1[0m
  [1m[35mCreative Load (0.2ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1
  [1m[36mTargeting Load (0.2ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.2ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>nil, "creatives_attributes"=>[{"bid"=>"42.0", "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
  Rendered ads/_creative_fields.html.erb (1.3ms)
  Rendered ads/_creative_fields.html.erb (1.1ms)
  Rendered ads/_place_fields.html.erb (2.6ms)
  Rendered ads/_place_fields.html.erb (0.7ms)
  Rendered ads/_targeting_fields.html.erb (5.9ms)
  Rendered ads/_place_fields.html.erb (2.5ms)
  Rendered ads/_targeting_fields.html.erb (5.0ms)
  Rendered ads/_form.html.erb (22.1ms)
  Rendered ads/new.html.erb within layouts/application (22.6ms)
Completed 200 OK in 31ms (Views: 25.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.9ms)[0m  SELECT COUNT(*) FROM `ads`
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------
AdsControllerTest: test_should_get_new
--------------------------------------
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1[0m
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1
  [1m[36mCreative Load (0.7ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1
  [1m[36mCreative Load (0.2ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1[0m
  [1m[35mCreative Load (0.2ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1
  [1m[36mTargeting Load (0.2ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.2ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
Processing by AdsController#new as HTML
  Rendered ads/_creative_fields.html.erb (1.5ms)
  Rendered ads/_creative_fields.html.erb (31.0ms)
  Rendered ads/_place_fields.html.erb (1.2ms)
  Rendered ads/_place_fields.html.erb (0.9ms)
  Rendered ads/_targeting_fields.html.erb (4.3ms)
  Rendered ads/_place_fields.html.erb (1.1ms)
  Rendered ads/_targeting_fields.html.erb (3.8ms)
  Rendered ads/_form.html.erb (44.7ms)
  Rendered ads/new.html.erb within layouts/application (45.1ms)
Completed 200 OK in 50ms (Views: 47.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------------
AdsControllerTest: test_shouldnt_create_ad_no_creative
------------------------------------------------------
  [1m[36mAd Load (0.7ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1[0m
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1
  [1m[36mCreative Load (0.7ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1[0m
  [1m[35mCreative Load (0.2ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1
  [1m[36mCreative Load (0.2ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1[0m
  [1m[35mCreative Load (0.2ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1
  [1m[36mTargeting Load (0.2ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.2ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered ads/_creative_fields.html.erb (2.6ms)
  Rendered ads/_place_fields.html.erb (1.3ms)
  Rendered ads/_place_fields.html.erb (0.8ms)
  Rendered ads/_targeting_fields.html.erb (7.1ms)
  Rendered ads/_place_fields.html.erb (1.4ms)
  Rendered ads/_targeting_fields.html.erb (5.5ms)
  Rendered ads/_form.html.erb (21.0ms)
  Rendered ads/new.html.erb within layouts/application (21.8ms)
Completed 200 OK in 31ms (Views: 24.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `ads`
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
AdsControllerTest: test_should_get_index
----------------------------------------
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1[0m
  [1m[35mAd Load (0.2ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1
  [1m[36mCreative Load (0.2ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1[0m
  [1m[35mCreative Load (0.2ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1
  [1m[36mTargeting Load (0.3ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.5ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
Processing by AdsController#index as HTML
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` LIMIT 10 OFFSET 0[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 404816386
  [1m[36mTargeting Load (0.3ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 404816386[0m
  [1m[35mCreative Load (0.6ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 562391268
  [1m[36mTargeting Load (2.0ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 562391268[0m
  Rendered ads/index.html.erb within layouts/application (21.7ms)
Completed 200 OK in 27ms (Views: 23.0ms | ActiveRecord: 3.6ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------
AdsControllerTest: test_shouldnt_create_ad_creative_with_no_bid
---------------------------------------------------------------
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1
  [1m[36mAd Load (0.2ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1
  [1m[36mCreative Load (0.2ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1[0m
  [1m[35mTargeting Load (0.2ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.2ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `ads`
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>nil, "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered ads/_creative_fields.html.erb (1.4ms)
  Rendered ads/_creative_fields.html.erb (1.3ms)
  Rendered ads/_place_fields.html.erb (1.3ms)
  Rendered ads/_place_fields.html.erb (0.8ms)
  Rendered ads/_targeting_fields.html.erb (5.1ms)
  Rendered ads/_place_fields.html.erb (0.9ms)
  Rendered ads/_targeting_fields.html.erb (3.4ms)
  Rendered ads/_form.html.erb (16.6ms)
  Rendered ads/new.html.erb within layouts/application (17.1ms)
Completed 200 OK in 33ms (Views: 19.6ms | ActiveRecord: 0.4ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------------
AdsControllerTest: test_should_destroy_post
-------------------------------------------
  [1m[35mAd Load (0.7ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1
  [1m[36mAd Load (1.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1[0m
  [1m[35mCreative Load (1.5ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1[0m
  [1m[35mTargeting Load (0.3ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.3ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
  [1m[35mAd Load (0.2ms)[0m  SELECT  `ads`.* FROM `ads`  ORDER BY `ads`.`id` ASC LIMIT 1
Processing by AdsController#destroy as HTML
  Parameters: {"id"=>"404816386"}
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 404816386[0m
  [1m[35mTargeting Load (0.2ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 404816386
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `ads` WHERE `ads`.`id` = 404816386[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/ads
Completed 302 Found in 7ms (ActiveRecord: 1.4ms)
  [1m[36mAd Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1[0m
  [1m[35m (1.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------------------
AdsControllerTest: test_shouldnt_create_ad_no_targeting
-------------------------------------------------------
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1[0m
  [1m[35mCreative Load (0.5ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1[0m
  [1m[35mTargeting Load (0.3ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.3ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `ads`
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"42.0", "adText"=>"teste"}], "targetings_attributes"=>[]}}
  [1m[36m (1.6ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered ads/_creative_fields.html.erb (1.8ms)
  Rendered ads/_creative_fields.html.erb (6.7ms)
  Rendered ads/_place_fields.html.erb (1.8ms)
  Rendered ads/_targeting_fields.html.erb (6.8ms)
  Rendered ads/_form.html.erb (28.7ms)
  Rendered ads/new.html.erb within layouts/application (29.3ms)
Completed 200 OK in 50ms (Views: 35.0ms | ActiveRecord: 1.8ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_show_post
----------------------------------------
  [1m[35mAd Load (1.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1
  [1m[36mAd Load (3.6ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1[0m
  [1m[35mTargeting Load (0.3ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.3ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#show as HTML
  Parameters: {"id"=>"562391268"}
  [1m[35mAd Load (0.7ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `creatives` WHERE `creatives`.`ad_id` = 562391268 LIMIT 1[0m
  [1m[35mTargeting Exists (0.3ms)[0m  SELECT  1 AS one FROM `targetings` WHERE `targetings`.`ad_id` = 562391268 LIMIT 1
  Rendered ads/show.html.erb within layouts/application (13.2ms)
Completed 200 OK in 24ms (Views: 20.2ms | ActiveRecord: 1.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (2.3ms)[0m  [1mDELETE FROM `ads`[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO `ads` (`budget`, `created_at`, `updated_at`, `id`) VALUES (1234.0, '2016-06-21 18:07:27', '2016-06-21 18:07:27', 562391268)
  [1m[36mFixture Insert (1.6ms)[0m  [1mINSERT INTO `ads` (`budget`, `created_at`, `updated_at`, `id`) VALUES (NULL, '2016-06-21 18:07:27', '2016-06-21 18:07:27', 404816386)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `creatives`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (42.0, 'teste', 1, '2016-06-21 18:07:27', '2016-06-21 18:07:27', 562391268)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (999999.0, 'teste', 1, '2016-06-21 18:07:27', '2016-06-21 18:07:27', 914851422)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (999999.0, NULL, 1, '2016-06-21 18:07:27', '2016-06-21 18:07:27', 267816528)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES (NULL, 'teste', 1, '2016-06-21 18:07:27', '2016-06-21 18:07:27', 245101925)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `places`[0m
  [1m[35mFixture Insert (1.8ms)[0m  INSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`, `id`) VALUES ('bla', 1, '2016-06-21 18:07:27', '2016-06-21 18:07:27', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `places` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 18:07:27', '2016-06-21 18:07:27', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `targetings`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`, `id`) VALUES ('Male', 1, '2016-06-21 18:07:27', '2016-06-21 18:07:27', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `targetings` (`created_at`, `updated_at`, `id`) VALUES ('2016-06-21 18:07:27', '2016-06-21 18:07:27', 298486374)
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
AdsControllerTest: test_should_update_post
------------------------------------------
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1[0m
  [1m[35mCreative Load (0.2ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1[0m
  [1m[35mCreative Load (0.2ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1
  [1m[36mCreative Load (0.2ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1[0m
  [1m[35mTargeting Load (0.3ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.5ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#update as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"42.0", "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}, "id"=>"562391268"}
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 562391268
  [1m[36mTargeting Load (0.2ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 562391268[0m
  [1m[35mSQL (1.9ms)[0m  INSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`) VALUES (42.0, 'teste', 562391268, '2016-06-21 18:07:28', '2016-06-21 18:07:28')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`) VALUES ('Male', 562391268, '2016-06-21 18:07:28', '2016-06-21 18:07:28')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`) VALUES ('bla', 980190999, '2016-06-21 18:07:28', '2016-06-21 18:07:28')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/ads/562391268
Completed 302 Found in 41ms (ActiveRecord: 4.2ms)
  [1m[35m (2.0ms)[0m  ROLLBACK
  [1m[36m (4.4ms)[0m  [1mBEGIN[0m
------------------------------------------------------
AdsControllerTest: test_shouldnt_create_ad_no_creative
------------------------------------------------------
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1
  [1m[36mAd Load (0.2ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (0.2ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1
  [1m[36mCreative Load (1.6ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1[0m
  [1m[35mTargeting Load (0.4ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.3ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `ads`
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered ads/_creative_fields.html.erb (4.8ms)
  Rendered ads/_place_fields.html.erb (2.0ms)
  Rendered ads/_place_fields.html.erb (1.2ms)
  Rendered ads/_targeting_fields.html.erb (13.4ms)
  Rendered ads/_place_fields.html.erb (1.2ms)
  Rendered ads/_targeting_fields.html.erb (3.7ms)
  Rendered ads/_form.html.erb (41.4ms)
  Rendered ads/new.html.erb within layouts/application (47.8ms)
Completed 200 OK in 415ms (Views: 393.3ms | ActiveRecord: 0.5ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
  [1m[35m (0.6ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_show_post
----------------------------------------
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1
  [1m[36mAd Load (0.2ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (0.2ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1[0m
  [1m[35mCreative Load (0.2ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1
  [1m[36mCreative Load (0.2ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1[0m
  [1m[35mTargeting Load (0.3ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.2ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#show as HTML
  Parameters: {"id"=>"562391268"}
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `creatives` WHERE `creatives`.`ad_id` = 562391268 LIMIT 1[0m
  [1m[35mTargeting Exists (0.4ms)[0m  SELECT  1 AS one FROM `targetings` WHERE `targetings`.`ad_id` = 562391268 LIMIT 1
  Rendered ads/show.html.erb within layouts/application (26.7ms)
Completed 200 OK in 32ms (Views: 29.8ms | ActiveRecord: 1.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------
AdsControllerTest: test_should_get_edit
---------------------------------------
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1[0m
  [1m[35mAd Load (0.2ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1
  [1m[36mCreative Load (0.2ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1[0m
  [1m[35mCreative Load (0.2ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1
  [1m[36mCreative Load (0.2ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1[0m
  [1m[35mCreative Load (0.2ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1
  [1m[36mTargeting Load (0.3ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.3ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
Processing by AdsController#edit as HTML
  Parameters: {"id"=>"562391268"}
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 562391268
  Rendered ads/_creative_fields.html.erb (1.3ms)
  Rendered ads/_creative_fields.html.erb (0.9ms)
  [1m[36mTargeting Load (0.4ms)[0m  [1mSELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 562391268[0m
  Rendered ads/_place_fields.html.erb (1.4ms)
  Rendered ads/_place_fields.html.erb (1.4ms)
  Rendered ads/_targeting_fields.html.erb (6.6ms)
  Rendered ads/_place_fields.html.erb (0.9ms)
  Rendered ads/_targeting_fields.html.erb (8.2ms)
  Rendered ads/_form.html.erb (23.2ms)
  Rendered ads/edit.html.erb within layouts/application (24.4ms)
Completed 200 OK in 32ms (Views: 27.6ms | ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------
AdsControllerTest: test_shouldnt_create_ad_creative_with_no_adText
------------------------------------------------------------------
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1
  [1m[36mAd Load (0.2ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (0.2ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1[0m
  [1m[35mCreative Load (0.2ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1
  [1m[36mCreative Load (0.2ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1[0m
  [1m[35mTargeting Load (0.3ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.3ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `ads`
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"999999.0", "adText"=>nil}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
  Rendered ads/_creative_fields.html.erb (1.4ms)
  Rendered ads/_place_fields.html.erb (0.7ms)
  Rendered ads/_place_fields.html.erb (0.6ms)
  Rendered ads/_targeting_fields.html.erb (3.2ms)
  Rendered ads/_place_fields.html.erb (0.7ms)
  Rendered ads/_targeting_fields.html.erb (3.0ms)
  Rendered ads/_form.html.erb (13.1ms)
  Rendered ads/new.html.erb within layouts/application (13.5ms)
Completed 200 OK in 20ms (Views: 16.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------------------
AdsControllerTest: test_shouldnt_create_ad_no_budget
----------------------------------------------------
  [1m[35mAd Load (0.6ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1
  [1m[36mAd Load (0.4ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1[0m
  [1m[35mCreative Load (0.5ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1[0m
  [1m[35mTargeting Load (0.2ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.3ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `ads`
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>nil, "creatives_attributes"=>[{"bid"=>"42.0", "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
  Rendered ads/_creative_fields.html.erb (1.2ms)
  Rendered ads/_creative_fields.html.erb (1.6ms)
  Rendered ads/_place_fields.html.erb (0.8ms)
  Rendered ads/_place_fields.html.erb (32.6ms)
  Rendered ads/_targeting_fields.html.erb (36.4ms)
  Rendered ads/_place_fields.html.erb (1.1ms)
  Rendered ads/_targeting_fields.html.erb (4.3ms)
  Rendered ads/_form.html.erb (47.9ms)
  Rendered ads/new.html.erb within layouts/application (48.2ms)
Completed 200 OK in 57ms (Views: 51.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
AdsControllerTest: test_should_get_new
--------------------------------------
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1
  [1m[36mAd Load (0.2ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1[0m
  [1m[35mCreative Load (0.2ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (0.6ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1[0m
  [1m[35mCreative Load (0.4ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1[0m
  [1m[35mTargeting Load (0.4ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.3ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#new as HTML
  Rendered ads/_creative_fields.html.erb (2.0ms)
  Rendered ads/_creative_fields.html.erb (1.3ms)
  Rendered ads/_place_fields.html.erb (0.7ms)
  Rendered ads/_place_fields.html.erb (0.9ms)
  Rendered ads/_targeting_fields.html.erb (4.4ms)
  Rendered ads/_place_fields.html.erb (0.7ms)
  Rendered ads/_targeting_fields.html.erb (2.9ms)
  Rendered ads/_form.html.erb (14.4ms)
  Rendered ads/new.html.erb within layouts/application (14.8ms)
Completed 200 OK in 19ms (Views: 16.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------
AdsControllerTest: test_shouldnt_create_ad_no_targeting
-------------------------------------------------------
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1
  [1m[36mAd Load (0.2ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1[0m
  [1m[35mCreative Load (0.6ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1
  [1m[36mCreative Load (0.4ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1[0m
  [1m[35mTargeting Load (0.4ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.3ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `ads`
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"42.0", "adText"=>"teste"}], "targetings_attributes"=>[]}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered ads/_creative_fields.html.erb (1.3ms)
  Rendered ads/_creative_fields.html.erb (1.4ms)
  Rendered ads/_place_fields.html.erb (1.4ms)
  Rendered ads/_targeting_fields.html.erb (4.7ms)
  Rendered ads/_form.html.erb (12.8ms)
  Rendered ads/new.html.erb within layouts/application (13.5ms)
Completed 200 OK in 23ms (Views: 17.2ms | ActiveRecord: 0.4ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_create_ad
----------------------------------------
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1
  [1m[36mAd Load (0.2ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1[0m
  [1m[35mCreative Load (0.2ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (0.2ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1[0m
  [1m[35mTargeting Load (0.2ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.2ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `ads`
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"42.0", "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (10.5ms)[0m  INSERT INTO `ads` (`budget`, `created_at`, `updated_at`) VALUES (1234.0, '2016-06-21 18:07:28', '2016-06-21 18:07:28')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `creatives` (`bid`, `adText`, `ad_id`, `created_at`, `updated_at`) VALUES (42.0, 'teste', 980190987, '2016-06-21 18:07:28', '2016-06-21 18:07:28')[0m
  [1m[35mSQL (5.0ms)[0m  INSERT INTO `targetings` (`gender`, `ad_id`, `created_at`, `updated_at`) VALUES ('Male', 980190987, '2016-06-21 18:07:28', '2016-06-21 18:07:28')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `places` (`place`, `targeting_id`, `created_at`, `updated_at`) VALUES ('bla', 980191000, '2016-06-21 18:07:28', '2016-06-21 18:07:28')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/ads
Completed 302 Found in 34ms (ActiveRecord: 16.7ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
  [1m[35m (0.8ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
-------------------------------------------
AdsControllerTest: test_should_destroy_post
-------------------------------------------
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1
  [1m[36mCreative Load (0.2ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1[0m
  [1m[35mTargeting Load (0.3ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.2ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads`  ORDER BY `ads`.`id` ASC LIMIT 1
Processing by AdsController#destroy as HTML
  Parameters: {"id"=>"404816386"}
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 404816386[0m
  [1m[35mTargeting Load (0.3ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 404816386
  [1m[36mSQL (1.8ms)[0m  [1mDELETE FROM `ads` WHERE `ads`.`id` = 404816386[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/ads
Completed 302 Found in 6ms (ActiveRecord: 3.0ms)
  [1m[36mAd Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1[0m
  [1m[35m (0.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------
AdsControllerTest: test_shouldnt_create_ad_creative_with_no_bid
---------------------------------------------------------------
  [1m[35mAd Load (0.3ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (0.2ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1[0m
  [1m[35mCreative Load (0.2ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1[0m
  [1m[35mTargeting Load (0.3ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.2ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `ads`
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>nil, "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered ads/_creative_fields.html.erb (2.1ms)
  Rendered ads/_creative_fields.html.erb (2.1ms)
  Rendered ads/_place_fields.html.erb (1.2ms)
  Rendered ads/_place_fields.html.erb (1.1ms)
  Rendered ads/_targeting_fields.html.erb (6.2ms)
  Rendered ads/_place_fields.html.erb (1.0ms)
  Rendered ads/_targeting_fields.html.erb (4.0ms)
  Rendered ads/_form.html.erb (20.5ms)
  Rendered ads/new.html.erb within layouts/application (20.8ms)
Completed 200 OK in 45ms (Views: 24.6ms | ActiveRecord: 0.4ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
AdsControllerTest: test_should_get_index
----------------------------------------
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1
  [1m[36mAd Load (0.2ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1[0m
  [1m[35mCreative Load (0.2ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1
  [1m[36mCreative Load (0.2ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1[0m
  [1m[35mCreative Load (0.2ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1[0m
  [1m[35mTargeting Load (0.2ms)[0m  SELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1
  [1m[36mPlace Load (0.3ms)[0m  [1mSELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1[0m
Processing by AdsController#index as HTML
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` LIMIT 10 OFFSET 0
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 404816386[0m
  [1m[35mTargeting Load (0.3ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 404816386
  [1m[36mCreative Load (1.0ms)[0m  [1mSELECT `creatives`.* FROM `creatives` WHERE `creatives`.`ad_id` = 562391268[0m
  [1m[35mTargeting Load (0.2ms)[0m  SELECT `targetings`.* FROM `targetings` WHERE `targetings`.`ad_id` = 562391268
  Rendered ads/index.html.erb within layouts/application (11.9ms)
Completed 200 OK in 19ms (Views: 16.1ms | ActiveRecord: 2.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------------------------
AdsControllerTest: test_shouldnt_create_ad_bid_greater_than_budget
------------------------------------------------------------------
  [1m[36mAd Load (0.3ms)[0m  [1mSELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 562391268 LIMIT 1[0m
  [1m[35mAd Load (0.4ms)[0m  SELECT  `ads`.* FROM `ads` WHERE `ads`.`id` = 404816386 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 562391268 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 914851422 LIMIT 1
  [1m[36mCreative Load (0.3ms)[0m  [1mSELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 245101925 LIMIT 1[0m
  [1m[35mCreative Load (0.3ms)[0m  SELECT  `creatives`.* FROM `creatives` WHERE `creatives`.`id` = 267816528 LIMIT 1
  [1m[36mTargeting Load (0.3ms)[0m  [1mSELECT  `targetings`.* FROM `targetings` WHERE `targetings`.`id` = 980190962 LIMIT 1[0m
  [1m[35mPlace Load (0.2ms)[0m  SELECT  `places`.* FROM `places` WHERE `places`.`id` = 980190962 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `ads`[0m
Processing by AdsController#create as HTML
  Parameters: {"ad"=>{"budget"=>"1234.0", "creatives_attributes"=>[{"bid"=>"999999.0", "adText"=>"teste"}], "targetings_attributes"=>[{"gender"=>"Male", "places_attributes"=>[{"place"=>"bla"}]}]}}
  Rendered ads/_creative_fields.html.erb (2.0ms)
  Rendered ads/_creative_fields.html.erb (1.8ms)
  Rendered ads/_place_fields.html.erb (1.3ms)
  Rendered ads/_place_fields.html.erb (1.2ms)
  Rendered ads/_targeting_fields.html.erb (8.2ms)
  Rendered ads/_place_fields.html.erb (1.6ms)
  Rendered ads/_targeting_fields.html.erb (5.4ms)
  Rendered ads/_form.html.erb (22.9ms)
  Rendered ads/new.html.erb within layouts/application (24.1ms)
Completed 200 OK in 36ms (Views: 27.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `ads`
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
